(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zc={exports:{}},ol={},bc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=Symbol.for("react.element"),Xh=Symbol.for("react.portal"),Kh=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),Ou=Symbol.iterator;function ip(e){return e===null||typeof e!="object"?null:(e=Ou&&e[Ou]||e["@@iterator"],typeof e=="function"?e:null)}var qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ef=Object.assign,tf={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=tf,this.updater=n||qc}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nf(){}nf.prototype=Xr.prototype;function sa(e,t,n){this.props=e,this.context=t,this.refs=tf,this.updater=n||qc}var aa=sa.prototype=new nf;aa.constructor=sa;ef(aa,Xr.prototype);aa.isPureReactComponent=!0;var Du=Array.isArray,rf=Object.prototype.hasOwnProperty,ua={current:null},of={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,o={},l=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(l=""+t.key),t)rf.call(t,r)&&!of.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var d=Array(f),y=0;y<f;y++)d[y]=arguments[y+2];o.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:Wi,type:e,key:l,ref:u,props:o,_owner:ua.current}}function op(e,t){return{$$typeof:Wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ca(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wi}function lp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fu=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lp(""+e.key):t.toString(36)}function ko(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Wi:case Xh:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+Ol(u,0):r,Du(o)?(n="",e!=null&&(n=e.replace(Fu,"$&/")+"/"),ko(o,t,n,"",function(y){return y})):o!=null&&(ca(o)&&(o=op(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Fu,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Du(e))for(var f=0;f<e.length;f++){l=e[f];var d=r+Ol(l,f);u+=ko(l,t,n,d,o)}else if(d=ip(e),typeof d=="function")for(e=d.call(e),f=0;!(l=e.next()).done;)l=l.value,d=r+Ol(l,f++),u+=ko(l,t,n,d,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function io(e,t,n){if(e==null)return e;var r=[],o=0;return ko(e,r,"","",function(l){return t.call(n,l,o++)}),r}function sp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Eo={transition:null},ap={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:ua};function sf(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:io,forEach:function(e,t,n){io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!ca(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Xr;we.Fragment=Kh;we.Profiler=Zh;we.PureComponent=sa;we.StrictMode=Jh;we.Suspense=tp;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ap;we.act=sf;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ef({},e.props),o=e.key,l=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,u=ua.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(d in t)rf.call(t,d)&&!of.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&f!==void 0?f[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){f=Array(d);for(var y=0;y<d;y++)f[y]=arguments[y+2];r.children=f}return{$$typeof:Wi,type:e.type,key:o,ref:l,props:r,_owner:u}};we.createContext=function(e){return e={$$typeof:qh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bh,_context:e},e.Consumer=e};we.createElement=lf;we.createFactory=function(e){var t=lf.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:ep,render:e}};we.isValidElement=ca;we.lazy=function(e){return{$$typeof:rp,_payload:{_status:-1,_result:e},_init:sp}};we.memo=function(e,t){return{$$typeof:np,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=t}};we.unstable_act=sf;we.useCallback=function(e,t){return jt.current.useCallback(e,t)};we.useContext=function(e){return jt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};we.useEffect=function(e,t){return jt.current.useEffect(e,t)};we.useId=function(){return jt.current.useId()};we.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return jt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};we.useRef=function(e){return jt.current.useRef(e)};we.useState=function(e){return jt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return jt.current.useTransition()};we.version="18.3.1";bc.exports=we;var P=bc.exports;const up=Yh(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=P,fp=Symbol.for("react.element"),dp=Symbol.for("react.fragment"),hp=Object.prototype.hasOwnProperty,pp=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mp={key:!0,ref:!0,__self:!0,__source:!0};function af(e,t,n){var r,o={},l=null,u=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)hp.call(t,r)&&!mp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:fp,type:e,key:l,ref:u,props:o,_owner:pp.current}}ol.Fragment=dp;ol.jsx=af;ol.jsxs=af;Zc.exports=ol;var h=Zc.exports,fs={},uf={exports:{}},Ut={},cf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,le){var se=Z.length;Z.push(le);e:for(;0<se;){var me=se-1>>>1,ye=Z[me];if(0<o(ye,le))Z[me]=le,Z[se]=ye,se=me;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],se=Z.pop();if(se!==le){Z[0]=se;e:for(var me=0,ye=Z.length,Ue=ye>>>1;me<Ue;){var $e=2*(me+1)-1,Xe=Z[$e],Re=$e+1,V=Z[Re];if(0>o(Xe,se))Re<ye&&0>o(V,Xe)?(Z[me]=V,Z[Re]=se,me=Re):(Z[me]=Xe,Z[$e]=se,me=$e);else if(Re<ye&&0>o(V,se))Z[me]=V,Z[Re]=se,me=Re;else break e}}return le}function o(Z,le){var se=Z.sortIndex-le.sortIndex;return se!==0?se:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var d=[],y=[],C=1,M=null,j=3,D=!1,$=!1,U=!1,ce=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var le=n(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=Z)r(y),le.sortIndex=le.expirationTime,t(d,le);else break;le=n(y)}}function I(Z){if(U=!1,S(Z),!$)if(n(d)!==null)$=!0,_e(H);else{var le=n(y);le!==null&&Pe(I,le.startTime-Z)}}function H(Z,le){$=!1,U&&(U=!1,g(W),W=-1),D=!0;var se=j;try{for(S(le),M=n(d);M!==null&&(!(M.expirationTime>le)||Z&&!ue());){var me=M.callback;if(typeof me=="function"){M.callback=null,j=M.priorityLevel;var ye=me(M.expirationTime<=le);le=e.unstable_now(),typeof ye=="function"?M.callback=ye:M===n(d)&&r(d),S(le)}else r(d);M=n(d)}if(M!==null)var Ue=!0;else{var $e=n(y);$e!==null&&Pe(I,$e.startTime-le),Ue=!1}return Ue}finally{M=null,j=se,D=!1}}var q=!1,K=null,W=-1,he=5,X=-1;function ue(){return!(e.unstable_now()-X<he)}function Ie(){if(K!==null){var Z=e.unstable_now();X=Z;var le=!0;try{le=K(!0,Z)}finally{le?Ee():(q=!1,K=null)}}else q=!1}var Ee;if(typeof w=="function")Ee=function(){w(Ie)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,He=Ae.port2;Ae.port1.onmessage=Ie,Ee=function(){He.postMessage(null)}}else Ee=function(){ce(Ie,0)};function _e(Z){K=Z,q||(q=!0,Ee())}function Pe(Z,le){W=ce(function(){Z(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){$||D||($=!0,_e(H))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(Z){switch(j){case 1:case 2:case 3:var le=3;break;default:le=j}var se=j;j=le;try{return Z()}finally{j=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=j;j=Z;try{return le()}finally{j=se}},e.unstable_scheduleCallback=function(Z,le,se){var me=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?me+se:me):se=me,Z){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=se+ye,Z={id:C++,callback:le,priorityLevel:Z,startTime:se,expirationTime:ye,sortIndex:-1},se>me?(Z.sortIndex=se,t(y,Z),n(d)===null&&Z===n(y)&&(U?(g(W),W=-1):U=!0,Pe(I,se-me))):(Z.sortIndex=ye,t(d,Z),$||D||($=!0,_e(H))),Z},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(Z){var le=j;return function(){var se=j;j=le;try{return Z.apply(this,arguments)}finally{j=se}}}})(ff);cf.exports=ff;var vp=cf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=P,Bt=vp;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var df=new Set,ji={};function yr(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(ji[e]=t,e=0;e<t.length;e++)df.add(t[e])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=Object.prototype.hasOwnProperty,gp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bu={},Uu={};function wp(e){return ds.call(Uu,e)?!0:ds.call(Bu,e)?!1:gp.test(e)?Uu[e]=!0:(Bu[e]=!0,!1)}function Sp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xp(e,t,n,r){if(t===null||typeof t>"u"||Sp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,n,r,o,l,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=u}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fa=/[\-:]([a-z])/g;function da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fa,da);vt[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fa,da);vt[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fa,da);vt[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ha(e,t,n,r){var o=vt.hasOwnProperty(t)?vt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xp(t,n,o,r)&&(n=null),r||o===null?wp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rn=yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),pa=Symbol.for("react.strict_mode"),hs=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),pf=Symbol.for("react.context"),ma=Symbol.for("react.forward_ref"),ps=Symbol.for("react.suspense"),ms=Symbol.for("react.suspense_list"),va=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),mf=Symbol.for("react.offscreen"),$u=Symbol.iterator;function ri(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Dl;function fi(e){if(Dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||""}return`
`+Dl+e}var Fl=!1;function Bl(e,t){if(!e||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var o=y.stack.split(`
`),l=r.stack.split(`
`),u=o.length-1,f=l.length-1;1<=u&&0<=f&&o[u]!==l[f];)f--;for(;1<=u&&0<=f;u--,f--)if(o[u]!==l[f]){if(u!==1||f!==1)do if(u--,f--,0>f||o[u]!==l[f]){var d=`
`+o[u].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=u&&0<=f);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fi(e):""}function kp(e){switch(e.tag){case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function vs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Er:return"Portal";case hs:return"Profiler";case pa:return"StrictMode";case ps:return"Suspense";case ms:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pf:return(e.displayName||"Context")+".Consumer";case hf:return(e._context.displayName||"Context")+".Provider";case ma:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case va:return t=e.displayName||null,t!==null?t:vs(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return vs(e(t))}catch{}}return null}function Ep(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vs(t);case 8:return t===pa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cp(e){var t=vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,l.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=Cp(e))}function yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ys(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gf(e,t){t=t.checked,t!=null&&ha(e,"checked",t,!1)}function gs(e,t){gf(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ws(e,t.type,n):t.hasOwnProperty("defaultValue")&&ws(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ws(e,t,n){(t!=="number"||zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ss(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(di(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function wf(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var so,xf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=so.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jp=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){jp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function kf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function Ef(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=kf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Np=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ks(e,t){if(t){if(Np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Es(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,Or=null,Dr=null;function Qu(e){if(e=Gi(e)){if(typeof js!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=cl(t),js(e.stateNode,e.type,t))}}function Cf(e){Or?Dr?Dr.push(e):Dr=[e]:Or=e}function jf(){if(Or){var e=Or,t=Dr;if(Dr=Or=null,Qu(e),t)for(e=0;e<t.length;e++)Qu(t[e])}}function Nf(e,t){return e(t)}function _f(){}var Ul=!1;function Mf(e,t,n){if(Ul)return e(t,n);Ul=!0;try{return Nf(e,t,n)}finally{Ul=!1,(Or!==null||Dr!==null)&&(_f(),jf())}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var r=cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Ns=!1;if(Pn)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Ns=!1}function _p(e,t,n,r,o,l,u,f,d){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(C){this.onError(C)}}var vi=!1,Lo=null,Oo=!1,_s=null,Mp={onError:function(e){vi=!0,Lo=e}};function Pp(e,t,n,r,o,l,u,f,d){vi=!1,Lo=null,_p.apply(Mp,arguments)}function Tp(e,t,n,r,o,l,u,f,d){if(Pp.apply(this,arguments),vi){if(vi){var y=Lo;vi=!1,Lo=null}else throw Error(Y(198));Oo||(Oo=!0,_s=y)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yu(e){if(gr(e)!==e)throw Error(Y(188))}function Ip(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Yu(o),e;if(l===r)return Yu(o),t;l=l.sibling}throw Error(Y(188))}if(n.return!==r.return)n=o,r=l;else{for(var u=!1,f=o.child;f;){if(f===n){u=!0,n=o,r=l;break}if(f===r){u=!0,r=o,n=l;break}f=f.sibling}if(!u){for(f=l.child;f;){if(f===n){u=!0,n=l,r=o;break}if(f===r){u=!0,r=l,n=o;break}f=f.sibling}if(!u)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function Tf(e){return e=Ip(e),e!==null?If(e):null}function If(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=If(e);if(t!==null)return t;e=e.sibling}return null}var Af=Bt.unstable_scheduleCallback,Xu=Bt.unstable_cancelCallback,Ap=Bt.unstable_shouldYield,Rp=Bt.unstable_requestPaint,tt=Bt.unstable_now,zp=Bt.unstable_getCurrentPriorityLevel,ga=Bt.unstable_ImmediatePriority,Rf=Bt.unstable_UserBlockingPriority,Do=Bt.unstable_NormalPriority,Lp=Bt.unstable_LowPriority,zf=Bt.unstable_IdlePriority,ll=null,xn=null;function Op(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Bp,Dp=Math.log,Fp=Math.LN2;function Bp(e){return e>>>=0,e===0?32:31-(Dp(e)/Fp|0)|0}var ao=64,uo=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~o;f!==0?r=hi(f):(l&=u,l!==0&&(r=hi(l)))}else u=n&~o,u!==0?r=hi(u):l!==0&&(r=hi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sn(t),o=1<<n,r|=e[n],t&=~o;return r}function Up(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $p(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var u=31-sn(l),f=1<<u,d=o[u];d===-1?(!(f&n)||f&r)&&(o[u]=Up(f,t)):d<=t&&(e.expiredLanes|=f),l&=~f}}function Ms(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lf(){var e=ao;return ao<<=1,!(ao&4194240)&&(ao=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=n}function Wp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-sn(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function wa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Te=0;function Of(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Df,Sa,Ff,Bf,Uf,Ps=!1,co=[],Gn=null,Qn=null,Yn=null,Mi=new Map,Pi=new Map,$n=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(t.pointerId)}}function oi(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Gi(t),t!==null&&Sa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vp(e,t,n,r,o){switch(t){case"focusin":return Gn=oi(Gn,e,t,n,r,o),!0;case"dragenter":return Qn=oi(Qn,e,t,n,r,o),!0;case"mouseover":return Yn=oi(Yn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Mi.set(l,oi(Mi.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Pi.set(l,oi(Pi.get(l)||null,e,t,n,r,o)),!0}return!1}function $f(e){var t=sr(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=Pf(n),t!==null){e.blockedOn=t,Uf(e.priority,function(){Ff(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ts(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cs=r,n.target.dispatchEvent(r),Cs=null}else return t=Gi(n),t!==null&&Sa(t),e.blockedOn=n,!1;t.shift()}return!0}function Ju(e,t,n){Co(e)&&n.delete(t)}function Gp(){Ps=!1,Gn!==null&&Co(Gn)&&(Gn=null),Qn!==null&&Co(Qn)&&(Qn=null),Yn!==null&&Co(Yn)&&(Yn=null),Mi.forEach(Ju),Pi.forEach(Ju)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,Ps||(Ps=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,Gp)))}function Ti(e){function t(o){return li(o,e)}if(0<co.length){li(co[0],e);for(var n=1;n<co.length;n++){var r=co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gn!==null&&li(Gn,e),Qn!==null&&li(Qn,e),Yn!==null&&li(Yn,e),Mi.forEach(t),Pi.forEach(t),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)$f(n),n.blockedOn===null&&$n.shift()}var Fr=Rn.ReactCurrentBatchConfig,Bo=!0;function Qp(e,t,n,r){var o=Te,l=Fr.transition;Fr.transition=null;try{Te=1,xa(e,t,n,r)}finally{Te=o,Fr.transition=l}}function Yp(e,t,n,r){var o=Te,l=Fr.transition;Fr.transition=null;try{Te=4,xa(e,t,n,r)}finally{Te=o,Fr.transition=l}}function xa(e,t,n,r){if(Bo){var o=Ts(e,t,n,r);if(o===null)Zl(e,t,r,Uo,n),Ku(e,r);else if(Vp(o,e,t,n,r))r.stopPropagation();else if(Ku(e,r),t&4&&-1<Hp.indexOf(e)){for(;o!==null;){var l=Gi(o);if(l!==null&&Df(l),l=Ts(e,t,n,r),l===null&&Zl(e,t,r,Uo,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var Uo=null;function Ts(e,t,n,r){if(Uo=null,e=ya(r),e=sr(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uo=e,null}function Wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case ga:return 1;case Rf:return 4;case Do:case Lp:return 16;case zf:return 536870912;default:return 16}default:return 16}}var Hn=null,ka=null,jo=null;function Hf(){if(jo)return jo;var e,t=ka,n=t.length,r,o="value"in Hn?Hn.value:Hn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[l-r];r++);return jo=o.slice(e,1<r?1-r:void 0)}function No(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function Zu(){return!1}function $t(e){function t(n,r,o,l,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?fo:Zu,this.isPropagationStopped=Zu,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=$t(Kr),Vi=Ye({},Kr,{view:0,detail:0}),Xp=$t(Vi),Wl,Hl,si,sl=Ye({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Wl=e.screenX-si.screenX,Hl=e.screenY-si.screenY):Hl=Wl=0,si=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),bu=$t(sl),Kp=Ye({},sl,{dataTransfer:0}),Jp=$t(Kp),Zp=Ye({},Vi,{relatedTarget:0}),Vl=$t(Zp),bp=Ye({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=$t(bp),em=Ye({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tm=$t(em),nm=Ye({},Kr,{data:0}),qu=$t(nm),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function Ca(){return lm}var sm=Ye({},Vi,{key:function(e){if(e.key){var t=rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=No(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(e){return e.type==="keypress"?No(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?No(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),am=$t(sm),um=Ye({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=$t(um),cm=Ye({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),fm=$t(cm),dm=Ye({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=$t(dm),pm=Ye({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mm=$t(pm),vm=[9,13,27,32],ja=Pn&&"CompositionEvent"in window,yi=null;Pn&&"documentMode"in document&&(yi=document.documentMode);var ym=Pn&&"TextEvent"in window&&!yi,Vf=Pn&&(!ja||yi&&8<yi&&11>=yi),tc=" ",nc=!1;function Gf(e,t){switch(e){case"keyup":return vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function gm(e,t){switch(e){case"compositionend":return Qf(t);case"keypress":return t.which!==32?null:(nc=!0,tc);case"textInput":return e=t.data,e===tc&&nc?null:e;default:return null}}function wm(e,t){if(jr)return e==="compositionend"||!ja&&Gf(e,t)?(e=Hf(),jo=ka=Hn=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vf&&t.locale!=="ko"?null:t.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sm[e.type]:t==="textarea"}function Yf(e,t,n,r){Cf(r),t=$o(t,"onChange"),0<t.length&&(n=new Ea("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gi=null,Ii=null;function xm(e){id(e,0)}function al(e){var t=Mr(e);if(yf(t))return e}function km(e,t){if(e==="change")return t}var Xf=!1;if(Pn){var Gl;if(Pn){var Ql="oninput"in document;if(!Ql){var ic=document.createElement("div");ic.setAttribute("oninput","return;"),Ql=typeof ic.oninput=="function"}Gl=Ql}else Gl=!1;Xf=Gl&&(!document.documentMode||9<document.documentMode)}function oc(){gi&&(gi.detachEvent("onpropertychange",Kf),Ii=gi=null)}function Kf(e){if(e.propertyName==="value"&&al(Ii)){var t=[];Yf(t,Ii,e,ya(e)),Mf(xm,t)}}function Em(e,t,n){e==="focusin"?(oc(),gi=t,Ii=n,gi.attachEvent("onpropertychange",Kf)):e==="focusout"&&oc()}function Cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Ii)}function jm(e,t){if(e==="click")return al(t)}function Nm(e,t){if(e==="input"||e==="change")return al(t)}function _m(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:_m;function Ai(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ds.call(t,o)||!un(e[o],t[o]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var n=lc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lc(n)}}function Jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zf(){for(var e=window,t=zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zo(e.document)}return t}function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mm(e){var t=Zf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jf(n.ownerDocument.documentElement,n)){if(r!==null&&Na(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=sc(n,l);var u=sc(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pm=Pn&&"documentMode"in document&&11>=document.documentMode,Nr=null,Is=null,wi=null,As=!1;function ac(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;As||Nr==null||Nr!==zo(r)||(r=Nr,"selectionStart"in r&&Na(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wi&&Ai(wi,r)||(wi=r,r=$o(Is,"onSelect"),0<r.length&&(t=new Ea("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},Yl={},bf={};Pn&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function ul(e){if(Yl[e])return Yl[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bf)return Yl[e]=t[n];return e}var qf=ul("animationend"),ed=ul("animationiteration"),td=ul("animationstart"),nd=ul("transitionend"),rd=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){rd.set(e,t),yr(t,[e])}for(var Xl=0;Xl<uc.length;Xl++){var Kl=uc[Xl],Tm=Kl.toLowerCase(),Im=Kl[0].toUpperCase()+Kl.slice(1);tr(Tm,"on"+Im)}tr(qf,"onAnimationEnd");tr(ed,"onAnimationIteration");tr(td,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(nd,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Am=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function cc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tp(r,t,void 0,e),e.currentTarget=null}function id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],d=f.instance,y=f.currentTarget;if(f=f.listener,d!==l&&o.isPropagationStopped())break e;cc(o,f,y),l=d}else for(u=0;u<r.length;u++){if(f=r[u],d=f.instance,y=f.currentTarget,f=f.listener,d!==l&&o.isPropagationStopped())break e;cc(o,f,y),l=d}}}if(Oo)throw e=_s,Oo=!1,_s=null,e}function Fe(e,t){var n=t[Ds];n===void 0&&(n=t[Ds]=new Set);var r=e+"__bubble";n.has(r)||(od(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),od(n,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function Ri(e){if(!e[po]){e[po]=!0,df.forEach(function(n){n!=="selectionchange"&&(Am.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,Jl("selectionchange",!1,t))}}function od(e,t,n,r){switch(Wf(t)){case 1:var o=Qp;break;case 4:o=Yp;break;default:o=xa}n=o.bind(null,t,n,e),o=void 0,!Ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;f!==null;){if(u=sr(f),u===null)return;if(d=u.tag,d===5||d===6){r=l=u;continue e}f=f.parentNode}}r=r.return}Mf(function(){var y=l,C=ya(n),M=[];e:{var j=rd.get(e);if(j!==void 0){var D=Ea,$=e;switch(e){case"keypress":if(No(n)===0)break e;case"keydown":case"keyup":D=am;break;case"focusin":$="focus",D=Vl;break;case"focusout":$="blur",D=Vl;break;case"beforeblur":case"afterblur":D=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=fm;break;case qf:case ed:case td:D=qp;break;case nd:D=hm;break;case"scroll":D=Xp;break;case"wheel":D=mm;break;case"copy":case"cut":case"paste":D=tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=ec}var U=(t&4)!==0,ce=!U&&e==="scroll",g=U?j!==null?j+"Capture":null:j;U=[];for(var w=y,S;w!==null;){S=w;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,g!==null&&(I=_i(w,g),I!=null&&U.push(zi(w,I,S)))),ce)break;w=w.return}0<U.length&&(j=new D(j,$,null,n,C),M.push({event:j,listeners:U}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",j&&n!==Cs&&($=n.relatedTarget||n.fromElement)&&(sr($)||$[Tn]))break e;if((D||j)&&(j=C.window===C?C:(j=C.ownerDocument)?j.defaultView||j.parentWindow:window,D?($=n.relatedTarget||n.toElement,D=y,$=$?sr($):null,$!==null&&(ce=gr($),$!==ce||$.tag!==5&&$.tag!==6)&&($=null)):(D=null,$=y),D!==$)){if(U=bu,I="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(U=ec,I="onPointerLeave",g="onPointerEnter",w="pointer"),ce=D==null?j:Mr(D),S=$==null?j:Mr($),j=new U(I,w+"leave",D,n,C),j.target=ce,j.relatedTarget=S,I=null,sr(C)===y&&(U=new U(g,w+"enter",$,n,C),U.target=S,U.relatedTarget=ce,I=U),ce=I,D&&$)t:{for(U=D,g=$,w=0,S=U;S;S=kr(S))w++;for(S=0,I=g;I;I=kr(I))S++;for(;0<w-S;)U=kr(U),w--;for(;0<S-w;)g=kr(g),S--;for(;w--;){if(U===g||g!==null&&U===g.alternate)break t;U=kr(U),g=kr(g)}U=null}else U=null;D!==null&&fc(M,j,D,U,!1),$!==null&&ce!==null&&fc(M,ce,$,U,!0)}}e:{if(j=y?Mr(y):window,D=j.nodeName&&j.nodeName.toLowerCase(),D==="select"||D==="input"&&j.type==="file")var H=km;else if(rc(j))if(Xf)H=Nm;else{H=Cm;var q=Em}else(D=j.nodeName)&&D.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(H=jm);if(H&&(H=H(e,y))){Yf(M,H,n,C);break e}q&&q(e,j,y),e==="focusout"&&(q=j._wrapperState)&&q.controlled&&j.type==="number"&&ws(j,"number",j.value)}switch(q=y?Mr(y):window,e){case"focusin":(rc(q)||q.contentEditable==="true")&&(Nr=q,Is=y,wi=null);break;case"focusout":wi=Is=Nr=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,ac(M,n,C);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":ac(M,n,C)}var K;if(ja)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else jr?Gf(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(Vf&&n.locale!=="ko"&&(jr||W!=="onCompositionStart"?W==="onCompositionEnd"&&jr&&(K=Hf()):(Hn=C,ka="value"in Hn?Hn.value:Hn.textContent,jr=!0)),q=$o(y,W),0<q.length&&(W=new qu(W,e,null,n,C),M.push({event:W,listeners:q}),K?W.data=K:(K=Qf(n),K!==null&&(W.data=K)))),(K=ym?gm(e,n):wm(e,n))&&(y=$o(y,"onBeforeInput"),0<y.length&&(C=new qu("onBeforeInput","beforeinput",null,n,C),M.push({event:C,listeners:y}),C.data=K))}id(M,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=_i(e,n),l!=null&&r.unshift(zi(e,l,o)),l=_i(e,t),l!=null&&r.push(zi(e,l,o))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,n,r,o){for(var l=t._reactName,u=[];n!==null&&n!==r;){var f=n,d=f.alternate,y=f.stateNode;if(d!==null&&d===r)break;f.tag===5&&y!==null&&(f=y,o?(d=_i(n,l),d!=null&&u.unshift(zi(n,d,f))):o||(d=_i(n,l),d!=null&&u.push(zi(n,d,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Rm=/\r\n?/g,zm=/\u0000|\uFFFD/g;function dc(e){return(typeof e=="string"?e:""+e).replace(Rm,`
`).replace(zm,"")}function mo(e,t,n){if(t=dc(t),dc(e)!==t&&n)throw Error(Y(425))}function Wo(){}var Rs=null,zs=null;function Ls(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Os=typeof setTimeout=="function"?setTimeout:void 0,Lm=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,Om=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(Dm)}:Os;function Dm(e){setTimeout(function(){throw e})}function bl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ti(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ti(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Jr,Li="__reactProps$"+Jr,Tn="__reactContainer$"+Jr,Ds="__reactEvents$"+Jr,Fm="__reactListeners$"+Jr,Bm="__reactHandles$"+Jr;function sr(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pc(e);e!==null;){if(n=e[Sn])return n;e=pc(e)}return t}e=n,n=e.parentNode}return null}function Gi(e){return e=e[Sn]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function cl(e){return e[Li]||null}var Fs=[],Pr=-1;function nr(e){return{current:e}}function Be(e){0>Pr||(e.current=Fs[Pr],Fs[Pr]=null,Pr--)}function Oe(e,t){Pr++,Fs[Pr]=e.current,e.current=t}var er={},St=nr(er),It=nr(!1),dr=er;function Wr(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function At(e){return e=e.childContextTypes,e!=null}function Ho(){Be(It),Be(St)}function mc(e,t,n){if(St.current!==er)throw Error(Y(168));Oe(St,t),Oe(It,n)}function ld(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Y(108,Ep(e)||"Unknown",o));return Ye({},n,r)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,dr=St.current,Oe(St,e),Oe(It,It.current),!0}function vc(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=ld(e,t,dr),r.__reactInternalMemoizedMergedChildContext=e,Be(It),Be(St),Oe(St,e)):Be(It),Oe(It,n)}var jn=null,fl=!1,ql=!1;function sd(e){jn===null?jn=[e]:jn.push(e)}function Um(e){fl=!0,sd(e)}function rr(){if(!ql&&jn!==null){ql=!0;var e=0,t=Te;try{var n=jn;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jn=null,fl=!1}catch(o){throw jn!==null&&(jn=jn.slice(e+1)),Af(ga,rr),o}finally{Te=t,ql=!1}}return null}var Tr=[],Ir=0,Go=null,Qo=0,Gt=[],Qt=0,hr=null,Nn=1,_n="";function or(e,t){Tr[Ir++]=Qo,Tr[Ir++]=Go,Go=e,Qo=t}function ad(e,t,n){Gt[Qt++]=Nn,Gt[Qt++]=_n,Gt[Qt++]=hr,hr=e;var r=Nn;e=_n;var o=32-sn(r)-1;r&=~(1<<o),n+=1;var l=32-sn(t)+o;if(30<l){var u=o-o%5;l=(r&(1<<u)-1).toString(32),r>>=u,o-=u,Nn=1<<32-sn(t)+o|n<<o|r,_n=l+e}else Nn=1<<l|n<<o|r,_n=e}function _a(e){e.return!==null&&(or(e,1),ad(e,1,0))}function Ma(e){for(;e===Go;)Go=Tr[--Ir],Tr[Ir]=null,Qo=Tr[--Ir],Tr[Ir]=null;for(;e===hr;)hr=Gt[--Qt],Gt[Qt]=null,_n=Gt[--Qt],Gt[Qt]=null,Nn=Gt[--Qt],Gt[Qt]=null}var Ft=null,Dt=null,We=!1,on=null;function ud(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Dt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hr!==null?{id:Nn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ft=e,Dt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(We){var t=Dt;if(t){var n=t;if(!yc(e,t)){if(Bs(e))throw Error(Y(418));t=Xn(n.nextSibling);var r=Ft;t&&yc(e,t)?ud(r,n):(e.flags=e.flags&-4097|2,We=!1,Ft=e)}}else{if(Bs(e))throw Error(Y(418));e.flags=e.flags&-4097|2,We=!1,Ft=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function vo(e){if(e!==Ft)return!1;if(!We)return gc(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ls(e.type,e.memoizedProps)),t&&(t=Dt)){if(Bs(e))throw cd(),Error(Y(418));for(;t;)ud(e,t),t=Xn(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Ft?Xn(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=Dt;e;)e=Xn(e.nextSibling)}function Hr(){Dt=Ft=null,We=!1}function Pa(e){on===null?on=[e]:on.push(e)}var $m=Rn.ReactCurrentBatchConfig;function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(u){var f=o.refs;u===null?delete f[l]:f[l]=u},t._stringRef=l,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wc(e){var t=e._init;return t(e._payload)}function fd(e){function t(g,w){if(e){var S=g.deletions;S===null?(g.deletions=[w],g.flags|=16):S.push(w)}}function n(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function o(g,w){return g=bn(g,w),g.index=0,g.sibling=null,g}function l(g,w,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<w?(g.flags|=2,w):S):(g.flags|=2,w)):(g.flags|=1048576,w)}function u(g){return e&&g.alternate===null&&(g.flags|=2),g}function f(g,w,S,I){return w===null||w.tag!==6?(w=ls(S,g.mode,I),w.return=g,w):(w=o(w,S),w.return=g,w)}function d(g,w,S,I){var H=S.type;return H===Cr?C(g,w,S.props.children,I,S.key):w!==null&&(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Bn&&wc(H)===w.type)?(I=o(w,S.props),I.ref=ai(g,w,S),I.return=g,I):(I=Ro(S.type,S.key,S.props,null,g.mode,I),I.ref=ai(g,w,S),I.return=g,I)}function y(g,w,S,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=ss(S,g.mode,I),w.return=g,w):(w=o(w,S.children||[]),w.return=g,w)}function C(g,w,S,I,H){return w===null||w.tag!==7?(w=fr(S,g.mode,I,H),w.return=g,w):(w=o(w,S),w.return=g,w)}function M(g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ls(""+w,g.mode,S),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oo:return S=Ro(w.type,w.key,w.props,null,g.mode,S),S.ref=ai(g,null,w),S.return=g,S;case Er:return w=ss(w,g.mode,S),w.return=g,w;case Bn:var I=w._init;return M(g,I(w._payload),S)}if(di(w)||ri(w))return w=fr(w,g.mode,S,null),w.return=g,w;yo(g,w)}return null}function j(g,w,S,I){var H=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return H!==null?null:f(g,w,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case oo:return S.key===H?d(g,w,S,I):null;case Er:return S.key===H?y(g,w,S,I):null;case Bn:return H=S._init,j(g,w,H(S._payload),I)}if(di(S)||ri(S))return H!==null?null:C(g,w,S,I,null);yo(g,S)}return null}function D(g,w,S,I,H){if(typeof I=="string"&&I!==""||typeof I=="number")return g=g.get(S)||null,f(w,g,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case oo:return g=g.get(I.key===null?S:I.key)||null,d(w,g,I,H);case Er:return g=g.get(I.key===null?S:I.key)||null,y(w,g,I,H);case Bn:var q=I._init;return D(g,w,S,q(I._payload),H)}if(di(I)||ri(I))return g=g.get(S)||null,C(w,g,I,H,null);yo(w,I)}return null}function $(g,w,S,I){for(var H=null,q=null,K=w,W=w=0,he=null;K!==null&&W<S.length;W++){K.index>W?(he=K,K=null):he=K.sibling;var X=j(g,K,S[W],I);if(X===null){K===null&&(K=he);break}e&&K&&X.alternate===null&&t(g,K),w=l(X,w,W),q===null?H=X:q.sibling=X,q=X,K=he}if(W===S.length)return n(g,K),We&&or(g,W),H;if(K===null){for(;W<S.length;W++)K=M(g,S[W],I),K!==null&&(w=l(K,w,W),q===null?H=K:q.sibling=K,q=K);return We&&or(g,W),H}for(K=r(g,K);W<S.length;W++)he=D(K,g,W,S[W],I),he!==null&&(e&&he.alternate!==null&&K.delete(he.key===null?W:he.key),w=l(he,w,W),q===null?H=he:q.sibling=he,q=he);return e&&K.forEach(function(ue){return t(g,ue)}),We&&or(g,W),H}function U(g,w,S,I){var H=ri(S);if(typeof H!="function")throw Error(Y(150));if(S=H.call(S),S==null)throw Error(Y(151));for(var q=H=null,K=w,W=w=0,he=null,X=S.next();K!==null&&!X.done;W++,X=S.next()){K.index>W?(he=K,K=null):he=K.sibling;var ue=j(g,K,X.value,I);if(ue===null){K===null&&(K=he);break}e&&K&&ue.alternate===null&&t(g,K),w=l(ue,w,W),q===null?H=ue:q.sibling=ue,q=ue,K=he}if(X.done)return n(g,K),We&&or(g,W),H;if(K===null){for(;!X.done;W++,X=S.next())X=M(g,X.value,I),X!==null&&(w=l(X,w,W),q===null?H=X:q.sibling=X,q=X);return We&&or(g,W),H}for(K=r(g,K);!X.done;W++,X=S.next())X=D(K,g,W,X.value,I),X!==null&&(e&&X.alternate!==null&&K.delete(X.key===null?W:X.key),w=l(X,w,W),q===null?H=X:q.sibling=X,q=X);return e&&K.forEach(function(Ie){return t(g,Ie)}),We&&or(g,W),H}function ce(g,w,S,I){if(typeof S=="object"&&S!==null&&S.type===Cr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case oo:e:{for(var H=S.key,q=w;q!==null;){if(q.key===H){if(H=S.type,H===Cr){if(q.tag===7){n(g,q.sibling),w=o(q,S.props.children),w.return=g,g=w;break e}}else if(q.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Bn&&wc(H)===q.type){n(g,q.sibling),w=o(q,S.props),w.ref=ai(g,q,S),w.return=g,g=w;break e}n(g,q);break}else t(g,q);q=q.sibling}S.type===Cr?(w=fr(S.props.children,g.mode,I,S.key),w.return=g,g=w):(I=Ro(S.type,S.key,S.props,null,g.mode,I),I.ref=ai(g,w,S),I.return=g,g=I)}return u(g);case Er:e:{for(q=S.key;w!==null;){if(w.key===q)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(g,w.sibling),w=o(w,S.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else t(g,w);w=w.sibling}w=ss(S,g.mode,I),w.return=g,g=w}return u(g);case Bn:return q=S._init,ce(g,w,q(S._payload),I)}if(di(S))return $(g,w,S,I);if(ri(S))return U(g,w,S,I);yo(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(g,w.sibling),w=o(w,S),w.return=g,g=w):(n(g,w),w=ls(S,g.mode,I),w.return=g,g=w),u(g)):n(g,w)}return ce}var Vr=fd(!0),dd=fd(!1),Yo=nr(null),Xo=null,Ar=null,Ta=null;function Ia(){Ta=Ar=Xo=null}function Aa(e){var t=Yo.current;Be(Yo),e._currentValue=t}function $s(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){Xo=e,Ta=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Xo===null)throw Error(Y(308));Ar=e,Xo.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var ar=null;function Ra(e){ar===null?ar=[e]:ar.push(e)}function hd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ra(t)):(n.next=o.next,o.next=n),t.interleaved=n,In(e,r)}function In(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,In(e,n)}return o=r.interleaved,o===null?(t.next=t,Ra(r)):(t.next=o.next,o.next=t),r.interleaved=t,In(e,n)}function _o(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wa(e,n)}}function Sc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=u:l=l.next=u,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ko(e,t,n,r){var o=e.updateQueue;Un=!1;var l=o.firstBaseUpdate,u=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var d=f,y=d.next;d.next=null,u===null?l=y:u.next=y,u=d;var C=e.alternate;C!==null&&(C=C.updateQueue,f=C.lastBaseUpdate,f!==u&&(f===null?C.firstBaseUpdate=y:f.next=y,C.lastBaseUpdate=d))}if(l!==null){var M=o.baseState;u=0,C=y=d=null,f=l;do{var j=f.lane,D=f.eventTime;if((r&j)===j){C!==null&&(C=C.next={eventTime:D,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var $=e,U=f;switch(j=t,D=n,U.tag){case 1:if($=U.payload,typeof $=="function"){M=$.call(D,M,j);break e}M=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=U.payload,j=typeof $=="function"?$.call(D,M,j):$,j==null)break e;M=Ye({},M,j);break e;case 2:Un=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,j=o.effects,j===null?o.effects=[f]:j.push(f))}else D={eventTime:D,lane:j,tag:f.tag,payload:f.payload,callback:f.callback,next:null},C===null?(y=C=D,d=M):C=C.next=D,u|=j;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;j=f,f=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);if(C===null&&(d=M),o.baseState=d,o.firstBaseUpdate=y,o.lastBaseUpdate=C,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);mr|=u,e.lanes=u,e.memoizedState=M}}function xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Y(191,o));o.call(r)}}}var Qi={},kn=nr(Qi),Oi=nr(Qi),Di=nr(Qi);function ur(e){if(e===Qi)throw Error(Y(174));return e}function La(e,t){switch(Oe(Di,t),Oe(Oi,e),Oe(kn,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xs(t,e)}Be(kn),Oe(kn,t)}function Gr(){Be(kn),Be(Oi),Be(Di)}function md(e){ur(Di.current);var t=ur(kn.current),n=xs(t,e.type);t!==n&&(Oe(Oi,e),Oe(kn,n))}function Oa(e){Oi.current===e&&(Be(kn),Be(Oi))}var Ge=nr(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var es=[];function Da(){for(var e=0;e<es.length;e++)es[e]._workInProgressVersionPrimary=null;es.length=0}var Mo=Rn.ReactCurrentDispatcher,ts=Rn.ReactCurrentBatchConfig,pr=0,Qe=null,lt=null,ct=null,Zo=!1,Si=!1,Fi=0,Wm=0;function yt(){throw Error(Y(321))}function Fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Ba(e,t,n,r,o,l){if(pr=l,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?Qm:Ym,e=n(r,o),Si){l=0;do{if(Si=!1,Fi=0,25<=l)throw Error(Y(301));l+=1,ct=lt=null,t.updateQueue=null,Mo.current=Xm,e=n(r,o)}while(Si)}if(Mo.current=bo,t=lt!==null&&lt.next!==null,pr=0,ct=lt=Qe=null,Zo=!1,t)throw Error(Y(300));return e}function Ua(){var e=Fi!==0;return Fi=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Qe.memoizedState=ct=e:ct=ct.next=e,ct}function Jt(){if(lt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ct===null?Qe.memoizedState:ct.next;if(t!==null)ct=t,lt=e;else{if(e===null)throw Error(Y(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ct===null?Qe.memoizedState=ct=e:ct=ct.next=e}return ct}function Bi(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=Jt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=lt,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var u=o.next;o.next=l.next,l.next=u}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var f=u=null,d=null,y=l;do{var C=y.lane;if((pr&C)===C)d!==null&&(d=d.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var M={lane:C,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};d===null?(f=d=M,u=r):d=d.next=M,Qe.lanes|=C,mr|=C}y=y.next}while(y!==null&&y!==l);d===null?u=r:d.next=f,un(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Qe.lanes|=l,mr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rs(e){var t=Jt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do l=e(l,u.action),u=u.next;while(u!==o);un(l,t.memoizedState)||(Tt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function vd(){}function yd(e,t){var n=Qe,r=Jt(),o=t(),l=!un(r.memoizedState,o);if(l&&(r.memoizedState=o,Tt=!0),r=r.queue,$a(Sd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Ui(9,wd.bind(null,n,r,o,t),void 0,null),ft===null)throw Error(Y(349));pr&30||gd(n,t,o)}return o}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wd(e,t,n,r){t.value=n,t.getSnapshot=r,xd(t)&&kd(e)}function Sd(e,t,n){return n(function(){xd(t)&&kd(e)})}function xd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function kd(e){var t=In(e,1);t!==null&&an(t,e,1,-1)}function kc(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gm.bind(null,Qe,e),[t.memoizedState,e]}function Ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ed(){return Jt().memoizedState}function Po(e,t,n,r){var o=wn();Qe.flags|=e,o.memoizedState=Ui(1|t,n,void 0,r===void 0?null:r)}function dl(e,t,n,r){var o=Jt();r=r===void 0?null:r;var l=void 0;if(lt!==null){var u=lt.memoizedState;if(l=u.destroy,r!==null&&Fa(r,u.deps)){o.memoizedState=Ui(t,n,l,r);return}}Qe.flags|=e,o.memoizedState=Ui(1|t,n,l,r)}function Ec(e,t){return Po(8390656,8,e,t)}function $a(e,t){return dl(2048,8,e,t)}function Cd(e,t){return dl(4,2,e,t)}function jd(e,t){return dl(4,4,e,t)}function Nd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,n){return n=n!=null?n.concat([e]):null,dl(4,4,Nd.bind(null,t,e),n)}function Wa(){}function Md(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pd(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return pr&21?(un(n,t)||(n=Lf(),Qe.lanes|=n,mr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function Hm(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=ts.transition;ts.transition={};try{e(!1),t()}finally{Te=n,ts.transition=r}}function Id(){return Jt().memoizedState}function Vm(e,t,n){var r=Zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(e))Rd(t,n);else if(n=hd(e,t,n,r),n!==null){var o=Ct();an(n,e,r,o),zd(n,t,r)}}function Gm(e,t,n){var r=Zn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Rd(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var u=t.lastRenderedState,f=l(u,n);if(o.hasEagerState=!0,o.eagerState=f,un(f,u)){var d=t.interleaved;d===null?(o.next=o,Ra(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=hd(e,t,o,r),n!==null&&(o=Ct(),an(n,e,r,o),zd(n,t,r))}}function Ad(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Rd(e,t){Si=Zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wa(e,n)}}var bo={readContext:Kt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Qm={readContext:Kt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Ec,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Po(4194308,4,Nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vm.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:kc,useDebugValue:Wa,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=kc(!1),t=e[0];return e=Hm.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,o=wn();if(We){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),ft===null)throw Error(Y(349));pr&30||gd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Ec(Sd.bind(null,r,l,e),[e]),r.flags|=2048,Ui(9,wd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=wn(),t=ft.identifierPrefix;if(We){var n=_n,r=Nn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ym={readContext:Kt,useCallback:Md,useContext:Kt,useEffect:$a,useImperativeHandle:_d,useInsertionEffect:Cd,useLayoutEffect:jd,useMemo:Pd,useReducer:ns,useRef:Ed,useState:function(){return ns(Bi)},useDebugValue:Wa,useDeferredValue:function(e){var t=Jt();return Td(t,lt.memoizedState,e)},useTransition:function(){var e=ns(Bi)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:yd,useId:Id,unstable_isNewReconciler:!1},Xm={readContext:Kt,useCallback:Md,useContext:Kt,useEffect:$a,useImperativeHandle:_d,useInsertionEffect:Cd,useLayoutEffect:jd,useMemo:Pd,useReducer:rs,useRef:Ed,useState:function(){return rs(Bi)},useDebugValue:Wa,useDeferredValue:function(e){var t=Jt();return lt===null?t.memoizedState=e:Td(t,lt.memoizedState,e)},useTransition:function(){var e=rs(Bi)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:yd,useId:Id,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ws(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hl={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),o=Zn(e),l=Mn(r,o);l.payload=t,n!=null&&(l.callback=n),t=Kn(e,l,o),t!==null&&(an(t,e,o,r),_o(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),o=Zn(e),l=Mn(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Kn(e,l,o),t!==null&&(an(t,e,o,r),_o(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=Zn(e),o=Mn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Kn(e,o,r),t!==null&&(an(t,e,r,n),_o(t,e,r))}};function Cc(e,t,n,r,o,l,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,u):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,r)||!Ai(o,l):!0}function Ld(e,t,n){var r=!1,o=er,l=t.contextType;return typeof l=="object"&&l!==null?l=Kt(l):(o=At(t)?dr:St.current,r=t.contextTypes,l=(r=r!=null)?Wr(e,o):er),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function jc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},za(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Kt(l):(l=At(t)?dr:St.current,o.context=Wr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ws(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hl.enqueueReplaceState(o,o.state,null),Ko(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var n="",r=t;do n+=kp(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function is(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Km=typeof WeakMap=="function"?WeakMap:Map;function Od(e,t,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,ea=r),Vs(e,t)},n}function Dd(e,t,n){n=Mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Vs(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Vs(e,t),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Nc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Km;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=uv.bind(null,e,t,n),t.then(e,e))}function _c(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Jm=Rn.ReactCurrentOwner,Tt=!1;function Et(e,t,n,r){t.child=e===null?dd(t,null,n,r):Vr(t,e.child,n,r)}function Pc(e,t,n,r,o){n=n.render;var l=t.ref;return Br(t,o),r=Ba(e,t,n,r,l,o),n=Ua(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,An(e,t,o)):(We&&n&&_a(t),t.flags|=1,Et(e,t,r,o),t.child)}function Tc(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Ja(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Fd(e,t,l,r,o)):(e=Ro(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var u=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(u,r)&&e.ref===t.ref)return An(e,t,o)}return t.flags|=1,e=bn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Ai(l,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,An(e,t,o)}return Gs(e,t,n,r,o)}function Bd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(zr,Ot),Ot|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(zr,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Oe(zr,Ot),Ot|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Oe(zr,Ot),Ot|=r;return Et(e,t,o,n),t.child}function Ud(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gs(e,t,n,r,o){var l=At(n)?dr:St.current;return l=Wr(t,l),Br(t,o),n=Ba(e,t,n,r,l,o),r=Ua(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,An(e,t,o)):(We&&r&&_a(t),t.flags|=1,Et(e,t,n,o),t.child)}function Ic(e,t,n,r,o){if(At(n)){var l=!0;Vo(t)}else l=!1;if(Br(t,o),t.stateNode===null)To(e,t),Ld(t,n,r),Hs(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var d=u.context,y=n.contextType;typeof y=="object"&&y!==null?y=Kt(y):(y=At(n)?dr:St.current,y=Wr(t,y));var C=n.getDerivedStateFromProps,M=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function";M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||d!==y)&&jc(t,u,r,y),Un=!1;var j=t.memoizedState;u.state=j,Ko(t,r,u,o),d=t.memoizedState,f!==r||j!==d||It.current||Un?(typeof C=="function"&&(Ws(t,n,C,r),d=t.memoizedState),(f=Un||Cc(t,n,f,r,j,d,y))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),u.props=r,u.state=d,u.context=y,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,pd(e,t),f=t.memoizedProps,y=t.type===t.elementType?f:nn(t.type,f),u.props=y,M=t.pendingProps,j=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=Kt(d):(d=At(n)?dr:St.current,d=Wr(t,d));var D=n.getDerivedStateFromProps;(C=typeof D=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==M||j!==d)&&jc(t,u,r,d),Un=!1,j=t.memoizedState,u.state=j,Ko(t,r,u,o);var $=t.memoizedState;f!==M||j!==$||It.current||Un?(typeof D=="function"&&(Ws(t,n,D,r),$=t.memoizedState),(y=Un||Cc(t,n,y,r,j,$,d)||!1)?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,$,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,$,d)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=$),u.props=r,u.state=$,u.context=d,r=y):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return Qs(e,t,n,r,l,o)}function Qs(e,t,n,r,o,l){Ud(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&vc(t,n,!1),An(e,t,l);r=t.stateNode,Jm.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Vr(t,e.child,null,l),t.child=Vr(t,null,f,l)):Et(e,t,f,l),t.memoizedState=r.state,o&&vc(t,n,!0),t.child}function $d(e){var t=e.stateNode;t.pendingContext?mc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mc(e,t.context,!1),La(e,t.containerInfo)}function Ac(e,t,n,r,o){return Hr(),Pa(o),t.flags|=256,Et(e,t,n,r),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0};function Xs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,n){var r=t.pendingProps,o=Ge.current,l=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Oe(Ge,o&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,l?(r=t.mode,l=t.child,u={mode:"hidden",children:u},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=u):l=vl(u,r,0,null),e=fr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Xs(n),t.memoizedState=Ys,e):Ha(t,u));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return Zm(e,t,u,r,f,o,n);if(l){l=r.fallback,u=t.mode,o=e.child,f=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=bn(o,d),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?l=bn(f,l):(l=fr(l,u,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,u=e.child.memoizedState,u=u===null?Xs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=e.childLanes&~n,t.memoizedState=Ys,r}return l=e.child,e=l.sibling,r=bn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ha(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,n,r){return r!==null&&Pa(r),Vr(t,e.child,null,n),e=Ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zm(e,t,n,r,o,l,u){if(n)return t.flags&256?(t.flags&=-257,r=is(Error(Y(422))),go(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=vl({mode:"visible",children:r.children},o,0,null),l=fr(l,o,u,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Vr(t,e.child,null,u),t.child.memoizedState=Xs(u),t.memoizedState=Ys,l);if(!(t.mode&1))return go(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,l=Error(Y(419)),r=is(l,r,void 0),go(e,t,u,r)}if(f=(u&e.childLanes)!==0,Tt||f){if(r=ft,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,In(e,o),an(r,e,o,-1))}return Ka(),r=is(Error(Y(421))),go(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=cv.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Dt=Xn(o.nextSibling),Ft=t,We=!0,on=null,e!==null&&(Gt[Qt++]=Nn,Gt[Qt++]=_n,Gt[Qt++]=hr,Nn=e.id,_n=e.overflow,hr=t),t=Ha(t,r.children),t.flags|=4096,t)}function Rc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$s(e.return,t,n)}function os(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Hd(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Et(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rc(e,n,t);else if(e.tag===19)Rc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Jo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),os(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Jo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}os(t,!0,n,null,l);break;case"together":os(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function To(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bm(e,t,n){switch(t.tag){case 3:$d(t),Hr();break;case 5:md(t);break;case 1:At(t.type)&&Vo(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Oe(Yo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?Wd(e,t,n):(Oe(Ge,Ge.current&1),e=An(e,t,n),e!==null?e.sibling:null);Oe(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oe(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Bd(e,t,n)}return An(e,t,n)}var Vd,Ks,Gd,Qd;Vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ks=function(){};Gd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ur(kn.current);var l=null;switch(n){case"input":o=ys(e,o),r=ys(e,r),l=[];break;case"select":o=Ye({},o,{value:void 0}),r=Ye({},r,{value:void 0}),l=[];break;case"textarea":o=Ss(e,o),r=Ss(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wo)}ks(n,r);var u;n=null;for(y in o)if(!r.hasOwnProperty(y)&&o.hasOwnProperty(y)&&o[y]!=null)if(y==="style"){var f=o[y];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(ji.hasOwnProperty(y)?l||(l=[]):(l=l||[]).push(y,null));for(y in r){var d=r[y];if(f=o!=null?o[y]:void 0,r.hasOwnProperty(y)&&d!==f&&(d!=null||f!=null))if(y==="style")if(f){for(u in f)!f.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&f[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(l||(l=[]),l.push(y,n)),n=d;else y==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,f=f?f.__html:void 0,d!=null&&f!==d&&(l=l||[]).push(y,d)):y==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(y,""+d):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(ji.hasOwnProperty(y)?(d!=null&&y==="onScroll"&&Fe("scroll",e),l||f===d||(l=[])):(l=l||[]).push(y,d))}n&&(l=l||[]).push("style",n);var y=l;(t.updateQueue=y)&&(t.flags|=4)}};Qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ui(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qm(e,t,n){var r=t.pendingProps;switch(Ma(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return At(t.type)&&Ho(),gt(t),null;case 3:return r=t.stateNode,Gr(),Be(It),Be(St),Da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(ra(on),on=null))),Ks(e,t),gt(t),null;case 5:Oa(t);var o=ur(Di.current);if(n=t.type,e!==null&&t.stateNode!=null)Gd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return gt(t),null}if(e=ur(kn.current),vo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Sn]=t,r[Li]=l,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(o=0;o<pi.length;o++)Fe(pi[o],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Wu(r,l),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Fe("invalid",r);break;case"textarea":Vu(r,l),Fe("invalid",r)}ks(n,l),o=null;for(var u in l)if(l.hasOwnProperty(u)){var f=l[u];u==="children"?typeof f=="string"?r.textContent!==f&&(l.suppressHydrationWarning!==!0&&mo(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&mo(r.textContent,f,e),o=["children",""+f]):ji.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Fe("scroll",r)}switch(n){case"input":lo(r),Hu(r,l,!0);break;case"textarea":lo(r),Gu(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Wo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Sn]=t,e[Li]=r,Vd(e,t,!1,!1),t.stateNode=e;e:{switch(u=Es(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),o=r;break;case"iframe":case"object":case"embed":Fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<pi.length;o++)Fe(pi[o],e);o=r;break;case"source":Fe("error",e),o=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),o=r;break;case"details":Fe("toggle",e),o=r;break;case"input":Wu(e,r),o=ys(e,r),Fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ye({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":Vu(e,r),o=Ss(e,r),Fe("invalid",e);break;default:o=r}ks(n,o),f=o;for(l in f)if(f.hasOwnProperty(l)){var d=f[l];l==="style"?Ef(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&xf(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ni(e,d):typeof d=="number"&&Ni(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ji.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Fe("scroll",e):d!=null&&ha(e,l,d,u))}switch(n){case"input":lo(e),Hu(e,r,!1);break;case"textarea":lo(e),Gu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Lr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=ur(Di.current),ur(kn.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sn]=t,(l=r.nodeValue!==n)&&(e=Ft,e!==null))switch(e.tag){case 3:mo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=t,t.stateNode=r}return gt(t),null;case 13:if(Be(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Dt!==null&&t.mode&1&&!(t.flags&128))cd(),Hr(),t.flags|=98560,l=!1;else if(l=vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(Y(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Y(317));l[Sn]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),l=!1}else on!==null&&(ra(on),on=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?st===0&&(st=3):Ka())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Gr(),Ks(e,t),e===null&&Ri(t.stateNode.containerInfo),gt(t),null;case 10:return Aa(t.type._context),gt(t),null;case 17:return At(t.type)&&Ho(),gt(t),null;case 19:if(Be(Ge),l=t.memoizedState,l===null)return gt(t),null;if(r=(t.flags&128)!==0,u=l.rendering,u===null)if(r)ui(l,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Jo(e),u!==null){for(t.flags|=128,ui(l,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Ge,Ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&tt()>Yr&&(t.flags|=128,r=!0,ui(l,!1),t.lanes=4194304)}else{if(!r)if(e=Jo(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ui(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!We)return gt(t),null}else 2*tt()-l.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,r=!0,ui(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(n=l.last,n!==null?n.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tt(),t.sibling=null,n=Ge.current,Oe(Ge,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return Xa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function ev(e,t){switch(Ma(t),t.tag){case 1:return At(t.type)&&Ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),Be(It),Be(St),Da(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oa(t),null;case 13:if(Be(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ge),null;case 4:return Gr(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return Xa(),null;case 24:return null;default:return null}}var wo=!1,wt=!1,tv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){qe(e,t,r)}}var zc=!1;function nv(e,t){if(Rs=Bo,e=Zf(),Na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var u=0,f=-1,d=-1,y=0,C=0,M=e,j=null;t:for(;;){for(var D;M!==n||o!==0&&M.nodeType!==3||(f=u+o),M!==l||r!==0&&M.nodeType!==3||(d=u+r),M.nodeType===3&&(u+=M.nodeValue.length),(D=M.firstChild)!==null;)j=M,M=D;for(;;){if(M===e)break t;if(j===n&&++y===o&&(f=u),j===l&&++C===r&&(d=u),(D=M.nextSibling)!==null)break;M=j,j=M.parentNode}M=D}n=f===-1||d===-1?null:{start:f,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(zs={focusedElem:e,selectionRange:n},Bo=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var $=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if($!==null){var U=$.memoizedProps,ce=$.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?U:nn(t.type,U),ce);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(I){qe(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return $=zc,zc=!1,$}function xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Js(t,n,l)}o=o.next}while(o!==r)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yd(e){var t=e.alternate;t!==null&&(e.alternate=null,Yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[Li],delete t[Ds],delete t[Fm],delete t[Bm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xd(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wo));else if(r!==4&&(e=e.child,e!==null))for(bs(e,t,n),e=e.sibling;e!==null;)bs(e,t,n),e=e.sibling}function qs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qs(e,t,n),e=e.sibling;e!==null;)qs(e,t,n),e=e.sibling}var pt=null,rn=!1;function Fn(e,t,n){for(n=n.child;n!==null;)Kd(e,t,n),n=n.sibling}function Kd(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:wt||Rr(n,t);case 6:var r=pt,o=rn;pt=null,Fn(e,t,n),pt=r,rn=o,pt!==null&&(rn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(rn?(e=pt,n=n.stateNode,e.nodeType===8?bl(e.parentNode,n):e.nodeType===1&&bl(e,n),Ti(e)):bl(pt,n.stateNode));break;case 4:r=pt,o=rn,pt=n.stateNode.containerInfo,rn=!0,Fn(e,t,n),pt=r,rn=o;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,u=l.destroy;l=l.tag,u!==void 0&&(l&2||l&4)&&Js(n,t,u),o=o.next}while(o!==r)}Fn(e,t,n);break;case 1:if(!wt&&(Rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){qe(n,t,f)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,Fn(e,t,n),wt=r):Fn(e,t,n);break;default:Fn(e,t,n)}}function Oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tv),t.forEach(function(r){var o=fv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:pt=f.stateNode,rn=!1;break e;case 3:pt=f.stateNode.containerInfo,rn=!0;break e;case 4:pt=f.stateNode.containerInfo,rn=!0;break e}f=f.return}if(pt===null)throw Error(Y(160));Kd(l,u,o),pt=null,rn=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(y){qe(o,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jd(t,e),t=t.sibling}function Jd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),vn(e),r&4){try{xi(3,e,e.return),pl(3,e)}catch(U){qe(e,e.return,U)}try{xi(5,e,e.return)}catch(U){qe(e,e.return,U)}}break;case 1:tn(t,e),vn(e),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(tn(t,e),vn(e),r&512&&n!==null&&Rr(n,n.return),e.flags&32){var o=e.stateNode;try{Ni(o,"")}catch(U){qe(e,e.return,U)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,u=n!==null?n.memoizedProps:l,f=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&gf(o,l),Es(f,u);var y=Es(f,l);for(u=0;u<d.length;u+=2){var C=d[u],M=d[u+1];C==="style"?Ef(o,M):C==="dangerouslySetInnerHTML"?xf(o,M):C==="children"?Ni(o,M):ha(o,C,M,y)}switch(f){case"input":gs(o,l);break;case"textarea":wf(o,l);break;case"select":var j=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var D=l.value;D!=null?Lr(o,!!l.multiple,D,!1):j!==!!l.multiple&&(l.defaultValue!=null?Lr(o,!!l.multiple,l.defaultValue,!0):Lr(o,!!l.multiple,l.multiple?[]:"",!1))}o[Li]=l}catch(U){qe(e,e.return,U)}}break;case 6:if(tn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(Y(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(U){qe(e,e.return,U)}}break;case 3:if(tn(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(U){qe(e,e.return,U)}break;case 4:tn(t,e),vn(e);break;case 13:tn(t,e),vn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Qa=tt())),r&4&&Oc(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(y=wt)||C,tn(t,e),wt=y):tn(t,e),vn(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!C&&e.mode&1)for(oe=e,C=e.child;C!==null;){for(M=oe=C;oe!==null;){switch(j=oe,D=j.child,j.tag){case 0:case 11:case 14:case 15:xi(4,j,j.return);break;case 1:Rr(j,j.return);var $=j.stateNode;if(typeof $.componentWillUnmount=="function"){r=j,n=j.return;try{t=r,$.props=t.memoizedProps,$.state=t.memoizedState,$.componentWillUnmount()}catch(U){qe(r,n,U)}}break;case 5:Rr(j,j.return);break;case 22:if(j.memoizedState!==null){Fc(M);continue}}D!==null?(D.return=j,oe=D):Fc(M)}C=C.sibling}e:for(C=null,M=e;;){if(M.tag===5){if(C===null){C=M;try{o=M.stateNode,y?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=M.stateNode,d=M.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,f.style.display=kf("display",u))}catch(U){qe(e,e.return,U)}}}else if(M.tag===6){if(C===null)try{M.stateNode.nodeValue=y?"":M.memoizedProps}catch(U){qe(e,e.return,U)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;C===M&&(C=null),M=M.return}C===M&&(C=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:tn(t,e),vn(e),r&4&&Oc(e);break;case 21:break;default:tn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xd(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ni(o,""),r.flags&=-33);var l=Lc(e);qs(e,l,o);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Lc(e);bs(e,f,u);break;default:throw Error(Y(161))}}catch(d){qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rv(e,t,n){oe=e,Zd(e)}function Zd(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var o=oe,l=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||wo;if(!u){var f=o.alternate,d=f!==null&&f.memoizedState!==null||wt;f=wo;var y=wt;if(wo=u,(wt=d)&&!y)for(oe=o;oe!==null;)u=oe,d=u.child,u.tag===22&&u.memoizedState!==null?Bc(o):d!==null?(d.return=u,oe=d):Bc(o);for(;l!==null;)oe=l,Zd(l),l=l.sibling;oe=o,wo=f,wt=y}Dc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,oe=l):Dc(e)}}function Dc(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&xc(t,l,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xc(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var C=y.memoizedState;if(C!==null){var M=C.dehydrated;M!==null&&Ti(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}wt||t.flags&512&&Zs(t)}catch(j){qe(t,t.return,j)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Fc(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Bc(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(d){qe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){qe(t,o,d)}}var l=t.return;try{Zs(t)}catch(d){qe(t,l,d)}break;case 5:var u=t.return;try{Zs(t)}catch(d){qe(t,u,d)}}}catch(d){qe(t,t.return,d)}if(t===e){oe=null;break}var f=t.sibling;if(f!==null){f.return=t.return,oe=f;break}oe=t.return}}var iv=Math.ceil,qo=Rn.ReactCurrentDispatcher,Va=Rn.ReactCurrentOwner,Xt=Rn.ReactCurrentBatchConfig,je=0,ft=null,it=null,mt=0,Ot=0,zr=nr(0),st=0,$i=null,mr=0,ml=0,Ga=0,ki=null,Pt=null,Qa=0,Yr=1/0,Cn=null,el=!1,ea=null,Jn=null,So=!1,Vn=null,tl=0,Ei=0,ta=null,Io=-1,Ao=0;function Ct(){return je&6?tt():Io!==-1?Io:Io=tt()}function Zn(e){return e.mode&1?je&2&&mt!==0?mt&-mt:$m.transition!==null?(Ao===0&&(Ao=Lf()),Ao):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Wf(e.type)),e):1}function an(e,t,n,r){if(50<Ei)throw Ei=0,ta=null,Error(Y(185));Hi(e,n,r),(!(je&2)||e!==ft)&&(e===ft&&(!(je&2)&&(ml|=n),st===4&&Wn(e,mt)),Rt(e,r),n===1&&je===0&&!(t.mode&1)&&(Yr=tt()+500,fl&&rr()))}function Rt(e,t){var n=e.callbackNode;$p(e,t);var r=Fo(e,e===ft?mt:0);if(r===0)n!==null&&Xu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xu(n),t===1)e.tag===0?Um(Uc.bind(null,e)):sd(Uc.bind(null,e)),Om(function(){!(je&6)&&rr()}),n=null;else{switch(Of(r)){case 1:n=ga;break;case 4:n=Rf;break;case 16:n=Do;break;case 536870912:n=zf;break;default:n=Do}n=oh(n,bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bd(e,t){if(Io=-1,Ao=0,je&6)throw Error(Y(327));var n=e.callbackNode;if(Ur()&&e.callbackNode!==n)return null;var r=Fo(e,e===ft?mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nl(e,r);else{t=r;var o=je;je|=2;var l=eh();(ft!==e||mt!==t)&&(Cn=null,Yr=tt()+500,cr(e,t));do try{sv();break}catch(f){qd(e,f)}while(!0);Ia(),qo.current=l,je=o,it!==null?t=0:(ft=null,mt=0,t=st)}if(t!==0){if(t===2&&(o=Ms(e),o!==0&&(r=o,t=na(e,o))),t===1)throw n=$i,cr(e,0),Wn(e,r),Rt(e,tt()),n;if(t===6)Wn(e,r);else{if(o=e.current.alternate,!(r&30)&&!ov(o)&&(t=nl(e,r),t===2&&(l=Ms(e),l!==0&&(r=l,t=na(e,l))),t===1))throw n=$i,cr(e,0),Wn(e,r),Rt(e,tt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:lr(e,Pt,Cn);break;case 3:if(Wn(e,r),(r&130023424)===r&&(t=Qa+500-tt(),10<t)){if(Fo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Os(lr.bind(null,e,Pt,Cn),t);break}lr(e,Pt,Cn);break;case 4:if(Wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-sn(r);l=1<<u,u=t[u],u>o&&(o=u),r&=~l}if(r=o,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iv(r/1960))-r,10<r){e.timeoutHandle=Os(lr.bind(null,e,Pt,Cn),r);break}lr(e,Pt,Cn);break;case 5:lr(e,Pt,Cn);break;default:throw Error(Y(329))}}}return Rt(e,tt()),e.callbackNode===n?bd.bind(null,e):null}function na(e,t){var n=ki;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=nl(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&ra(t)),e}function ra(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function ov(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!un(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~Ga,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),r=1<<n;e[n]=-1,t&=~r}}function Uc(e){if(je&6)throw Error(Y(327));Ur();var t=Fo(e,0);if(!(t&1))return Rt(e,tt()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var r=Ms(e);r!==0&&(t=r,n=na(e,r))}if(n===1)throw n=$i,cr(e,0),Wn(e,t),Rt(e,tt()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,Pt,Cn),Rt(e,tt()),null}function Ya(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Yr=tt()+500,fl&&rr())}}function vr(e){Vn!==null&&Vn.tag===0&&!(je&6)&&Ur();var t=je;je|=1;var n=Xt.transition,r=Te;try{if(Xt.transition=null,Te=1,e)return e()}finally{Te=r,Xt.transition=n,je=t,!(je&6)&&rr()}}function Xa(){Ot=zr.current,Be(zr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lm(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Ma(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ho();break;case 3:Gr(),Be(It),Be(St),Da();break;case 5:Oa(r);break;case 4:Gr();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Aa(r.type._context);break;case 22:case 23:Xa()}n=n.return}if(ft=e,it=e=bn(e.current,null),mt=Ot=t,st=0,$i=null,Ga=ml=mr=0,Pt=ki=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var u=l.next;l.next=o,r.next=u}n.pending=r}ar=null}return e}function qd(e,t){do{var n=it;try{if(Ia(),Mo.current=bo,Zo){for(var r=Qe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Zo=!1}if(pr=0,ct=lt=Qe=null,Si=!1,Fi=0,Va.current=null,n===null||n.return===null){st=1,$i=t,it=null;break}e:{var l=e,u=n.return,f=n,d=t;if(t=mt,f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var y=d,C=f,M=C.tag;if(!(C.mode&1)&&(M===0||M===11||M===15)){var j=C.alternate;j?(C.updateQueue=j.updateQueue,C.memoizedState=j.memoizedState,C.lanes=j.lanes):(C.updateQueue=null,C.memoizedState=null)}var D=_c(u);if(D!==null){D.flags&=-257,Mc(D,u,f,l,t),D.mode&1&&Nc(l,y,t),t=D,d=y;var $=t.updateQueue;if($===null){var U=new Set;U.add(d),t.updateQueue=U}else $.add(d);break e}else{if(!(t&1)){Nc(l,y,t),Ka();break e}d=Error(Y(426))}}else if(We&&f.mode&1){var ce=_c(u);if(ce!==null){!(ce.flags&65536)&&(ce.flags|=256),Mc(ce,u,f,l,t),Pa(Qr(d,f));break e}}l=d=Qr(d,f),st!==4&&(st=2),ki===null?ki=[l]:ki.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=Od(l,d,t);Sc(l,g);break e;case 1:f=d;var w=l.type,S=l.stateNode;if(!(l.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Jn===null||!Jn.has(S)))){l.flags|=65536,t&=-t,l.lanes|=t;var I=Dd(l,f,t);Sc(l,I);break e}}l=l.return}while(l!==null)}nh(n)}catch(H){t=H,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function eh(){var e=qo.current;return qo.current=bo,e===null?bo:e}function Ka(){(st===0||st===3||st===2)&&(st=4),ft===null||!(mr&268435455)&&!(ml&268435455)||Wn(ft,mt)}function nl(e,t){var n=je;je|=2;var r=eh();(ft!==e||mt!==t)&&(Cn=null,cr(e,t));do try{lv();break}catch(o){qd(e,o)}while(!0);if(Ia(),je=n,qo.current=r,it!==null)throw Error(Y(261));return ft=null,mt=0,st}function lv(){for(;it!==null;)th(it)}function sv(){for(;it!==null&&!Ap();)th(it)}function th(e){var t=ih(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?nh(e):it=t,Va.current=null}function nh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ev(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,it=null;return}}else if(n=qm(n,t,Ot),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);st===0&&(st=5)}function lr(e,t,n){var r=Te,o=Xt.transition;try{Xt.transition=null,Te=1,av(e,t,n,r)}finally{Xt.transition=o,Te=r}return null}function av(e,t,n,r){do Ur();while(Vn!==null);if(je&6)throw Error(Y(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Wp(e,l),e===ft&&(it=ft=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,oh(Do,function(){return Ur(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Xt.transition,Xt.transition=null;var u=Te;Te=1;var f=je;je|=4,Va.current=null,nv(e,n),Jd(n,e),Mm(zs),Bo=!!Rs,zs=Rs=null,e.current=n,rv(n),Rp(),je=f,Te=u,Xt.transition=l}else e.current=n;if(So&&(So=!1,Vn=e,tl=o),l=e.pendingLanes,l===0&&(Jn=null),Op(n.stateNode),Rt(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(el)throw el=!1,e=ea,ea=null,e;return tl&1&&e.tag!==0&&Ur(),l=e.pendingLanes,l&1?e===ta?Ei++:(Ei=0,ta=e):Ei=0,rr(),null}function Ur(){if(Vn!==null){var e=Of(tl),t=Xt.transition,n=Te;try{if(Xt.transition=null,Te=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,tl=0,je&6)throw Error(Y(331));var o=je;for(je|=4,oe=e.current;oe!==null;){var l=oe,u=l.child;if(oe.flags&16){var f=l.deletions;if(f!==null){for(var d=0;d<f.length;d++){var y=f[d];for(oe=y;oe!==null;){var C=oe;switch(C.tag){case 0:case 11:case 15:xi(8,C,l)}var M=C.child;if(M!==null)M.return=C,oe=M;else for(;oe!==null;){C=oe;var j=C.sibling,D=C.return;if(Yd(C),C===y){oe=null;break}if(j!==null){j.return=D,oe=j;break}oe=D}}}var $=l.alternate;if($!==null){var U=$.child;if(U!==null){$.child=null;do{var ce=U.sibling;U.sibling=null,U=ce}while(U!==null)}}oe=l}}if(l.subtreeFlags&2064&&u!==null)u.return=l,oe=u;else e:for(;oe!==null;){if(l=oe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xi(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,oe=g;break e}oe=l.return}}var w=e.current;for(oe=w;oe!==null;){u=oe;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,oe=S;else e:for(u=w;oe!==null;){if(f=oe,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:pl(9,f)}}catch(H){qe(f,f.return,H)}if(f===u){oe=null;break e}var I=f.sibling;if(I!==null){I.return=f.return,oe=I;break e}oe=f.return}}if(je=o,rr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{Te=n,Xt.transition=t}}return!1}function $c(e,t,n){t=Qr(n,t),t=Od(e,t,1),e=Kn(e,t,1),t=Ct(),e!==null&&(Hi(e,1,t),Rt(e,t))}function qe(e,t,n){if(e.tag===3)$c(e,e,n);else for(;t!==null;){if(t.tag===3){$c(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Qr(n,e),e=Dd(t,e,1),t=Kn(t,e,1),e=Ct(),t!==null&&(Hi(t,1,e),Rt(t,e));break}}t=t.return}}function uv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(mt&n)===n&&(st===4||st===3&&(mt&130023424)===mt&&500>tt()-Qa?cr(e,0):Ga|=n),Rt(e,t)}function rh(e,t){t===0&&(e.mode&1?(t=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):t=1);var n=Ct();e=In(e,t),e!==null&&(Hi(e,t,n),Rt(e,n))}function cv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rh(e,n)}function fv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),rh(e,n)}var ih;ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,bm(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,We&&t.flags&1048576&&ad(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;To(e,t),e=t.pendingProps;var o=Wr(t,St.current);Br(t,n),o=Ba(null,t,r,e,o,n);var l=Ua();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(l=!0,Vo(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,za(t),o.updater=hl,t.stateNode=o,o._reactInternals=t,Hs(t,r,e,n),t=Qs(null,t,r,!0,l,n)):(t.tag=0,We&&l&&_a(t),Et(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(To(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=hv(r),e=nn(r,e),o){case 0:t=Gs(null,t,r,e,n);break e;case 1:t=Ic(null,t,r,e,n);break e;case 11:t=Pc(null,t,r,e,n);break e;case 14:t=Tc(null,t,r,nn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nn(r,o),Gs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nn(r,o),Ic(e,t,r,o,n);case 3:e:{if($d(t),e===null)throw Error(Y(387));r=t.pendingProps,l=t.memoizedState,o=l.element,pd(e,t),Ko(t,r,null,n);var u=t.memoizedState;if(r=u.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Qr(Error(Y(423)),t),t=Ac(e,t,r,n,o);break e}else if(r!==o){o=Qr(Error(Y(424)),t),t=Ac(e,t,r,n,o);break e}else for(Dt=Xn(t.stateNode.containerInfo.firstChild),Ft=t,We=!0,on=null,n=dd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=An(e,t,n);break e}Et(e,t,r,n)}t=t.child}return t;case 5:return md(t),e===null&&Us(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,u=o.children,Ls(r,o)?u=null:l!==null&&Ls(r,l)&&(t.flags|=32),Ud(e,t),Et(e,t,u,n),t.child;case 6:return e===null&&Us(t),null;case 13:return Wd(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):Et(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nn(r,o),Pc(e,t,r,o,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,u=o.value,Oe(Yo,r._currentValue),r._currentValue=u,l!==null)if(un(l.value,u)){if(l.children===o.children&&!It.current){t=An(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){u=l.child;for(var d=f.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=Mn(-1,n&-n),d.tag=2;var y=l.updateQueue;if(y!==null){y=y.shared;var C=y.pending;C===null?d.next=d:(d.next=C.next,C.next=d),y.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),$s(l.return,n,t),f.lanes|=n;break}d=d.next}}else if(l.tag===10)u=l.type===t.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(Y(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),$s(u,n,t),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}Et(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Br(t,n),o=Kt(o),r=r(o),t.flags|=1,Et(e,t,r,n),t.child;case 14:return r=t.type,o=nn(r,t.pendingProps),o=nn(r.type,o),Tc(e,t,r,o,n);case 15:return Fd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nn(r,o),To(e,t),t.tag=1,At(r)?(e=!0,Vo(t)):e=!1,Br(t,n),Ld(t,r,o),Hs(t,r,o,n),Qs(null,t,r,!0,e,n);case 19:return Hd(e,t,n);case 22:return Bd(e,t,n)}throw Error(Y(156,t.tag))};function oh(e,t){return Af(e,t)}function dv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,r){return new dv(e,t,n,r)}function Ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hv(e){if(typeof e=="function")return Ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ma)return 11;if(e===va)return 14}return 2}function bn(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ro(e,t,n,r,o,l){var u=2;if(r=e,typeof e=="function")Ja(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Cr:return fr(n.children,o,l,t);case pa:u=8,o|=8;break;case hs:return e=Yt(12,n,t,o|2),e.elementType=hs,e.lanes=l,e;case ps:return e=Yt(13,n,t,o),e.elementType=ps,e.lanes=l,e;case ms:return e=Yt(19,n,t,o),e.elementType=ms,e.lanes=l,e;case mf:return vl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hf:u=10;break e;case pf:u=9;break e;case ma:u=11;break e;case va:u=14;break e;case Bn:u=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Yt(u,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function fr(e,t,n,r){return e=Yt(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=Yt(22,e,r,t),e.elementType=mf,e.lanes=n,e.stateNode={isHidden:!1},e}function ls(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function ss(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Za(e,t,n,r,o,l,u,f,d){return e=new pv(e,t,n,f,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Yt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(l),e}function mv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lh(e){if(!e)return er;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(At(n))return ld(e,n,t)}return t}function sh(e,t,n,r,o,l,u,f,d){return e=Za(n,r,!0,e,o,l,u,f,d),e.context=lh(null),n=e.current,r=Ct(),o=Zn(n),l=Mn(r,o),l.callback=t??null,Kn(n,l,o),e.current.lanes=o,Hi(e,o,r),Rt(e,r),e}function yl(e,t,n,r){var o=t.current,l=Ct(),u=Zn(o);return n=lh(n),t.context===null?t.context=n:t.pendingContext=n,t=Mn(l,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(o,t,u),e!==null&&(an(e,o,u,l),_o(e,o,u)),u}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ba(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}function vv(){return null}var ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function qa(e){this._internalRoot=e}gl.prototype.render=qa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));yl(e,t,null,null)};gl.prototype.unmount=qa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){yl(null,e,null,null)}),t[Tn]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&$f(e)}};function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hc(){}function yv(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var y=rl(u);l.call(y)}}var u=sh(t,r,e,0,null,!1,!1,"",Hc);return e._reactRootContainer=u,e[Tn]=u.current,Ri(e.nodeType===8?e.parentNode:e),vr(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var y=rl(d);f.call(y)}}var d=Za(e,0,!1,null,null,!1,!1,"",Hc);return e._reactRootContainer=d,e[Tn]=d.current,Ri(e.nodeType===8?e.parentNode:e),vr(function(){yl(t,d,n,r)}),d}function Sl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var u=l;if(typeof o=="function"){var f=o;o=function(){var d=rl(u);f.call(d)}}yl(t,u,e,o)}else u=yv(n,t,e,o,r);return rl(u)}Df=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hi(t.pendingLanes);n!==0&&(wa(t,n|1),Rt(t,tt()),!(je&6)&&(Yr=tt()+500,rr()))}break;case 13:vr(function(){var r=In(e,1);if(r!==null){var o=Ct();an(r,e,1,o)}}),ba(e,1)}};Sa=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var n=Ct();an(t,e,134217728,n)}ba(e,134217728)}};Ff=function(e){if(e.tag===13){var t=Zn(e),n=In(e,t);if(n!==null){var r=Ct();an(n,e,t,r)}ba(e,t)}};Bf=function(){return Te};Uf=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};js=function(e,t,n){switch(t){case"input":if(gs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cl(r);if(!o)throw Error(Y(90));yf(r),gs(r,o)}}}break;case"textarea":wf(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};Nf=Ya;_f=vr;var gv={usingClientEntryPoint:!1,Events:[Gi,Mr,cl,Cf,jf,Ya]},ci={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wv={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tf(e),e===null?null:e.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||vv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{ll=xo.inject(wv),xn=xo}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;Ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eu(t))throw Error(Y(200));return mv(e,t,null,n)};Ut.createRoot=function(e,t){if(!eu(e))throw Error(Y(299));var n=!1,r="",o=ah;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Za(e,1,!1,null,null,n,!1,r,o),e[Tn]=t.current,Ri(e.nodeType===8?e.parentNode:e),new qa(t)};Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Tf(t),e=e===null?null:e.stateNode,e};Ut.flushSync=function(e){return vr(e)};Ut.hydrate=function(e,t,n){if(!wl(t))throw Error(Y(200));return Sl(null,e,t,!0,n)};Ut.hydrateRoot=function(e,t,n){if(!eu(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",u=ah;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=sh(t,null,e,1,n??null,o,!1,l,u),e[Tn]=t.current,Ri(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new gl(t)};Ut.render=function(e,t,n){if(!wl(t))throw Error(Y(200));return Sl(null,e,t,!1,n)};Ut.unmountComponentAtNode=function(e){if(!wl(e))throw Error(Y(40));return e._reactRootContainer?(vr(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};Ut.unstable_batchedUpdates=Ya;Ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wl(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Sl(e,t,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),uf.exports=Ut;var Sv=uf.exports,Vc=Sv;fs.createRoot=Vc.createRoot,fs.hydrateRoot=Vc.hydrateRoot;function xv({onStart:e}){const[t,n]=P.useState("1"),[r,o]=P.useState("individual"),[l,u]=P.useState("15"),f=()=>{if(!t||!l){alert("Please fill in all fields");return}const y={id:t,sessionGameId:t,condition:r,timeSeconds:parseInt(l)*60,date:new Date().toISOString().replace("T"," ").substring(0,19)};e(y)},d=()=>{window.close()};return h.jsx("div",{className:"dialog-overlay",children:h.jsxs("div",{className:"dialog-box",children:[h.jsx("h2",{children:"The Creative Game"}),h.jsxs("div",{className:"dialog-field",children:[h.jsx("label",{children:"ID:"}),h.jsx("input",{type:"text",value:t,onChange:y=>n(y.target.value)})]}),h.jsxs("div",{className:"dialog-field",children:[h.jsx("label",{children:"Condition:"}),h.jsxs("select",{value:r,onChange:y=>o(y.target.value),children:[h.jsx("option",{value:"individual",children:"individual"}),h.jsx("option",{value:"group",children:"group"})]})]}),h.jsxs("div",{className:"dialog-field",children:[h.jsx("label",{children:"Time (in minutes):"}),h.jsx("input",{type:"number",value:l,onChange:y=>u(y.target.value),min:"1"})]}),h.jsxs("div",{className:"dialog-buttons",children:[h.jsx("button",{className:"dialog-button",onClick:()=>{window.location.hash="/calibrate"},children:"Calibrate Colors"}),h.jsx("button",{className:"dialog-button ok",onClick:f,children:"OK"}),h.jsx("button",{className:"dialog-button cancel",onClick:d,children:"Cancel"})]})]})})}const kv=()=>{var e,t;try{return((t=(e=import.meta)==null?void 0:e.env)==null?void 0:t.VITE_API_BASE_URL)||"http://localhost:4000/api"}catch{return console.warn("[CSVLogger] Unable to read VITE_API_BASE_URL, falling back to default."),"http://localhost:4000/api"}};class Gc{constructor(t){this.subjectId=(t==null?void 0:t.id)||"",this.sessionId=(t==null?void 0:t.sessionGameId)||this.subjectId,this.condition=t==null?void 0:t.condition,this.date=t==null?void 0:t.date,this.timeSeconds=t==null?void 0:t.timeSeconds,this.logs=[],this.header=["date","id","sessionGameId","condition","phase","type","time","unit","end_position","all_positions","gallery_shape_number","gallery","gallery_normalized"],this.apiBaseUrl=kv(),this.sessionPromise=this.ensureSession(t)}async ensureSession(t){if(!this.sessionId||!this.subjectId){console.warn("[CSVLogger] Missing session or subject id; skipping server persistence.");return}const n={sessionGameId:this.sessionId,subjectId:this.subjectId,condition:this.condition,date:this.date,timeSeconds:this.timeSeconds,metadata:{config:t}};try{const r=await fetch(`${this.apiBaseUrl}/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Failed to initialize session (${r.status})`)}catch(r){console.error("[CSVLogger] Failed to initialize session on server:",r)}}async write(t){if(this.logs.push(t),!!this.sessionId)try{await this.sessionPromise;const n=await fetch(`${this.apiBaseUrl}/sessions/${encodeURIComponent(this.sessionId)}/moves`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to persist move (${n.status})`)}catch(n){console.error("[CSVLogger] Failed to persist move:",n)}}downloadCSV(){const t=[this.header.join(",")];this.logs.forEach(y=>{const C=this.header.map(M=>{const j=y[M];return j==null||j===""?"":Array.isArray(j)||typeof j=="object"?`"${JSON.stringify(j).replace(/"/g,'""')}"`:`"${String(j).replace(/"/g,'""')}"`});t.push(C.join(","))});const n=t.join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(r),f=new Date().toISOString().replace("T"," ").substring(0,19);o.setAttribute("href",l);const d=this.sessionId&&this.sessionId!==this.subjectId?`_${this.sessionId}`:"";o.setAttribute("download",`${this.subjectId}${d} (${f}).csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}clear(){this.logs=[]}}const Ev=.035;class Cv{constructor(){this.startTime=Date.now(),this.moves=[],this.braceletHistory=[],this.isTracking=!1,this.trackingWindow=1e3,this.lastKnownPlayer=null,this.sessionInfo=null,this.setupBraceletListener()}setupBraceletListener(){this.braceletInterval=setInterval(()=>{this.recordBraceletStatus()},100)}recordBraceletStatus(){if(!this.isTracking)return;const t=Date.now(),n=(t-this.startTime)/1e3,r=this.getCurrentBraceletStatus();if((r==="Player A"||r==="Player B")&&(this.lastKnownPlayer=r,this.braceletHistory.length>0)){const l=this.braceletHistory[this.braceletHistory.length-1];if(t-l.timestamp<200&&(l.status==="None"||l.status==="Unknown")){l.status=r,l.timestamp=t;return}}this.braceletHistory.push({timestamp:t,elapsed:n,status:r});const o=t-1e4;this.braceletHistory=this.braceletHistory.filter(l=>l.timestamp>=o)}getCurrentBraceletStatus(){return window.currentBraceletStatus?window.currentBraceletStatus:"None"}setSessionInfo(t={}){var n;this.sessionInfo={...t,startedAt:((n=this.sessionInfo)==null?void 0:n.startedAt)||new Date(this.startTime).toISOString()}}start(){this.isTracking=!0,this.startTime=Date.now(),this.moves=[],this.braceletHistory=[],this.sessionInfo&&(this.sessionInfo.startedAt=new Date(this.startTime).toISOString())}stop(){this.isTracking=!1,this.braceletInterval&&clearInterval(this.braceletInterval)}relativeToGrid(t){if(!t)return null;const n=r=>{const o=r/Ev,l=Math.round(o);return Math.max(-20,Math.min(20,l))};return[n(t[0]),n(t[1])]}recordMove(t,n=0,r=null){if(!this.isTracking)return;const o=Date.now(),l=(o-this.startTime)/1e3,u=t.player||this.determinePlayer(o),f=t.grid_end_position??(t.end_position?this.relativeToGrid(t.end_position):null),d=t.grid_all_positions??(t.all_positions?t.all_positions.map(j=>this.relativeToGrid(j)):null),y={timestamp:o,elapsed:l,player:u,holdTime:n,blockId:t.unit,position:f,allPositions:d,phase:t.phase,type:t.type,subjectId:t.id,sessionGameId:t.sessionGameId,condition:t.condition,date:t.date,end_position:t.end_position,all_positions:t.all_positions,grid_end_position:f,grid_all_positions:d};(r||t.camera_frame)&&(y.camera_frame=r||t.camera_frame),t.gallery_shape_number!==void 0&&(y.gallery_shape_number=t.gallery_shape_number,y.gallery=t.gallery,y.gallery_normalized=t.gallery_normalized,y.grid_gallery=t.grid_gallery??(t.gallery?t.gallery.map(j=>this.relativeToGrid(j)):null),y.grid_gallery_normalized=t.grid_gallery_normalized??(t.gallery_normalized?t.gallery_normalized.map(j=>this.relativeToGrid(j)):null)),this.moves.push(y);const C=this.getCurrentBraceletStatus(),M=this.lastKnownPlayer;console.log("[GameTracker] Move recorded:",{player:u,blockId:t.unit,position:f,holdTime:n.toFixed(2)+"s",elapsed:l.toFixed(2)+"s",phase:t.phase,debug:{currentStatus:C,lastKnownPlayer:M,historyLength:this.braceletHistory.length,recentHistory:this.braceletHistory.slice(-5).map(j=>({status:j.status,elapsed:j.elapsed.toFixed(2)}))}})}determinePlayer(t){const n=this.getCurrentBraceletStatus();if(n==="Player A"||n==="Player B")return n;let r=this.findStatusAtTime(t);if(r&&(r.status==="Player A"||r.status==="Player B"))return r.status;const o=t-this.trackingWindow,l=t+this.trackingWindow,u=this.braceletHistory.filter(f=>f.timestamp>=o&&f.timestamp<=l);if(u.length>0){const f={};u.forEach(y=>{(y.status==="Player A"||y.status==="Player B")&&(f[y.status]=(f[y.status]||0)+1)});const d=Object.keys(f).reduce((y,C)=>f[y]>f[C]?y:C,null);if(d)return d}return this.lastKnownPlayer?this.lastKnownPlayer:n!=="None"?n:"Unknown"}findStatusAtTime(t){if(this.braceletHistory.length===0)return null;let n=null,r=1/0;for(const o of this.braceletHistory){const l=Math.abs(o.timestamp-t);l<r&&l<=1e3&&(r=l,n=o)}return n}exportToJSON(){const t={startTime:new Date(this.startTime).toISOString(),endTime:new Date().toISOString(),duration:(Date.now()-this.startTime)/1e3,sessionInfo:this.sessionInfo,moves:this.moves,braceletHistory:this.braceletHistory,summary:{totalMoves:this.moves.length,movesByPlayer:this.getMovesByPlayer(),movesByPhase:this.getMovesByPhase()}};return JSON.stringify(t,null,2)}getMovesByPlayer(){const t={};return this.moves.forEach(n=>{t[n.player]=(t[n.player]||0)+1}),t}getMovesByPhase(){const t={};return this.moves.forEach(n=>{const r=n.phase||"unknown";t[r]=(t[r]||0)+1}),t}downloadJSON(){var u,f;const t=this.exportToJSON(),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r;const l=((u=this.sessionInfo)==null?void 0:u.sessionGameId)||((f=this.sessionInfo)==null?void 0:f.id)||"game_session";o.download=`${l}_${new Date().toISOString().split("T")[0]}_${Date.now()}.json`,o.click(),URL.revokeObjectURL(r)}static loadFromJSON(t){try{return JSON.parse(t)}catch(n){return console.error("Failed to parse game JSON:",n),null}}}let as=null;const ia=()=>(as||(as=new Cv),as),ln=.07,Ci=()=>[[-.315,0],[-.245,0],[-.175,0],[-.105,0],[-.035,0],[.035,0],[.105,0],[.175,0],[.245,0],[.315,0]].map((t,n)=>({id:n,position:[...t],neighbors:[],canMove:!1})),Ve=e=>Math.round(e*1e3)/1e3,jv=(e,t)=>{let n=[];e.forEach(l=>{if(l.id!==t){const u=[[Ve(l.position[0]-ln),Ve(l.position[1])],[Ve(l.position[0]+ln),Ve(l.position[1])],[Ve(l.position[0]),Ve(l.position[1]-ln)],[Ve(l.position[0]),Ve(l.position[1]+ln)]];n.push(...u)}});const r=new Set(n.map(l=>`${l[0]},${l[1]}`));n=Array.from(r).map(l=>l.split(",").map(Number));const o=e.map(l=>`${l.position[0]},${l.position[1]}`);return n=n.filter(l=>!o.includes(`${l[0]},${l[1]}`)),n=n.filter(l=>l[0]<.735&&l[0]>-.735&&l[1]<.42&&l[1]>-.49),n},Nv=(e,t)=>{if(e.length===0)return t;let n=1/0,r=e[0];return e.forEach(o=>{const l=Math.sqrt(Math.pow(o[0]-t[0],2)+Math.pow(o[1]-t[1],2));l<n&&(n=l,r=o)}),r},oa=e=>e.map(t=>{const n=[],r=[[Ve(t.position[0]-ln),Ve(t.position[1])],[Ve(t.position[0]+ln),Ve(t.position[1])],[Ve(t.position[0]),Ve(t.position[1]-ln)],[Ve(t.position[0]),Ve(t.position[1]+ln)]];return e.forEach(o=>{r.forEach(l=>{Ve(o.position[0])===l[0]&&Ve(o.position[1])===l[1]&&n.push(o.position)})}),{...t,neighbors:n}}),_v=e=>{const t=new Set;if(e.forEach((u,f)=>{u.forEach((d,y)=>{d&&t.add(`${f},${y}`)})}),t.size===0)return!0;const n=[[0,1],[1,0],[-1,0],[0,-1]],r=Array.from(t)[0].split(",").map(Number),o=new Set,l=[r];for(;l.length>0;){const[u,f]=l.shift(),d=`${u},${f}`;o.has(d)||(o.add(d),n.forEach(([y,C])=>{const M=`${u+y},${f+C}`;t.has(M)&&!o.has(M)&&l.push([u+y,f+C])}))}return o.size===t.size},Mv=(e,t)=>{const n=[];for(let l=-.945;l<=1.015;l+=ln)n.push(Ve(l));const r=[];for(let l=-.7;l<0;l+=ln)r.push(Ve(l));for(let l=0;l<=.77;l+=ln)r.push(Ve(l));const o=Array(r.length).fill(null).map(()=>Array(n.length).fill(!1));return e.forEach((l,u)=>{if(u!==t){const f=n.findIndex(y=>Math.abs(y-l[0])<.001),d=r.findIndex(y=>Math.abs(y-l[1])<.001);f!==-1&&d!==-1&&(o[d][f]=!0)}}),_v(o)},la=(e,t)=>{const n=e.map(r=>r.position);return e.map((r,o)=>{const l=Mv(n,o);return{...r,canMove:l,color:t&&l?"blue":"green"}})},Qc=e=>{if(e.length===0)return null;try{const t=e.map(C=>C[0]),n=e.map(C=>C[1]),r=(Math.max(...t)+Math.min(...t))/2,o=(Math.max(...n)+Math.min(...n))/2;let l=1/0,u=e[0];e.forEach(C=>{const M=Math.sqrt(Math.pow(C[0]-r,2)+Math.pow(C[1]-o,2));M<l&&(l=M,u=C)});const f=-u[0],d=-u[1],y=e.map(C=>[Ve(C[0]+f),Ve(C[1]+d)]);return y.sort((C,M)=>C[0]-M[0]||C[1]-M[1]),y}catch{return null}},Pv=60,Yc=.07,us=120;function Tv({config:e,interfaceHidden:t=!1}){const[n,r]=P.useState(Ci()),[o,l]=P.useState(null),[u,f]=P.useState({x:0,y:0}),[d,y]=P.useState(!0),[C,M]=P.useState(e.timeSeconds),[j,D]=P.useState(0),[$,U]=P.useState(null),[ce,g]=P.useState(!0),[w,S]=P.useState(""),[I,H]=P.useState({blockSize:Pv,bottomPadding:us}),q=P.useRef(null),K=P.useRef(new Gc(e)),W=P.useRef(ia()),he=P.useRef(null),X=P.useRef(Date.now()),ue=P.useRef(us),Ie=`Welcome to the creative game!

Your task is to move around blocks to create interesting and beautiful figures.

Everytime you have created a figure you like, tap on the gallery in the upper right corner in order to save your figure to the gallery.

The experiment proceeds through ${e.timeSeconds/60} minutes.

Tell the experimenter when you are ready for the practice round.`,Ee=`This was the end of the practice round.

Let the experimenter know when you are ready to begin the actual experiment.`,Ae="The experiment is done. Thank you very much for your participation!",He=P.useCallback(()=>{const O=q.current;if(!O)return;const B=O.offsetWidth,J=O.offsetHeight;if(!B||!J)return;const L=ue.current||us;let Q=Math.max(1,Math.min(B,J-L)),b=Math.max(38,Math.min(Q*Yc*.95,Q/4)),R=Math.max(b*2.5,110);Q=Math.max(1,Math.min(B,J-R)),b=Math.max(38,Math.min(Q*Yc*.95,Q/4)),R=Math.max(b*2.5,110),ue.current=R,H(E=>{const A=Math.abs(E.blockSize-b),N=Math.abs(E.bottomPadding-R);return A<.5&&N<.5?E:{blockSize:b,bottomPadding:R}})},[]);P.useEffect(()=>(S(Ie),W.current.start(),W.current.setSessionInfo({id:e.id,sessionGameId:e.sessionGameId,condition:e.condition,timeSeconds:e.timeSeconds,date:e.date}),console.log("[GameCanvas] Game tracker started"),()=>{W.current.stop()}),[]),P.useEffect(()=>{He()},[He,t]),P.useEffect(()=>{const O=()=>{He()};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[He]),P.useEffect(()=>{if(!d&&C>0){const O=setInterval(()=>{M(B=>B<=1?(clearInterval(O),g(!0),S(Ae),setTimeout(()=>{K.current.downloadCSV(),W.current.downloadJSON()},1e3),0):B-1)},1e3);return()=>clearInterval(O)}},[d,C]),P.useEffect(()=>{r(O=>la(oa(O),d))},[d]);const _e=()=>(Date.now()-X.current)/1e3,Pe=(O,B)=>{const J=q.current;if(!J)return 0;const L=J.offsetHeight-ue.current,Q=Math.min(J.offsetWidth,L),b=B==="x"?(J.offsetWidth-Q)/2:(J.offsetHeight-ue.current-Q)/2;return(O-b)/Q-.5},Z=(O,B)=>{const J=q.current;if(!J)return 0;const L=J.offsetHeight-ue.current,Q=Math.min(J.offsetWidth,L),b=B==="x"?(J.offsetWidth-Q)/2:(J.offsetHeight-ue.current-Q)/2;return(O+.5)*Q+b},le=O=>{var Q,b,R,E;const B=q.current.getBoundingClientRect(),J=O.clientX!==void 0?O.clientX:(b=(Q=O.touches)==null?void 0:Q[0])==null?void 0:b.clientX,L=O.clientY!==void 0?O.clientY:(E=(R=O.touches)==null?void 0:R[0])==null?void 0:E.clientY;return{x:J-B.left,y:L-B.top}},se=(O,B)=>{const J=n.find(R=>R.id===B);if(!J||!J.canMove)return;O.preventDefault();const L=le(O),Q=Z(J.position[0],"x"),b=Z(J.position[1],"y");he.current=Date.now(),l(B),f({x:L.x-Q,y:L.y-b})},me=O=>{if(o===null)return;O.preventDefault();const B=le(O),J=Pe(B.x-u.x,"x"),L=Pe(B.y-u.y,"y");r(Q=>Q.map(b=>b.id===o?{...b,position:[J,L]}:b))},ye=()=>{try{const O=window.braceletDetectorCanvas,B=window.braceletDetectorVideo;let J=null;if(O&&O.width>0&&O.height>0?J=O:B&&B.videoWidth>0&&B.videoHeight>0&&(J=B),!J)return console.warn("[GameCanvas] No camera source available for frame capture"),null;const L=document.createElement("canvas"),Q=640,b=480;let R=J.videoWidth||J.width,E=J.videoHeight||J.height;const A=R/E;return R>Q&&(R=Q,E=R/A),E>b&&(E=b,R=E*A),L.width=Math.floor(R),L.height=Math.floor(E),L.getContext("2d").drawImage(J,0,0,L.width,L.height),L.toDataURL("image/jpeg",.6)}catch(O){return console.error("[GameCanvas] Error capturing camera frame:",O),null}},Ue=()=>{if(o===null)return;const O=n.find(A=>A.id===o),B=jv(n,o),J=Nv(B,O.position),L=he.current?(Date.now()-he.current)/1e3:0,Q=n.map(A=>A.id===o?{...A,position:J}:A),b=ye(),R=window.currentBraceletStatus||"Unknown",E={date:e.date,id:e.id,sessionGameId:e.sessionGameId,condition:e.condition,phase:d?"practice":"experiment",type:"moveblock",time:_e(),unit:o,end_position:J,all_positions:Q.map(A=>A.position),gallery_shape_number:null,gallery:null,gallery_normalized:null,camera_frame:b,player:R};K.current.write(E),W.current.recordMove(E,L,b),r(A=>{const N=A.map(k=>k.id===o?{...k,position:J}:k);return la(oa(N),d)}),l(null),he.current=null},$e=()=>{const O=n.map(E=>E.position),B=Qc(O),J=j+1,L=ye(),Q=window.currentBraceletStatus||"Unknown",b={date:e.date,id:e.id,sessionGameId:e.sessionGameId,condition:e.condition,phase:d?"practice":"experiment",type:"added shape to gallery",time:_e(),unit:null,end_position:null,all_positions:null,gallery_shape_number:J,gallery:O,gallery_normalized:B,camera_frame:L,player:Q};K.current.write(b),W.current.recordMove(b,0,L);const R=Xe();U(R),D(J)},Xe=()=>{const O=document.createElement("canvas");O.width=400,O.height=400;const B=O.getContext("2d");B.fillStyle="#000",B.fillRect(0,0,400,400);const J=n.map(Q=>Q.position),L=Qc(J);return L&&L.forEach(Q=>{const b=(Q[0]+.5)*400,R=(Q[1]+.5)*400;B.fillStyle="green",B.fillRect(b-15,R-15,30,30)}),O.toDataURL()},Re=P.useCallback(O=>{O.key==="p"&&d?(y(!1),g(!0),S(Ee),X.current=Date.now(),r(Ci()),U(null),D(0),K.current=new Gc(e),W.current.stop(),W.current=ia(),W.current.start(),W.current.setSessionInfo({id:e.id,sessionGameId:e.sessionGameId,condition:e.condition,timeSeconds:e.timeSeconds,date:e.date}),console.log("[GameCanvas] Game tracker restarted for real game")):O.key==="q"&&!d&&(g(!0),S(Ae),setTimeout(()=>{K.current.downloadCSV(),W.current.downloadJSON()},1e3))},[d,e.id]);P.useEffect(()=>(window.addEventListener("keydown",Re),()=>window.removeEventListener("keydown",Re)),[Re]);const V=()=>{if(!d&&w===Ee)try{const O=new(window.AudioContext||window.webkitAudioContext),B=O.createOscillator(),J=O.createGain();B.connect(J),J.connect(O.destination),B.frequency.setValueAtTime(800,O.currentTime),B.frequency.setValueAtTime(600,O.currentTime+.15),J.gain.setValueAtTime(.3,O.currentTime),J.gain.exponentialRampToValueAtTime(.01,O.currentTime+.3),B.start(O.currentTime),B.stop(O.currentTime+.3),console.log("[GameCanvas]  Playing start sound - Real experiment begins!")}catch(O){console.error("[GameCanvas] Error playing sound:",O)}g(!1)},te=O=>{O.preventDefault()};return h.jsxs("div",{className:"game-canvas",ref:q,style:{"--block-size":`${I.blockSize}px`,"--bottom-padding":`${I.bottomPadding}px`},onMouseMove:me,onMouseUp:Ue,onMouseLeave:Ue,onTouchMove:me,onTouchEnd:Ue,onTouchCancel:Ue,onContextMenu:te,children:[h.jsx("div",{className:"gallery",onClick:$e,children:h.jsx("div",{className:"gallery-frame",children:$?h.jsx("img",{src:$,alt:"Gallery",className:"gallery-image"}):h.jsx("div",{className:"gallery-placeholder",children:"Gallery"})})}),!d&&!t&&h.jsxs("div",{className:"timer",children:["Time: ",Math.floor(C/60),":",(C%60).toString().padStart(2,"0")]}),n.map(O=>h.jsx("div",{className:`block ${O.canMove?"movable":""}`,style:{left:`${Z(O.position[0],"x")}px`,top:`${Z(O.position[1],"y")}px`,backgroundColor:O.color||"green",cursor:O.canMove?"grab":"default"},onMouseDown:B=>se(B,O.id),onTouchStart:B=>se(B,O.id)},O.id)),ce&&h.jsx("div",{className:"message-overlay",onClick:V,children:h.jsxs("div",{className:"message-box",children:[w,h.jsx("div",{className:"message-hint",children:"(Click to continue)"})]})})]})}var il={};(function(){var e;function t(i){var s=0;return function(){return s<i.length?{done:!1,value:i[s++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,a){return i==Array.prototype||i==Object.prototype||(i[s]=a.value),i};function r(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var s=0;s<i.length;++s){var a=i[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var o=r(this);function l(i,s){if(s)e:{var a=o;i=i.split(".");for(var c=0;c<i.length-1;c++){var p=i[c];if(!(p in a))break e;a=a[p]}i=i[i.length-1],c=a[i],s=s(c),s!=c&&s!=null&&n(a,i,{configurable:!0,writable:!0,value:s})}}l("Symbol",function(i){function s(v){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return new a(c+(v||"")+"_"+p++,v)}function a(v,m){this.h=v,n(this,"description",{configurable:!0,writable:!0,value:m})}if(i)return i;a.prototype.toString=function(){return this.h};var c="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",p=0;return s}),l("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var s="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<s.length;a++){var c=o[s[a]];typeof c=="function"&&typeof c.prototype[i]!="function"&&n(c.prototype,i,{configurable:!0,writable:!0,value:function(){return u(t(this))}})}return i});function u(i){return i={next:i},i[Symbol.iterator]=function(){return this},i}function f(i){var s=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return s?s.call(i):{next:t(i)}}function d(i){if(!(i instanceof Array)){i=f(i);for(var s,a=[];!(s=i.next()).done;)a.push(s.value);i=a}return i}var y=typeof Object.assign=="function"?Object.assign:function(i,s){for(var a=1;a<arguments.length;a++){var c=arguments[a];if(c)for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(i[p]=c[p])}return i};l("Object.assign",function(i){return i||y});var C=typeof Object.create=="function"?Object.create:function(i){function s(){}return s.prototype=i,new s},M;if(typeof Object.setPrototypeOf=="function")M=Object.setPrototypeOf;else{var j;e:{var D={a:!0},$={};try{$.__proto__=D,j=$.a;break e}catch{}j=!1}M=j?function(i,s){if(i.__proto__=s,i.__proto__!==s)throw new TypeError(i+" is not extensible");return i}:null}var U=M;function ce(i,s){if(i.prototype=C(s.prototype),i.prototype.constructor=i,U)U(i,s);else for(var a in s)if(a!="prototype")if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c)}else i[a]=s[a];i.ya=s.prototype}function g(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function w(i){if(i.m)throw new TypeError("Generator is already running");i.m=!0}g.prototype.u=function(i){this.i=i};function S(i,s){i.l={ma:s,na:!0},i.h=i.s||i.v}g.prototype.return=function(i){this.l={return:i},this.h=this.v};function I(i,s,a){return i.h=a,{value:s}}function H(i){this.h=new g,this.i=i}function q(i,s){w(i.h);var a=i.h.j;return a?K(i,"return"in a?a.return:function(c){return{value:c,done:!0}},s,i.h.return):(i.h.return(s),W(i))}function K(i,s,a,c){try{var p=s.call(i.h.j,a);if(!(p instanceof Object))throw new TypeError("Iterator result "+p+" is not an object");if(!p.done)return i.h.m=!1,p;var v=p.value}catch(m){return i.h.j=null,S(i.h,m),W(i)}return i.h.j=null,c.call(i.h,v),W(i)}function W(i){for(;i.h.h;)try{var s=i.i(i.h);if(s)return i.h.m=!1,{value:s.value,done:!1}}catch(a){i.h.i=void 0,S(i.h,a)}if(i.h.m=!1,i.h.l){if(s=i.h.l,i.h.l=null,s.na)throw s.ma;return{value:s.return,done:!0}}return{value:void 0,done:!0}}function he(i){this.next=function(s){return w(i.h),i.h.j?s=K(i,i.h.j.next,s,i.h.u):(i.h.u(s),s=W(i)),s},this.throw=function(s){return w(i.h),i.h.j?s=K(i,i.h.j.throw,s,i.h.u):(S(i.h,s),s=W(i)),s},this.return=function(s){return q(i,s)},this[Symbol.iterator]=function(){return this}}function X(i){function s(c){return i.next(c)}function a(c){return i.throw(c)}return new Promise(function(c,p){function v(m){m.done?c(m.value):Promise.resolve(m.value).then(s,a).then(v,p)}v(i.next())})}function ue(i){return X(new he(new H(i)))}l("Promise",function(i){function s(m){this.i=0,this.j=void 0,this.h=[],this.u=!1;var x=this.l();try{m(x.resolve,x.reject)}catch(T){x.reject(T)}}function a(){this.h=null}function c(m){return m instanceof s?m:new s(function(x){x(m)})}if(i)return i;a.prototype.i=function(m){if(this.h==null){this.h=[];var x=this;this.j(function(){x.m()})}this.h.push(m)};var p=o.setTimeout;a.prototype.j=function(m){p(m,0)},a.prototype.m=function(){for(;this.h&&this.h.length;){var m=this.h;this.h=[];for(var x=0;x<m.length;++x){var T=m[x];m[x]=null;try{T()}catch(G){this.l(G)}}}this.h=null},a.prototype.l=function(m){this.j(function(){throw m})},s.prototype.l=function(){function m(G){return function(ee){T||(T=!0,G.call(x,ee))}}var x=this,T=!1;return{resolve:m(this.I),reject:m(this.m)}},s.prototype.I=function(m){if(m===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof s)this.L(m);else{e:switch(typeof m){case"object":var x=m!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.F(m):this.s(m)}},s.prototype.F=function(m){var x=void 0;try{x=m.then}catch(T){this.m(T);return}typeof x=="function"?this.M(x,m):this.s(m)},s.prototype.m=function(m){this.v(2,m)},s.prototype.s=function(m){this.v(1,m)},s.prototype.v=function(m,x){if(this.i!=0)throw Error("Cannot settle("+m+", "+x+"): Promise already settled in state"+this.i);this.i=m,this.j=x,this.i===2&&this.K(),this.H()},s.prototype.K=function(){var m=this;p(function(){if(m.D()){var x=o.console;typeof x<"u"&&x.error(m.j)}},1)},s.prototype.D=function(){if(this.u)return!1;var m=o.CustomEvent,x=o.Event,T=o.dispatchEvent;return typeof T>"u"?!0:(typeof m=="function"?m=new m("unhandledrejection",{cancelable:!0}):typeof x=="function"?m=new x("unhandledrejection",{cancelable:!0}):(m=o.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m)),m.promise=this,m.reason=this.j,T(m))},s.prototype.H=function(){if(this.h!=null){for(var m=0;m<this.h.length;++m)v.i(this.h[m]);this.h=null}};var v=new a;return s.prototype.L=function(m){var x=this.l();m.T(x.resolve,x.reject)},s.prototype.M=function(m,x){var T=this.l();try{m.call(x,T.resolve,T.reject)}catch(G){T.reject(G)}},s.prototype.then=function(m,x){function T(ae,re){return typeof ae=="function"?function(de){try{G(ae(de))}catch(ge){ee(ge)}}:re}var G,ee,fe=new s(function(ae,re){G=ae,ee=re});return this.T(T(m,G),T(x,ee)),fe},s.prototype.catch=function(m){return this.then(void 0,m)},s.prototype.T=function(m,x){function T(){switch(G.i){case 1:m(G.j);break;case 2:x(G.j);break;default:throw Error("Unexpected state: "+G.i)}}var G=this;this.h==null?v.i(T):this.h.push(T),this.u=!0},s.resolve=c,s.reject=function(m){return new s(function(x,T){T(m)})},s.race=function(m){return new s(function(x,T){for(var G=f(m),ee=G.next();!ee.done;ee=G.next())c(ee.value).T(x,T)})},s.all=function(m){var x=f(m),T=x.next();return T.done?c([]):new s(function(G,ee){function fe(de){return function(ge){ae[de]=ge,re--,re==0&&G(ae)}}var ae=[],re=0;do ae.push(void 0),re++,c(T.value).T(fe(ae.length-1),ee),T=x.next();while(!T.done)})},s});function Ie(i,s){i instanceof String&&(i+="");var a=0,c=!1,p={next:function(){if(!c&&a<i.length){var v=a++;return{value:s(v,i[v]),done:!1}}return c=!0,{done:!0,value:void 0}}};return p[Symbol.iterator]=function(){return p},p}l("Array.prototype.keys",function(i){return i||function(){return Ie(this,function(s){return s})}}),l("Array.prototype.fill",function(i){return i||function(s,a,c){var p=this.length||0;for(0>a&&(a=Math.max(0,p+a)),(c==null||c>p)&&(c=p),c=Number(c),0>c&&(c=Math.max(0,p+c)),a=Number(a||0);a<c;a++)this[a]=s;return this}});function Ee(i){return i||Array.prototype.fill}l("Int8Array.prototype.fill",Ee),l("Uint8Array.prototype.fill",Ee),l("Uint8ClampedArray.prototype.fill",Ee),l("Int16Array.prototype.fill",Ee),l("Uint16Array.prototype.fill",Ee),l("Int32Array.prototype.fill",Ee),l("Uint32Array.prototype.fill",Ee),l("Float32Array.prototype.fill",Ee),l("Float64Array.prototype.fill",Ee),l("Object.is",function(i){return i||function(s,a){return s===a?s!==0||1/s===1/a:s!==s&&a!==a}}),l("Array.prototype.includes",function(i){return i||function(s,a){var c=this;c instanceof String&&(c=String(c));var p=c.length;for(a=a||0,0>a&&(a=Math.max(a+p,0));a<p;a++){var v=c[a];if(v===s||Object.is(v,s))return!0}return!1}}),l("String.prototype.includes",function(i){return i||function(s,a){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(s instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(s,a||0)!==-1}});var Ae=this||self;function He(i,s){i=i.split(".");var a=Ae;i[0]in a||typeof a.execScript>"u"||a.execScript("var "+i[0]);for(var c;i.length&&(c=i.shift());)i.length||s===void 0?a[c]&&a[c]!==Object.prototype[c]?a=a[c]:a=a[c]={}:a[c]=s}function _e(i){var s;e:{if((s=Ae.navigator)&&(s=s.userAgent))break e;s=""}return s.indexOf(i)!=-1}var Pe=Array.prototype.map?function(i,s){return Array.prototype.map.call(i,s,void 0)}:function(i,s){for(var a=i.length,c=Array(a),p=typeof i=="string"?i.split(""):i,v=0;v<a;v++)v in p&&(c[v]=s.call(void 0,p[v],v,i));return c},Z={},le=null;function se(i){var s=i.length,a=3*s/4;a%3?a=Math.floor(a):"=.".indexOf(i[s-1])!=-1&&(a="=.".indexOf(i[s-2])!=-1?a-2:a-1);var c=new Uint8Array(a),p=0;return me(i,function(v){c[p++]=v}),p!==a?c.subarray(0,p):c}function me(i,s){function a(T){for(;c<i.length;){var G=i.charAt(c++),ee=le[G];if(ee!=null)return ee;if(!/^[\s\xa0]*$/.test(G))throw Error("Unknown base64 encoding at char: "+G)}return T}ye();for(var c=0;;){var p=a(-1),v=a(0),m=a(64),x=a(64);if(x===64&&p===-1)break;s(p<<2|v>>4),m!=64&&(s(v<<4&240|m>>2),x!=64&&s(m<<6&192|x))}}function ye(){if(!le){le={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],a=0;5>a;a++){var c=i.concat(s[a].split(""));Z[a]=c;for(var p=0;p<c.length;p++){var v=c[p];le[v]===void 0&&(le[v]=p)}}}}var Ue=typeof Uint8Array<"u",$e=!(_e("Trident")||_e("MSIE"))&&typeof Ae.btoa=="function";function Xe(i){if(!$e){var s;s===void 0&&(s=0),ye(),s=Z[s];for(var a=Array(Math.floor(i.length/3)),c=s[64]||"",p=0,v=0;p<i.length-2;p+=3){var m=i[p],x=i[p+1],T=i[p+2],G=s[m>>2];m=s[(m&3)<<4|x>>4],x=s[(x&15)<<2|T>>6],T=s[T&63],a[v++]=G+m+x+T}switch(G=0,T=c,i.length-p){case 2:G=i[p+1],T=s[(G&15)<<2]||c;case 1:i=i[p],a[v]=s[i>>2]+s[(i&3)<<4|G>>4]+T+c}return a.join("")}for(s="";10240<i.length;)s+=String.fromCharCode.apply(null,i.subarray(0,10240)),i=i.subarray(10240);return s+=String.fromCharCode.apply(null,i),btoa(s)}var Re=RegExp("[-_.]","g");function V(i){switch(i){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function te(i){if(!$e)return se(i);Re.test(i)&&(i=i.replace(Re,V)),i=atob(i);for(var s=new Uint8Array(i.length),a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return s}var O;function B(){return O||(O=new Uint8Array(0))}var J={},L=typeof Uint8Array.prototype.slice=="function",Q=0,b=0;function R(i){var s=0>i;i=Math.abs(i);var a=i>>>0;i=Math.floor((i-a)/4294967296),s&&(a=f(A(a,i)),s=a.next().value,i=a.next().value,a=s),Q=a>>>0,b=i>>>0}var E=typeof BigInt=="function";function A(i,s){return s=~s,i?i=~i+1:s+=1,[i,s]}function N(i,s){this.i=i>>>0,this.h=s>>>0}function k(i){if(!i)return _||(_=new N(0,0));if(!/^-?\d+$/.test(i))return null;if(16>i.length)R(Number(i));else if(E)i=BigInt(i),Q=Number(i&BigInt(4294967295))>>>0,b=Number(i>>BigInt(32)&BigInt(4294967295));else{var s=+(i[0]==="-");b=Q=0;for(var a=i.length,c=s,p=(a-s)%6+s;p<=a;c=p,p+=6)c=Number(i.slice(c,p)),b*=1e6,Q=1e6*Q+c,4294967296<=Q&&(b+=Q/4294967296|0,Q%=4294967296);s&&(s=f(A(Q,b)),i=s.next().value,s=s.next().value,Q=i,b=s)}return new N(Q,b)}var _;function z(i,s){return Error("Invalid wire type: "+i+" (at position "+s+")")}function F(){return Error("Failed to read varint, encoding is invalid.")}function ne(i,s){return Error("Tried to read past the end of the data "+s+" > "+i)}function ie(){throw Error("Invalid UTF8")}function pe(i,s){return s=String.fromCharCode.apply(null,s),i==null?s:i+s}var ve=void 0,Se,et=typeof TextDecoder<"u",ze,Ke=typeof TextEncoder<"u",nt;function xe(i){if(i!==J)throw Error("illegal external caller")}function ke(i,s){if(xe(s),this.V=i,i!=null&&i.length===0)throw Error("ByteString should be constructed with non-empty values")}function Ce(){return nt||(nt=new ke(null,J))}function Me(i){xe(J);var s=i.V;return s=s==null||Ue&&s!=null&&s instanceof Uint8Array?s:typeof s=="string"?te(s):null,s==null?s:i.V=s}function Je(i){if(typeof i=="string")return{buffer:te(i),C:!1};if(Array.isArray(i))return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Uint8Array)return{buffer:i,C:!1};if(i.constructor===ArrayBuffer)return{buffer:new Uint8Array(i),C:!1};if(i.constructor===ke)return{buffer:Me(i)||B(),C:!0};if(i instanceof Uint8Array)return{buffer:new Uint8Array(i.buffer,i.byteOffset,i.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function En(i,s){this.i=null,this.m=!1,this.h=this.j=this.l=0,ot(this,i,s)}function ot(i,s,a){a=a===void 0?{}:a,i.S=a.S===void 0?!1:a.S,s&&(s=Je(s),i.i=s.buffer,i.m=s.C,i.l=0,i.j=i.i.length,i.h=i.l)}En.prototype.reset=function(){this.h=this.l};function at(i,s){if(i.h=s,s>i.j)throw ne(i.j,s)}function rt(i){var s=i.i,a=i.h,c=s[a++],p=c&127;if(c&128&&(c=s[a++],p|=(c&127)<<7,c&128&&(c=s[a++],p|=(c&127)<<14,c&128&&(c=s[a++],p|=(c&127)<<21,c&128&&(c=s[a++],p|=c<<28,c&128&&s[a++]&128&&s[a++]&128&&s[a++]&128&&s[a++]&128&&s[a++]&128)))))throw F();return at(i,a),p}function xt(i,s){if(0>s)throw Error("Tried to read a negative byte length: "+s);var a=i.h,c=a+s;if(c>i.j)throw ne(s,i.j-a);return i.h=c,a}var zt=[];function Lt(){this.h=[]}Lt.prototype.length=function(){return this.h.length},Lt.prototype.end=function(){var i=this.h;return this.h=[],i};function cn(i,s,a){for(;0<a||127<s;)i.h.push(s&127|128),s=(s>>>7|a<<25)>>>0,a>>>=7;i.h.push(s)}function Wt(i,s){for(;127<s;)i.h.push(s&127|128),s>>>=7;i.h.push(s)}function ir(i,s){if(zt.length){var a=zt.pop();ot(a,i,s),i=a}else i=new En(i,s);this.h=i,this.j=this.h.h,this.i=this.l=-1,this.setOptions(s)}ir.prototype.setOptions=function(i){i=i===void 0?{}:i,this.ca=i.ca===void 0?!1:i.ca},ir.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function zn(i){var s=i.h;if(s.h==s.j)return!1;i.j=i.h.h;var a=rt(i.h)>>>0;if(s=a>>>3,a&=7,!(0<=a&&5>=a))throw z(a,i.j);if(1>s)throw Error("Invalid field number: "+s+" (at position "+i.j+")");return i.l=s,i.i=a,!0}function Ln(i){switch(i.i){case 0:if(i.i!=0)Ln(i);else e:{i=i.h;for(var s=i.h,a=s+10,c=i.i;s<a;)if(!(c[s++]&128)){at(i,s);break e}throw F()}break;case 1:i=i.h,at(i,i.h+8);break;case 2:i.i!=2?Ln(i):(s=rt(i.h)>>>0,i=i.h,at(i,i.h+s));break;case 5:i=i.h,at(i,i.h+4);break;case 3:s=i.l;do{if(!zn(i))throw Error("Unmatched start-group tag: stream EOF");if(i.i==4){if(i.l!=s)throw Error("Unmatched end-group tag");break}Ln(i)}while(!0);break;default:throw z(i.i,i.j)}}var On=[];function wr(){this.j=[],this.i=0,this.h=new Lt}function Zt(i,s){s.length!==0&&(i.j.push(s),i.i+=s.length)}function Yi(i,s){if(s=s.R){Zt(i,i.h.end());for(var a=0;a<s.length;a++)Zt(i,Me(s[a])||B())}}var bt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function fn(i,s){return bt?i[bt]|=s:i.A!==void 0?i.A|=s:(Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}}),s)}function Zr(i,s){bt?i[bt]&&(i[bt]&=~s):i.A!==void 0&&(i.A&=~s)}function Ze(i){var s;return bt?s=i[bt]:s=i.A,s??0}function dn(i,s){bt?i[bt]=s:i.A!==void 0?i.A=s:Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}})}function xl(i){return fn(i,1),i}function fh(i,s){dn(s,(i|0)&-51)}function Xi(i,s){dn(s,(i|18)&-41)}var kl={};function Ki(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)&&i.constructor===Object}var br,tu=[];dn(tu,23),br=Object.freeze(tu);function El(i){if(Ze(i.o)&2)throw Error("Cannot mutate an immutable Message")}function Cl(i){var s=i.length;(s=s?i[s-1]:void 0)&&Ki(s)?s.g=1:(s={},i.push((s.g=1,s)))}function nu(i){var s=i.i+i.G;return i.B||(i.B=i.o[s]={})}function qt(i,s){return s===-1?null:s>=i.i?i.B?i.B[s]:void 0:i.o[s+i.G]}function hn(i,s,a,c){El(i),qr(i,s,a,c)}function qr(i,s,a,c){i.j&&(i.j=void 0),s>=i.i||c?nu(i)[s]=a:(i.o[s+i.G]=a,(i=i.B)&&s in i&&delete i[s])}function jl(i,s,a,c){var p=qt(i,s);Array.isArray(p)||(p=br);var v=Ze(p);if(v&1||xl(p),c)v&2||fn(p,2),a&1||Object.freeze(p);else{c=!(a&2);var m=v&2;a&1||!m?c&&v&16&&!m&&Zr(p,16):(p=xl(Array.prototype.slice.call(p)),qr(i,s,p))}return p}function Nl(i,s){var a=qt(i,s),c=a==null?a:typeof a=="number"||a==="NaN"||a==="Infinity"||a==="-Infinity"?Number(a):void 0;return c!=null&&c!==a&&qr(i,s,c),c}function ru(i,s,a,c,p){i.h||(i.h={});var v=i.h[a],m=jl(i,a,3,p);if(!v){var x=m;v=[];var T=!!(Ze(i.o)&16);m=!!(Ze(x)&2);var G=x;!p&&m&&(x=Array.prototype.slice.call(x));for(var ee=m,fe=0;fe<x.length;fe++){var ae=x[fe],re=s,de=!1;if(de=de===void 0?!1:de,ae=Array.isArray(ae)?new re(ae):de?new re:void 0,ae!==void 0){re=ae.o;var ge=de=Ze(re);m&&(ge|=2),T&&(ge|=16),ge!=de&&dn(re,ge),re=ge,ee=ee||!!(2&re),v.push(ae)}}return i.h[a]=v,T=Ze(x),s=T|33,s=ee?s&-9:s|8,T!=s&&(ee=x,Object.isFrozen(ee)&&(ee=Array.prototype.slice.call(ee)),dn(ee,s),x=ee),G!==x&&qr(i,a,x),(p||c&&m)&&fn(v,2),c&&Object.freeze(v),v}return p||(p=Object.isFrozen(v),c&&!p?Object.freeze(v):!c&&p&&(v=Array.prototype.slice.call(v),i.h[a]=v)),v}function Ji(i,s,a){var c=!!(Ze(i.o)&2);if(s=ru(i,s,a,c,c),i=jl(i,a,3,c),!(c||Ze(i)&8)){for(c=0;c<s.length;c++){if(a=s[c],Ze(a.o)&2){var p=uu(a,!1);p.j=a}else p=a;a!==p&&(s[c]=p,i[c]=p.o)}fn(i,8)}return s}function pn(i,s,a){if(a!=null&&typeof a!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof a+": "+a);hn(i,s,a)}function iu(i,s,a,c,p){El(i);var v=ru(i,a,s,!1,!1);return a=c??new a,i=jl(i,s,2,!1),p!=null?(v.splice(p,0,a),i.splice(p,0,a.o)):(v.push(a),i.push(a.o)),a.C()&&Zr(i,8),a}function Zi(i,s){return i??s}function mn(i,s,a){return a=a===void 0?0:a,Zi(Nl(i,s),a)}var bi;function dh(i){switch(typeof i){case"number":return isFinite(i)?i:String(i);case"object":if(i)if(Array.isArray(i)){if(Ze(i)&128)return i=Array.prototype.slice.call(i),Cl(i),i}else{if(Ue&&i!=null&&i instanceof Uint8Array)return Xe(i);if(i instanceof ke){var s=i.V;return s==null?"":typeof s=="string"?s:i.V=Xe(s)}}}return i}function ou(i,s,a,c){if(i!=null){if(Array.isArray(i))i=_l(i,s,a,c!==void 0);else if(Ki(i)){var p={},v;for(v in i)p[v]=ou(i[v],s,a,c);i=p}else i=s(i,c);return i}}function _l(i,s,a,c){var p=Ze(i);c=c?!!(p&16):void 0,i=Array.prototype.slice.call(i);for(var v=0;v<i.length;v++)i[v]=ou(i[v],s,a,c);return a(p,i),i}function hh(i){return i.ja===kl?i.toJSON():dh(i)}function ph(i,s){i&128&&Cl(s)}function lu(i,s,a){if(a=a===void 0?Xi:a,i!=null){if(Ue&&i instanceof Uint8Array)return i.length?new ke(new Uint8Array(i),J):Ce();if(Array.isArray(i)){var c=Ze(i);return c&2?i:s&&!(c&32)&&(c&16||c===0)?(dn(i,c|2),i):(i=_l(i,lu,c&4?Xi:a,!0),s=Ze(i),s&4&&s&2&&Object.freeze(i),i)}return i.ja===kl?au(i):i}}function su(i,s,a,c,p,v,m){if(i=i.h&&i.h[a]){if(c=Ze(i),c&2?c=i:(v=Pe(i,au),Xi(c,v),Object.freeze(v),c=v),El(s),m=c==null?br:xl([]),c!=null){for(v=!!c.length,i=0;i<c.length;i++){var x=c[i];v=v&&!(Ze(x.o)&2),m[i]=x.o}v=(v?8:0)|1,i=Ze(m),(i&v)!==v&&(Object.isFrozen(m)&&(m=Array.prototype.slice.call(m)),dn(m,i|v)),s.h||(s.h={}),s.h[a]=c}else s.h&&(s.h[a]=void 0);qr(s,a,m,p)}else hn(s,a,lu(c,v,m),p)}function au(i){return Ze(i.o)&2||(i=uu(i,!0),fn(i.o,2)),i}function uu(i,s){var a=i.o,c=[];fn(c,16);var p=i.constructor.h;if(p&&c.push(p),p=i.B,p){c.length=a.length,c.fill(void 0,c.length,a.length);var v={};c[c.length-1]=v}Ze(a)&128&&Cl(c),s=s||i.C()?Xi:fh,v=i.constructor,bi=c,c=new v(c),bi=void 0,i.R&&(c.R=i.R.slice()),v=!!(Ze(a)&16);for(var m=p?a.length-1:a.length,x=0;x<m;x++)su(i,c,x-i.G,a[x],!1,v,s);if(p)for(var T in p)su(i,c,+T,p[T],!0,v,s);return c}function _t(i,s,a){i==null&&(i=bi),bi=void 0;var c=this.constructor.i||0,p=0<c,v=this.constructor.h,m=!1;if(i==null){i=v?[v]:[];var x=48,T=!0;p&&(c=0,x|=128),dn(i,x)}else{if(!Array.isArray(i)||v&&v!==i[0])throw Error();var G=x=fn(i,0);if((T=(16&G)!==0)&&((m=(32&G)!==0)||(G|=32)),p){if(128&G)c=0;else if(0<i.length){var ee=i[i.length-1];if(Ki(ee)&&"g"in ee){c=0,G|=128,delete ee.g;var fe=!0,ae;for(ae in ee){fe=!1;break}fe&&i.pop()}}}else if(128&G)throw Error();x!==G&&dn(i,G)}this.G=(v?0:-1)-c,this.h=void 0,this.o=i;e:{if(v=this.o.length,c=v-1,v&&(v=this.o[c],Ki(v))){this.B=v,this.i=c-this.G;break e}s!==void 0&&-1<s?(this.i=Math.max(s,c+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!p&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(a){s=T&&!m&&!0,p=this.i;var re;for(T=0;T<a.length;T++)m=a[T],m<p?(m+=this.G,(c=i[m])?cu(c,s):i[m]=br):(re||(re=nu(this)),(c=re[m])?cu(c,s):re[m]=br)}}_t.prototype.toJSON=function(){return _l(this.o,hh,ph)},_t.prototype.C=function(){return!!(Ze(this.o)&2)};function cu(i,s){if(Array.isArray(i)){var a=Ze(i),c=1;!s||a&2||(c|=16),(a&c)!==c&&dn(i,a|c)}}_t.prototype.ja=kl,_t.prototype.toString=function(){return this.o.toString()};function fu(i,s,a){if(a){var c={},p;for(p in a){var v=a[p],m=v.qa;m||(c.J=v.wa||v.oa.W,v.ia?(c.aa=vu(v.ia),m=function(x){return function(T,G,ee){return x.J(T,G,ee,x.aa)}}(c)):v.ka?(c.Z=yu(v.da.P,v.ka),m=function(x){return function(T,G,ee){return x.J(T,G,ee,x.Z)}}(c)):m=c.J,v.qa=m),m(s,i,v.da),c={J:c.J,aa:c.aa,Z:c.Z}}}Yi(s,i)}var qi=Symbol();function du(i,s,a){return i[qi]||(i[qi]=function(c,p){return s(c,p,a)})}function hu(i){var s=i[qi];if(!s){var a=Pl(i);s=function(c,p){return gu(c,p,a)},i[qi]=s}return s}function mh(i){var s=i.ia;if(s)return hu(s);if(s=i.va)return du(i.da.P,s,i.ka)}function vh(i){var s=mh(i),a=i.da,c=i.oa.U;return s?function(p,v){return c(p,v,a,s)}:function(p,v){return c(p,v,a)}}function pu(i,s){var a=i[s];return typeof a=="function"&&a.length===0&&(a=a(),i[s]=a),Array.isArray(a)&&(ti in a||ei in a||0<a.length&&typeof a[0]=="function")?a:void 0}function mu(i,s,a,c,p,v){s.P=i[0];var m=1;if(i.length>m&&typeof i[m]!="number"){var x=i[m++];a(s,x)}for(;m<i.length;){a=i[m++];for(var T=m+1;T<i.length&&typeof i[T]!="number";)T++;switch(x=i[m++],T-=m,T){case 0:c(s,a,x);break;case 1:(T=pu(i,m))?(m++,p(s,a,x,T)):c(s,a,x,i[m++]);break;case 2:T=m++,T=pu(i,T),p(s,a,x,T,i[m++]);break;case 3:v(s,a,x,i[m++],i[m++],i[m++]);break;case 4:v(s,a,x,i[m++],i[m++],i[m++],i[m++]);break;default:throw Error("unexpected number of binary field arguments: "+T)}}return s}var eo=Symbol();function vu(i){var s=i[eo];if(!s){var a=Ml(i);s=function(c,p){return wu(c,p,a)},i[eo]=s}return s}function yu(i,s){var a=i[eo];return a||(a=function(c,p){return fu(c,p,s)},i[eo]=a),a}var ei=Symbol();function yh(i,s){i.push(s)}function gh(i,s,a){i.push(s,a.W)}function wh(i,s,a,c){var p=vu(c),v=Ml(c).P,m=a.W;i.push(s,function(x,T,G){return m(x,T,G,v,p)})}function Sh(i,s,a,c,p,v){var m=yu(c,v),x=a.W;i.push(s,function(T,G,ee){return x(T,G,ee,c,m)})}function Ml(i){var s=i[ei];return s||(s=mu(i,i[ei]=[],yh,gh,wh,Sh),ti in i&&ei in i&&(i.length=0),s)}var ti=Symbol();function xh(i,s){i[0]=s}function kh(i,s,a,c){var p=a.U;i[s]=c?function(v,m,x){return p(v,m,x,c)}:p}function Eh(i,s,a,c,p){var v=a.U,m=hu(c),x=Pl(c).P;i[s]=function(T,G,ee){return v(T,G,ee,x,m,p)}}function Ch(i,s,a,c,p,v,m){var x=a.U,T=du(c,p,v);i[s]=function(G,ee,fe){return x(G,ee,fe,c,T,m)}}function Pl(i){var s=i[ti];return s||(s=mu(i,i[ti]={},xh,kh,Eh,Ch),ti in i&&ei in i&&(i.length=0),s)}function gu(i,s,a){for(;zn(s)&&s.i!=4;){var c=s.l,p=a[c];if(!p){var v=a[0];v&&(v=v[c])&&(p=a[c]=vh(v))}if(!p||!p(s,i,c)){p=s,c=i,v=p.j,Ln(p);var m=p;if(!m.ca){if(p=m.h.h-v,m.h.h=v,m=m.h,p==0)p=Ce();else{if(v=xt(m,p),m.S&&m.m)p=m.i.subarray(v,v+p);else{m=m.i;var x=v;p=v+p,p=x===p?B():L?m.slice(x,p):new Uint8Array(m.subarray(x,p))}p=p.length==0?Ce():new ke(p,J)}(v=c.R)?v.push(p):c.R=[p]}}}return i}function wu(i,s,a){for(var c=a.length,p=c%2==1,v=p?1:0;v<c;v+=2)(0,a[v+1])(s,i,a[v]);fu(i,s,p?a[0]:void 0)}function ni(i,s){return{U:i,W:s}}var en=ni(function(i,s,a){if(i.i!==5)return!1;i=i.h;var c=i.i,p=i.h,v=c[p],m=c[p+1],x=c[p+2];return c=c[p+3],at(i,i.h+4),m=(v<<0|m<<8|x<<16|c<<24)>>>0,i=2*(m>>31)+1,v=m>>>23&255,m&=8388607,hn(s,a,v==255?m?NaN:1/0*i:v==0?i*Math.pow(2,-149)*m:i*Math.pow(2,v-150)*(m+Math.pow(2,23))),!0},function(i,s,a){if(s=Nl(s,a),s!=null){Wt(i.h,8*a+5),i=i.h;var c=+s;c===0?0<1/c?Q=b=0:(b=0,Q=2147483648):isNaN(c)?(b=0,Q=2147483647):(c=(a=0>c?-2147483648:0)?-c:c,34028234663852886e22<c?(b=0,Q=(a|2139095040)>>>0):11754943508222875e-54>c?(c=Math.round(c/Math.pow(2,-149)),b=0,Q=(a|c)>>>0):(s=Math.floor(Math.log(c)/Math.LN2),c*=Math.pow(2,-s),c=Math.round(8388608*c),16777216<=c&&++s,b=0,Q=(a|s+127<<23|c&8388607)>>>0)),a=Q,i.h.push(a>>>0&255),i.h.push(a>>>8&255),i.h.push(a>>>16&255),i.h.push(a>>>24&255)}}),jh=ni(function(i,s,a){if(i.i!==0)return!1;var c=i.h,p=0,v=i=0,m=c.i,x=c.h;do{var T=m[x++];p|=(T&127)<<v,v+=7}while(32>v&&T&128);for(32<v&&(i|=(T&127)>>4),v=3;32>v&&T&128;v+=7)T=m[x++],i|=(T&127)<<v;if(at(c,x),128>T)c=p>>>0,T=i>>>0,(i=T&2147483648)&&(c=~c+1>>>0,T=~T>>>0,c==0&&(T=T+1>>>0)),c=4294967296*T+(c>>>0);else throw F();return hn(s,a,i?-c:c),!0},function(i,s,a){s=qt(s,a),s!=null&&(typeof s=="string"&&k(s),s!=null&&(Wt(i.h,8*a),typeof s=="number"?(i=i.h,R(s),cn(i,Q,b)):(a=k(s),cn(i.h,a.i,a.h))))}),Nh=ni(function(i,s,a){return i.i!==0?!1:(hn(s,a,rt(i.h)),!0)},function(i,s,a){if(s=qt(s,a),s!=null&&s!=null)if(Wt(i.h,8*a),i=i.h,a=s,0<=a)Wt(i,a);else{for(s=0;9>s;s++)i.h.push(a&127|128),a>>=7;i.h.push(1)}}),Su=ni(function(i,s,a){if(i.i!==2)return!1;var c=rt(i.h)>>>0;i=i.h;var p=xt(i,c);if(i=i.i,et){var v=i,m;(m=Se)||(m=Se=new TextDecoder("utf-8",{fatal:!0})),i=p+c,v=p===0&&i===v.length?v:v.subarray(p,i);try{var x=m.decode(v)}catch(fe){if(ve===void 0){try{m.decode(new Uint8Array([128]))}catch{}try{m.decode(new Uint8Array([97])),ve=!0}catch{ve=!1}}throw!ve&&(Se=void 0),fe}}else{x=p,c=x+c,p=[];for(var T=null,G,ee;x<c;)G=i[x++],128>G?p.push(G):224>G?x>=c?ie():(ee=i[x++],194>G||(ee&192)!==128?(x--,ie()):p.push((G&31)<<6|ee&63)):240>G?x>=c-1?ie():(ee=i[x++],(ee&192)!==128||G===224&&160>ee||G===237&&160<=ee||((v=i[x++])&192)!==128?(x--,ie()):p.push((G&15)<<12|(ee&63)<<6|v&63)):244>=G?x>=c-2?ie():(ee=i[x++],(ee&192)!==128||(G<<28)+(ee-144)>>30||((v=i[x++])&192)!==128||((m=i[x++])&192)!==128?(x--,ie()):(G=(G&7)<<18|(ee&63)<<12|(v&63)<<6|m&63,G-=65536,p.push((G>>10&1023)+55296,(G&1023)+56320))):ie(),8192<=p.length&&(T=pe(T,p),p.length=0);x=pe(T,p)}return hn(s,a,x),!0},function(i,s,a){if(s=qt(s,a),s!=null){var c=!1;if(c=c===void 0?!1:c,Ke){if(c&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(s))throw Error("Found an unpaired surrogate");s=(ze||(ze=new TextEncoder)).encode(s)}else{for(var p=0,v=new Uint8Array(3*s.length),m=0;m<s.length;m++){var x=s.charCodeAt(m);if(128>x)v[p++]=x;else{if(2048>x)v[p++]=x>>6|192;else{if(55296<=x&&57343>=x){if(56319>=x&&m<s.length){var T=s.charCodeAt(++m);if(56320<=T&&57343>=T){x=1024*(x-55296)+T-56320+65536,v[p++]=x>>18|240,v[p++]=x>>12&63|128,v[p++]=x>>6&63|128,v[p++]=x&63|128;continue}else m--}if(c)throw Error("Found an unpaired surrogate");x=65533}v[p++]=x>>12|224,v[p++]=x>>6&63|128}v[p++]=x&63|128}}s=p===v.length?v:v.subarray(0,p)}Wt(i.h,8*a+2),Wt(i.h,s.length),Zt(i,i.h.end()),Zt(i,s)}}),xu=ni(function(i,s,a,c,p){if(i.i!==2)return!1;s=iu(s,a,c),a=i.h.j,c=rt(i.h)>>>0;var v=i.h.h+c,m=v-a;if(0>=m&&(i.h.j=v,p(s,i,void 0,void 0,void 0),m=v-i.h.h),m)throw Error("Message parsing ended unexpectedly. Expected to read "+(c+" bytes, instead read "+(c-m)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return i.h.h=v,i.h.j=a,!0},function(i,s,a,c,p){if(s=Ji(s,c,a),s!=null)for(c=0;c<s.length;c++){var v=i;Wt(v.h,8*a+2);var m=v.h.end();Zt(v,m),m.push(v.i),v=m,p(s[c],i),m=i;var x=v.pop();for(x=m.i+m.h.length()-x;127<x;)v.push(x&127|128),x>>>=7,m.i++;v.push(x),m.i++}});function Tl(i){return function(s,a){e:{if(On.length){var c=On.pop();c.setOptions(a),ot(c.h,s,a),s=c}else s=new ir(s,a);try{var p=Pl(i),v=gu(new p.P,s,p);break e}finally{p=s.h,p.i=null,p.m=!1,p.l=0,p.j=0,p.h=0,p.S=!1,s.l=-1,s.i=-1,100>On.length&&On.push(s)}v=void 0}return v}}function Il(i){return function(){var s=new wr;wu(this,s,Ml(i)),Zt(s,s.h.end());for(var a=new Uint8Array(s.i),c=s.j,p=c.length,v=0,m=0;m<p;m++){var x=c[m];a.set(x,v),v+=x.length}return s.j=[a],a}}function Sr(i){_t.call(this,i)}ce(Sr,_t);var ku=[Sr,1,Nh,2,en,3,Su,4,Su];Sr.prototype.l=Il(ku);function Al(i){_t.call(this,i,-1,_h)}ce(Al,_t),Al.prototype.addClassification=function(i,s){return iu(this,1,Sr,i,s),this};var _h=[1],Eu=Tl([Al,1,xu,ku]);function xr(i){_t.call(this,i)}ce(xr,_t);var Cu=[xr,1,en,2,en,3,en,4,en,5,en];xr.prototype.l=Il(Cu);function ju(i){_t.call(this,i,-1,Mh)}ce(ju,_t);var Mh=[1],Nu=Tl([ju,1,xu,Cu]);function to(i){_t.call(this,i)}ce(to,_t);var _u=[to,1,en,2,en,3,en,4,en,5,en,6,jh],Ph=Tl(_u);to.prototype.l=Il(_u);function Mu(i,s,a){if(a=i.createShader(a===0?i.VERTEX_SHADER:i.FRAGMENT_SHADER),i.shaderSource(a,s),i.compileShader(a),!i.getShaderParameter(a,i.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+i.getShaderInfoLog(a));return a}function Pu(i){return Ji(i,Sr,1).map(function(s){var a=qt(s,1);return{index:a??0,score:mn(s,2),label:qt(s,3)!=null?Zi(qt(s,3),""):void 0,displayName:qt(s,4)!=null?Zi(qt(s,4),""):void 0}})}function Tu(i){return{x:mn(i,1),y:mn(i,2),z:mn(i,3),visibility:Nl(i,4)!=null?mn(i,4):void 0}}function Iu(i){return i.map(function(s){return Ji(Nu(s),xr,1).map(Tu)})}function Rl(i,s){this.i=i,this.h=s,this.m=0}function Au(i,s,a){return Th(i,s),typeof i.h.canvas.transferToImageBitmap=="function"?Promise.resolve(i.h.canvas.transferToImageBitmap()):a?Promise.resolve(i.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(i.h.canvas):(i.j===void 0&&(i.j=document.createElement("canvas")),new Promise(function(c){i.j.height=i.h.canvas.height,i.j.width=i.h.canvas.width,i.j.getContext("2d",{}).drawImage(i.h.canvas,0,0,i.h.canvas.width,i.h.canvas.height),c(i.j)}))}function Th(i,s){var a=i.h;if(i.s===void 0){var c=Mu(a,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),p=Mu(a,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),v=a.createProgram();if(a.attachShader(v,c),a.attachShader(v,p),a.linkProgram(v),!a.getProgramParameter(v,a.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+a.getProgramInfoLog(v));c=i.s=v,a.useProgram(c),p=a.getUniformLocation(c,"sampler0"),i.l={O:a.getAttribLocation(c,"aVertex"),N:a.getAttribLocation(c,"aTex"),xa:p},i.v=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,i.v),a.enableVertexAttribArray(i.l.O),a.vertexAttribPointer(i.l.O,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,null),i.u=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,i.u),a.enableVertexAttribArray(i.l.N),a.vertexAttribPointer(i.l.N,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,null),a.uniform1i(p,0)}c=i.l,a.useProgram(i.s),a.canvas.width=s.width,a.canvas.height=s.height,a.viewport(0,0,s.width,s.height),a.activeTexture(a.TEXTURE0),i.i.bindTexture2d(s.glName),a.enableVertexAttribArray(c.O),a.bindBuffer(a.ARRAY_BUFFER,i.v),a.vertexAttribPointer(c.O,2,a.FLOAT,!1,0,0),a.enableVertexAttribArray(c.N),a.bindBuffer(a.ARRAY_BUFFER,i.u),a.vertexAttribPointer(c.N,2,a.FLOAT,!1,0,0),a.bindFramebuffer(a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER,null),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.colorMask(!0,!0,!0,!0),a.drawArrays(a.TRIANGLE_FAN,0,4),a.disableVertexAttribArray(c.O),a.disableVertexAttribArray(c.N),a.bindBuffer(a.ARRAY_BUFFER,null),i.i.bindTexture2d(0)}function Ih(i){this.h=i}var Ah=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Rh(i,s){return s+i}function Ru(i,s){window[i]=s}function zh(i){var s=document.createElement("script");return s.setAttribute("src",i),s.setAttribute("crossorigin","anonymous"),new Promise(function(a){s.addEventListener("load",function(){a()},!1),s.addEventListener("error",function(){a()},!1),document.body.appendChild(s)})}function Lh(){return ue(function(i){switch(i.h){case 1:return i.s=2,I(i,WebAssembly.instantiate(Ah),4);case 4:i.h=3,i.s=0;break;case 2:return i.s=0,i.l=null,i.return(!1);case 3:return i.return(!0)}})}function zl(i){if(this.h=i,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=i&&i.locateFile||Rh,typeof window=="object")var s=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")s=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=s,i.options){s=f(Object.keys(i.options));for(var a=s.next();!a.done;a=s.next()){a=a.value;var c=i.options[a].default;c!==void 0&&(this.l[a]=typeof c=="function"?c():c)}}}e=zl.prototype,e.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Oh(i){var s,a,c,p,v,m,x,T,G,ee,fe;return ue(function(ae){switch(ae.h){case 1:return i.ga?(s=i.h.files===void 0?[]:typeof i.h.files=="function"?i.h.files(i.l):i.h.files,I(ae,Lh(),2)):ae.return();case 2:if(a=ae.i,typeof window=="object")return Ru("createMediapipeSolutionsWasm",{locateFile:i.locateFile}),Ru("createMediapipeSolutionsPackedAssets",{locateFile:i.locateFile}),m=s.filter(function(re){return re.data!==void 0}),x=s.filter(function(re){return re.data===void 0}),T=Promise.all(m.map(function(re){var de=no(i,re.url);if(re.path!==void 0){var ge=re.path;de=de.then(function(De){return i.overrideFile(ge,De),Promise.resolve(De)})}return de})),G=Promise.all(x.map(function(re){return re.simd===void 0||re.simd&&a||!re.simd&&!a?zh(i.locateFile(re.url,i.ha)):Promise.resolve()})).then(function(){var re,de,ge;return ue(function(De){if(De.h==1)return re=window.createMediapipeSolutionsWasm,de=window.createMediapipeSolutionsPackedAssets,ge=i,I(De,re(de),2);ge.i=De.i,De.h=0})}),ee=function(){return ue(function(re){return i.h.graph&&i.h.graph.url?re=I(re,no(i,i.h.graph.url),0):(re.h=0,re=void 0),re})}(),I(ae,Promise.all([G,T,ee]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return c=s.filter(function(re){return re.simd===void 0||re.simd&&a||!re.simd&&!a}).map(function(re){return i.locateFile(re.url,i.ha)}),importScripts.apply(null,d(c)),p=i,I(ae,createMediapipeSolutionsWasm(Module),6);case 6:p.i=ae.i,i.m=new OffscreenCanvas(1,1),i.i.canvas=i.m,v=i.i.GL.createContext(i.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),i.i.GL.makeContextCurrent(v),ae.h=4;break;case 7:if(i.m=document.createElement("canvas"),fe=i.m.getContext("webgl2",{}),!fe&&(fe=i.m.getContext("webgl",{}),!fe))return alert("Failed to create WebGL canvas context when passing video frame."),ae.return();i.K=fe,i.i.canvas=i.m,i.i.createContext(i.m,!0,!0,{});case 4:i.j=new i.i.SolutionWasm,i.ga=!1,ae.h=0}})}function Dh(i){var s,a,c,p,v,m,x,T;return ue(function(G){if(G.h==1){if(i.h.graph&&i.h.graph.url&&i.fa===i.h.graph.url)return G.return();if(i.u=!0,!i.h.graph||!i.h.graph.url){G.h=2;return}return i.fa=i.h.graph.url,I(G,no(i,i.h.graph.url),3)}for(G.h!=2&&(s=G.i,i.j.loadGraph(s)),a=f(Object.keys(i.D)),c=a.next();!c.done;c=a.next())p=c.value,i.j.overrideFile(p,i.D[p]);if(i.D={},i.h.listeners)for(v=f(i.h.listeners),m=v.next();!m.done;m=v.next())x=m.value,$h(i,x);T=i.l,i.l={},i.setOptions(T),G.h=0})}e.reset=function(){var i=this;return ue(function(s){i.j&&(i.j.reset(),i.s={},i.v={}),s.h=0})},e.setOptions=function(i,s){var a=this;if(s=s||this.h.options){for(var c=[],p=[],v={},m=f(Object.keys(i)),x=m.next();!x.done;v={X:v.X,Y:v.Y},x=m.next())if(x=x.value,!(x in this.l&&this.l[x]===i[x])){this.l[x]=i[x];var T=s[x];T!==void 0&&(T.onChange&&(v.X=T.onChange,v.Y=i[x],c.push(function(G){return function(){var ee;return ue(function(fe){if(fe.h==1)return I(fe,G.X(G.Y),2);ee=fe.i,ee===!0&&(a.u=!0),fe.h=0})}}(v))),T.graphOptionXref&&(x=Object.assign({},{calculatorName:"",calculatorIndex:0},T.graphOptionXref,{valueNumber:T.type===1?i[x]:0,valueBoolean:T.type===0?i[x]:!1,valueString:T.type===2?i[x]:""}),p.push(x)))}(c.length!==0||p.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(p),this.F=(this.F===void 0?[]:this.F).concat(c))}};function Fh(i){var s,a,c,p,v,m,x;return ue(function(T){switch(T.h){case 1:if(!i.u)return T.return();if(!i.F){T.h=2;break}s=f(i.F),a=s.next();case 3:if(a.done){T.h=5;break}return c=a.value,I(T,c(),4);case 4:a=s.next(),T.h=3;break;case 5:i.F=void 0;case 2:if(i.H){for(p=new i.i.GraphOptionChangeRequestList,v=f(i.H),m=v.next();!m.done;m=v.next())x=m.value,p.push_back(x);i.j.changeOptions(p),p.delete(),i.H=void 0}i.u=!1,T.h=0}})}e.initialize=function(){var i=this;return ue(function(s){return s.h==1?I(s,Oh(i),2):s.h!=3?I(s,Dh(i),3):I(s,Fh(i),0)})};function no(i,s){var a,c;return ue(function(p){return s in i.L?p.return(i.L[s]):(a=i.locateFile(s,""),c=fetch(a).then(function(v){return v.arrayBuffer()}),i.L[s]=c,p.return(c))})}e.overrideFile=function(i,s){this.j?this.j.overrideFile(i,s):this.D[i]=s},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(i,s){var a=this,c,p,v,m,x,T,G,ee,fe;return ue(function(ae){switch(ae.h){case 1:return a.h.inputs?(c=1e3*(s??performance.now()),I(ae,a.I,2)):ae.return();case 2:return I(ae,a.initialize(),3);case 3:for(p=new a.i.PacketDataList,v=f(Object.keys(i)),m=v.next();!m.done;m=v.next())if(x=m.value,T=a.h.inputs[x]){e:{var re=i[x];switch(T.type){case"video":var de=a.s[T.stream];if(de||(de=new Rl(a.i,a.K),a.s[T.stream]=de),de.m===0&&(de.m=de.i.createTexture()),typeof HTMLVideoElement<"u"&&re instanceof HTMLVideoElement)var ge=re.videoWidth,De=re.videoHeight;else typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(ge=re.naturalWidth,De=re.naturalHeight):(ge=re.width,De=re.height);De={glName:de.m,width:ge,height:De},ge=de.h,ge.canvas.width=De.width,ge.canvas.height=De.height,ge.activeTexture(ge.TEXTURE0),de.i.bindTexture2d(de.m),ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,ge.RGBA,ge.UNSIGNED_BYTE,re),de.i.bindTexture2d(0),de=De;break e;case"detections":for(de=a.s[T.stream],de||(de=new Ih(a.i),a.s[T.stream]=de),de.data||(de.data=new de.h.DetectionListData),de.data.reset(re.length),De=0;De<re.length;++De){ge=re[De];var Le=de.data,dt=Le.setBoundingBox,Ht=De,Mt=ge.la,Ne=new to;if(pn(Ne,1,Mt.ra),pn(Ne,2,Mt.sa),pn(Ne,3,Mt.height),pn(Ne,4,Mt.width),pn(Ne,5,Mt.rotation),hn(Ne,6,Mt.pa),Mt=Ne.l(),dt.call(Le,Ht,Mt),ge.ea)for(Le=0;Le<ge.ea.length;++Le){Ne=ge.ea[Le],dt=de.data,Ht=dt.addNormalizedLandmark,Mt=De,Ne=Object.assign({},Ne,{visibility:Ne.visibility?Ne.visibility:0});var ht=new xr;pn(ht,1,Ne.x),pn(ht,2,Ne.y),pn(ht,3,Ne.z),Ne.visibility&&pn(ht,4,Ne.visibility),Ne=ht.l(),Ht.call(dt,Mt,Ne)}if(ge.ba)for(Le=0;Le<ge.ba.length;++Le)dt=de.data,Ht=dt.addClassification,Mt=De,Ne=ge.ba[Le],ht=new Sr,pn(ht,2,Ne.score),Ne.index&&hn(ht,1,Ne.index),Ne.label&&hn(ht,3,Ne.label),Ne.displayName&&hn(ht,4,Ne.displayName),Ne=ht.l(),Ht.call(dt,Mt,Ne)}de=de.data;break e;default:de={}}}switch(G=de,ee=T.stream,T.type){case"video":p.pushTexture2d(Object.assign({},G,{stream:ee,timestamp:c}));break;case"detections":fe=G,fe.stream=ee,fe.timestamp=c,p.pushDetectionList(fe);break;default:throw Error("Unknown input config type: '"+T.type+"'")}}return a.j.send(p),I(ae,a.I,4);case 4:p.delete(),ae.h=0}})};function Bh(i,s,a){var c,p,v,m,x,T,G,ee,fe,ae,re,de,ge,De;return ue(function(Le){switch(Le.h){case 1:if(!a)return Le.return(s);for(c={},p=0,v=f(Object.keys(a)),m=v.next();!m.done;m=v.next())x=m.value,T=a[x],typeof T!="string"&&T.type==="texture"&&s[T.stream]!==void 0&&++p;1<p&&(i.M=!1),G=f(Object.keys(a)),m=G.next();case 2:if(m.done){Le.h=4;break}if(ee=m.value,fe=a[ee],typeof fe=="string")return ge=c,De=ee,I(Le,Uh(i,ee,s[fe]),14);if(ae=s[fe.stream],fe.type==="detection_list"){if(ae){for(var dt=ae.getRectList(),Ht=ae.getLandmarksList(),Mt=ae.getClassificationsList(),Ne=[],ht=0;ht<dt.size();++ht){var Dn=Ph(dt.get(ht)),Wh=mn(Dn,1),Hh=mn(Dn,2),Vh=mn(Dn,3),Gh=mn(Dn,4),Qh=mn(Dn,5,0),ro=void 0;ro=ro===void 0?0:ro,Dn={la:{ra:Wh,sa:Hh,height:Vh,width:Gh,rotation:Qh,pa:Zi(qt(Dn,6),ro)},ea:Ji(Nu(Ht.get(ht)),xr,1).map(Tu),ba:Pu(Eu(Mt.get(ht)))},Ne.push(Dn)}dt=Ne}else dt=[];c[ee]=dt,Le.h=7;break}if(fe.type==="proto_list"){if(ae){for(dt=Array(ae.size()),Ht=0;Ht<ae.size();Ht++)dt[Ht]=ae.get(Ht);ae.delete()}else dt=[];c[ee]=dt,Le.h=7;break}if(ae===void 0){Le.h=3;break}if(fe.type==="float_list"){c[ee]=ae,Le.h=7;break}if(fe.type==="proto"){c[ee]=ae,Le.h=7;break}if(fe.type!=="texture")throw Error("Unknown output config type: '"+fe.type+"'");return re=i.v[ee],re||(re=new Rl(i.i,i.K),i.v[ee]=re),I(Le,Au(re,ae,i.M),13);case 13:de=Le.i,c[ee]=de;case 7:fe.transform&&c[ee]&&(c[ee]=fe.transform(c[ee])),Le.h=3;break;case 14:ge[De]=Le.i;case 3:m=G.next(),Le.h=2;break;case 4:return Le.return(c)}})}function Uh(i,s,a){var c;return ue(function(p){return typeof a=="number"||a instanceof Uint8Array||a instanceof i.i.Uint8BlobList?p.return(a):a instanceof i.i.Texture2dDataOut?(c=i.v[s],c||(c=new Rl(i.i,i.K),i.v[s]=c),p.return(Au(c,a,i.M))):p.return(void 0)})}function $h(i,s){for(var a=s.name||"$",c=[].concat(d(s.wants)),p=new i.i.StringList,v=f(s.wants),m=v.next();!m.done;m=v.next())p.push_back(m.value);v=i.i.PacketListener.implement({onResults:function(x){for(var T={},G=0;G<s.wants.length;++G)T[c[G]]=x.get(G);var ee=i.listeners[a];ee&&(i.I=Bh(i,T,s.outs).then(function(fe){fe=ee(fe);for(var ae=0;ae<s.wants.length;++ae){var re=T[c[ae]];typeof re=="object"&&re.hasOwnProperty&&re.hasOwnProperty("delete")&&re.delete()}fe&&(i.I=fe)}))}}),i.j.attachMultiListener(p,v),p.delete()}e.onResults=function(i,s){this.listeners[s||"$"]=i},He("Solution",zl),He("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function zu(i){return i===void 0&&(i=0),i===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Lu(i){var s=this;i=i||{},this.h=new zl({locateFile:i.locateFile,files:function(a){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:zu(a.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Iu},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Iu},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(a){return a.map(function(c){return Pu(Eu(c))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(a){var c,p,v;return ue(function(m){return m.h==1?(c=zu(a),p="third_party/mediapipe/modules/hand_landmark/"+c,I(m,no(s.h,c),2)):(v=m.i,s.h.overrideFile(p,v),m.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}e=Lu.prototype,e.close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(i){this.h.onResults(i)},e.initialize=function(){var i=this;return ue(function(s){return I(s,i.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(i){var s=this;return ue(function(a){return I(a,s.h.send(i),0)})},e.setOptions=function(i){this.h.setOptions(i)},He("Hands",Lu),He("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),He("VERSION","0.4.1675469240")}).call(Ll);const Vt=(...e)=>{},yn={red:{lower1:[0,120,70],upper1:[10,255,255],lower2:[170,120,70],upper2:[180,255,255]},blue:{lower:[100,150,70],upper:[130,255,255]}},be={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity",selectedCamera:"detectorSelectedCamera"};function Xc({hidden:e=!1}){const t=P.useRef(null),n=P.useRef(null),r=P.useRef(null),o=P.useRef(null),[l,u]=P.useState(!1),[f,d]=P.useState("None"),[y,C]=P.useState([]),[M,j]=P.useState(null),[D,$]=P.useState(null),[U,ce]=P.useState(null),[g,w]=P.useState({a:null,b:null}),S=P.useRef(null),I=P.useRef(null),H=(R,E)=>{const A=localStorage.getItem(R);if(A===null)return E;const N=parseFloat(A);return Number.isFinite(N)?N:E},[q,K]=P.useState(()=>({roiSize:(()=>{const R=H(be.roiSize,44);return R>10?R:44})(),hueWeight:H(be.hueWeight,4),satWeight:H(be.satWeight,2),valWeight:H(be.valWeight,1),sensitivity:H(be.sensitivity,0)})),W=P.useRef(q),he=P.useRef(null),X=P.useRef(!1),ue=P.useRef(0),Ie=P.useRef(null),[Ee,Ae]=P.useState([]),He=P.useRef([]),[_e,Pe]=P.useState(()=>localStorage.getItem(be.selectedCamera)||""),Z=P.useCallback(async()=>{try{const E=(await navigator.mediaDevices.enumerateDevices()).filter(A=>A.kind==="videoinput");return Ae(E),He.current=E,E}catch{return[]}},[]),le=P.useCallback(R=>{},[Vt]),se=P.useCallback(async(R=null)=>{const E=t.current;if(!E)return;he.current&&(he.current.getTracks().forEach(k=>k.stop()),he.current=null),J();const A=++ue.current;Ie.current=null;const N=R!==null?R:_e;try{const k=N?{video:{deviceId:{exact:N}}}:{video:!0};if(N){const F=He.current.find(ne=>ne.deviceId===N);console.log("[Detector]  Loading SELECTED camera:",{deviceId:N,label:(F==null?void 0:F.label)||"Unknown",source:"localStorage or user selection"})}else console.log("[Detector]  Loading DEFAULT camera (no selection saved)");const _=await navigator.mediaDevices.getUserMedia(k);if(!X.current||A!==ue.current){Vt("Stale camera request (unmounted or superseded). Stopping stream."),_.getTracks().forEach(F=>F.stop());return}he.current=_;const z=_.getVideoTracks();if(Vt("getUserMedia success. Tracks:",z),z.length>0){const F=z[0];console.log("[Detector]  Camera loaded successfully:",{label:F.label,deviceId:F.getSettings().deviceId,resolution:`${F.getSettings().width}x${F.getSettings().height}`,frameRate:F.getSettings().frameRate})}if(E.srcObject=_,await new Promise(F=>{if(E.readyState>=1&&E.videoWidth>0&&E.videoHeight>0)return F();const ie=()=>{E.removeEventListener("loadedmetadata",ie),F()};E.addEventListener("loadedmetadata",ie,{once:!0}),setTimeout(()=>{E.removeEventListener("loadedmetadata",ie),F()},1500)}),!X.current||A!==ue.current){Vt("Stale request before play(). Stopping stream."),_.getTracks().forEach(F=>F.stop());return}try{await E.play(),Vt("video.play() promise resolved. Video should be playing.")}catch(F){if(console.error("[Detector] video.play() promise rejected:",F),Vt("video.play() promise rejected:",F.name,F.message),A!==ue.current){Vt("play() aborted due to newer request."),_.getTracks().forEach(ne=>ne.stop());return}}if(Ie.current!==A&&(Ie.current=A,Vt("Initializing MediaPipe for request id",A),Xe()),X.current){const F=await Z();if(!N||!R){const ne=F.find(ie=>ie.deviceId);ne&&ne.deviceId&&ne.deviceId!==_e&&(Pe(ne.deviceId),localStorage.setItem(be.selectedCamera,ne.deviceId))}}}catch(k){console.error("[Detector] Error accessing camera:",k),Vt("getUserMedia error:",k.name,k.message)}},[Vt,Z,le,_e]),me=(R,E,A)=>{const N=(R||0)*2,k=(E||0)/255,_=(A||0)/255,z=_*k,F=z*(1-Math.abs(N/60%2-1)),ne=_-z;let ie=0,pe=0,ve=0;N>=0&&N<60?(ie=z,pe=F,ve=0):N<120?(ie=F,pe=z,ve=0):N<180?(ie=0,pe=z,ve=F):N<240?(ie=0,pe=F,ve=z):N<300?(ie=F,pe=0,ve=z):(ie=z,pe=0,ve=F);const Se=Math.round((ie+ne)*255),et=Math.round((pe+ne)*255),ze=Math.round((ve+ne)*255);return`rgb(${Se}, ${et}, ${ze})`},ye=R=>R?me(R.h,R.s,R.v):"#ffffff",Ue=R=>R==="Player A"&&D?ye(D):R==="Player B"&&U?ye(U):R==="Red"?"#ff0000":R==="Blue"?"#0000ff":"#ffffff";P.useEffect(()=>{X.current=!0;const R=()=>{try{const N=JSON.parse(localStorage.getItem("calibrationA")||"null"),k=JSON.parse(localStorage.getItem("calibrationB")||"null");N&&$({h:N.h,s:N.s,v:N.v}),k&&ce({h:k.h,s:k.s,v:k.v})}catch{}},E=N=>{!N||!N.key||(["calibrationA","calibrationB"].includes(N.key)&&R(),[be.roiSize,be.hueWeight,be.satWeight,be.valWeight,be.sensitivity].includes(N.key)&&K(k=>({roiSize:(()=>{const _=H(be.roiSize,(k==null?void 0:k.roiSize)??44);return _>10?_:(k==null?void 0:k.roiSize)??44})(),hueWeight:H(be.hueWeight,(k==null?void 0:k.hueWeight)??4),satWeight:H(be.satWeight,(k==null?void 0:k.satWeight)??2),valWeight:H(be.valWeight,(k==null?void 0:k.valWeight)??1),sensitivity:H(be.sensitivity,(k==null?void 0:k.sensitivity)??0)})))};return(async()=>{const N=await Z();if(!X.current)return;const k=localStorage.getItem(be.selectedCamera);let _="";if(k&&N.some(z=>z.deviceId&&z.deviceId===k)){const z=N.find(F=>F.deviceId===k);_=k,console.log("[Detector]  Found saved camera in localStorage:",{deviceId:k,label:(z==null?void 0:z.label)||"Unknown"})}else{k&&localStorage.removeItem(be.selectedCamera);const z=N.find(F=>F.deviceId);z&&z.deviceId?(_=z.deviceId,localStorage.setItem(be.selectedCamera,z.deviceId),console.log("[Detector]  No saved camera found, using system default:",{deviceId:z.deviceId,label:z.label||"Unknown",savedCameraWas:k||"none"}),Vt("Saved camera not found, using default camera:",z.deviceId)):console.log("[Detector]  No camera identifiers available yet (likely awaiting permission).")}Pe(_?z=>z===_?z:_:z=>z||""),R()})(),window.addEventListener("storage",E),()=>{X.current=!1,ue.current+=1,Ie.current=null,o.current&&(o.current.stop(),o.current=null),he.current&&(he.current.getTracks().forEach(k=>k.stop()),he.current=null);const N=t.current;N&&(N.srcObject=null,le(N)),r.current&&(r.current.close(),r.current=null),window.removeEventListener("storage",E)}},[]),P.useEffect(()=>{S.current=D},[D]),P.useEffect(()=>{I.current=U},[U]),P.useEffect(()=>{W.current=q},[q]),P.useEffect(()=>{se(_e||null)},[_e,se]),P.useEffect(()=>{const R=setInterval(()=>{d(E=>($e(E),E))},1e3);return()=>clearInterval(R)},[]);const $e=R=>{const A={timestamp:new Date().toISOString(),status:R};C(k=>[...k,A]);const N=JSON.parse(localStorage.getItem("braceletDetections")||"[]");N.push(A),localStorage.setItem("braceletDetections",JSON.stringify(N))},Xe=async()=>{try{const R=await(async()=>{try{if(typeof il.Hands=="function")return il.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((A,N)=>{const k="mp-hands-cdn-script";if(document.getElementById(k))return A();const _=document.createElement("script");_.id=k,_.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",_.async=!0,_.onload=()=>A(),_.onerror=z=>N(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(_)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),E=new R({locateFile:A=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${A}`});if(E.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),E.onResults(Re),r.current=E,t.current){const A=t.current;console.log("[Detector]  Starting manual frame capture from video element");let N;const k=async()=>{if(A.readyState>=2&&A.videoWidth>0)try{await E.send({image:A})}catch(_){console.error("[Detector] Error sending frame to MediaPipe:",_)}N=requestAnimationFrame(k)};k(),o.current={stop:()=>{N&&(cancelAnimationFrame(N),console.log("[Detector]  Stopped frame capture"))}}}}catch(R){console.error("MediaPipe initialization error:",R),j(`MediaPipe error: ${R.message}`)}},Re=R=>{var z;const E=n.current,A=t.current;if(!E||!A)return;const N=E.getContext("2d");E.width=A.videoWidth,E.height=A.videoHeight,N.drawImage(A,0,0,E.width,E.height);let k="None";if(R.multiHandLandmarks&&R.multiHandLandmarks.length>0){Vt("onResults: hands=",R.multiHandLandmarks.length);let F=null,ne=0;if(R.multiHandLandmarks.forEach(ie=>{const pe=ie[0];pe.y>ne&&(ne=pe.y,F=ie)}),R.multiHandLandmarks.forEach(ie=>{V(N,ie,E.width,E.height)}),F){const ie=F[0],pe=ie.x*E.width,ve=ie.y*E.height;N.fillStyle="lime",N.beginPath(),N.arc(pe,ve,10,0,2*Math.PI),N.fill(),N.fillStyle="lime",N.font="16px Arial",N.fillText("SELECTED",pe-40,ve-15);const et=Math.max(10,Math.min(300,Math.floor(((z=W.current)==null?void 0:z.roiSize)||60)))/2,ze=Math.max(0,pe-et),Ke=Math.max(0,ve-et),nt=Math.min(E.width,pe+et),xe=Math.min(E.height,ve+et);N.strokeStyle="lime",N.lineWidth=3,N.strokeRect(ze,Ke,nt-ze,xe-Ke);const ke=N.getImageData(ze,Ke,nt-ze,xe-Ke),Ce=S.current,Me=I.current,Je=O(ke,Ce,Me);k=Je.status,w({a:Je.percentA,b:Je.percentB})}}let _="#ffffff";k==="Player A"&&S.current?_=ye(S.current):k==="Player B"&&I.current&&(_=ye(I.current)),N.fillStyle=_,N.font="bold 32px Arial",N.fillText(`Status: ${k}`,10,40),d(k),typeof window<"u"&&(window.currentBraceletStatus=k,window.braceletDetectorCanvas=E,window.braceletDetectorVideo=A)},V=(R,E,A,N)=>{R.strokeStyle="white",R.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([_,z])=>{const F=E[_],ne=E[z];R.beginPath(),R.moveTo(F.x*A,F.y*N),R.lineTo(ne.x*A,ne.y*N),R.stroke()}),E.forEach(_=>{R.fillStyle="red",R.beginPath(),R.arc(_.x*A,_.y*N,5,0,2*Math.PI),R.fill()})},te=R=>{const E=R.data;let A=0,N=0;for(let k=0;k<E.length;k+=4){const _=E[k],z=E[k+1],F=E[k+2],ne=B(_,z,F);(ne[0]>=yn.red.lower1[0]&&ne[0]<=yn.red.upper1[0]||ne[0]>=yn.red.lower2[0]&&ne[0]<=yn.red.upper2[0])&&ne[1]>=yn.red.lower1[1]&&ne[2]>=yn.red.lower1[2]&&A++,ne[0]>=yn.blue.lower[0]&&ne[0]<=yn.blue.upper[0]&&ne[1]>=yn.blue.lower[1]&&ne[2]>=yn.blue.lower[2]&&N++}return{redCount:A,blueCount:N}},O=(R,E,A)=>{var et,ze,Ke,nt;const N=R.data;if(E&&!A)return{status:"Player A",percentA:null,percentB:null};if(A&&!E)return{status:"Player B",percentA:null,percentB:null};const k=((et=W.current)==null?void 0:et.hueWeight)??4,_=((ze=W.current)==null?void 0:ze.satWeight)??2,z=((Ke=W.current)==null?void 0:Ke.valWeight)??1,F=((nt=W.current)==null?void 0:nt.sensitivity)??0;if(E&&A){let xe=0,ke=0,Ce=0;for(let ot=0;ot<N.length;ot+=4){const at=N[ot],rt=N[ot+1],xt=N[ot+2],[zt,Lt,cn]=B(at,rt,xt),Wt=Math.min(1,Math.max(0,Lt/255)),ir=Math.min(1,Math.max(0,cn/255)),zn=Math.max(.05,.5*Wt+.5*ir),Ln=Math.min(Math.abs(zt-E.h),180-Math.abs(zt-E.h)),On=Math.min(Math.abs(zt-A.h),180-Math.abs(zt-A.h)),wr=Math.abs(Lt-E.s),Zt=Math.abs(Lt-A.s),Yi=Math.abs(cn-E.v),bt=Math.abs(cn-A.v),fn=Ln*k+wr*_+Yi*z,Zr=On*k+Zt*_+bt*z;Math.min(fn,Zr)>180||(fn<=Zr?xe+=zn:ke+=zn,Ce+=zn)}if(Ce===0)return{status:"None",percentA:0,percentB:0};const Me=xe/Math.max(1e-6,Ce),Je=ke/Math.max(1e-6,Ce),En=.12*(1+.8*Math.max(0,Math.min(1,F)));return Me>=En&&Me>=Je?{status:"Player A",percentA:Me,percentB:Je}:Je>=En&&Je>Me?{status:"Player B",percentA:Me,percentB:Je}:{status:"None",percentA:Me,percentB:Je}}const{redCount:ne,blueCount:ie}=te(R),pe=ne+ie;if(pe===0)return{status:"None",percentA:0,percentB:0};const ve=ne/pe,Se=ie/pe;return ve>=.15&&ve>=Se?{status:"Player A",percentA:ve,percentB:Se}:Se>=.15&&Se>ve?{status:"Player B",percentA:ve,percentB:Se}:{status:"None",percentA:ve,percentB:Se}},B=(R,E,A)=>{R/=255,E/=255,A/=255;const N=Math.max(R,E,A),k=Math.min(R,E,A),_=N-k;let z=0;_!==0&&(N===R?z=60*((E-A)/_%6):N===E?z=60*((A-R)/_+2):z=60*((R-E)/_+4)),z<0&&(z+=360);const F=N===0?0:_/N*255,ne=N*255;return[z/2,F,ne]},J=R=>{},L=R=>{Pe(R),R?localStorage.setItem(be.selectedCamera,R):localStorage.removeItem(be.selectedCamera)},Q=()=>{const R=JSON.parse(localStorage.getItem("braceletDetections")||"[]"),E=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),A=URL.createObjectURL(E),N=document.createElement("a");N.href=A,N.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.json`,N.click();const k=R.map(ne=>`${ne.timestamp}: ${ne.status}`).join(`
`),_=new Blob([k],{type:"text/plain"}),z=URL.createObjectURL(_),F=document.createElement("a");F.href=z,F.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.txt`,F.click()},b=()=>{localStorage.removeItem("braceletDetections"),C([])};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:`detector-window ${l?"minimized":""}`,style:e?{opacity:0,pointerEvents:"none",visibility:"hidden"}:void 0,children:[h.jsxs("div",{className:"detector-header",children:[h.jsx("span",{children:"Bracelet Detector"}),h.jsxs("div",{className:"detector-controls",children:[h.jsx("button",{onClick:Q,title:"Download Logs",children:""}),h.jsx("button",{onClick:b,title:"Clear Logs",children:""}),h.jsx("button",{onClick:()=>u(!l),children:l?"":""})]})]}),h.jsxs("div",{className:"detector-content",style:{display:l?"none":"block"},children:[h.jsxs("div",{style:{fontSize:12,opacity:.8,marginBottom:8,display:"flex",alignItems:"center",gap:6},children:[h.jsx("span",{children:"Camera:"}),h.jsxs("select",{value:_e,onChange:R=>L(R.target.value),style:{fontSize:11,padding:"3px 6px",flex:1,maxWidth:200},children:[h.jsx("option",{value:"",children:"System Default"}),Ee.map((R,E)=>{var F;const A=!!R.deviceId,N=A?R.deviceId:"",k=A?R.deviceId:`camera-${E}`,_=((F=R.label)==null?void 0:F.trim())||`Camera ${E+1}`,z=A?`  ${R.deviceId.slice(0,8)}`:" (needs permission)";return h.jsxs("option",{value:N,disabled:!A,children:[_,z]},k)})]})]}),h.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),h.jsx("canvas",{ref:n,className:"output_canvas"}),h.jsxs("div",{className:"detector-info",children:[h.jsxs("div",{className:"status-display",children:["Status: ",h.jsx("span",{style:{color:Ue(f),fontWeight:700},children:f})]}),h.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[h.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),h.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:D?ye(D):"#444"}}),h.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"A confidence",children:g.a==null?"":`${Math.round(Math.max(0,Math.min(1,g.a))*100)}%`})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[h.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),h.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:U?ye(U):"#444"}}),h.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"B confidence",children:g.b==null?"":`${Math.round(Math.max(0,Math.min(1,g.b))*100)}%`})]})]}),h.jsxs("div",{className:"log-count",children:["Logs: ",y?y.length:0]}),h.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[h.jsxs("div",{children:["A: ",D?`h${Math.round(D.h)} s${Math.round(D.s)} v${Math.round(D.v)}`:""]}),h.jsxs("div",{children:["B: ",U?`h${Math.round(U.h)} s${Math.round(U.s)} v${Math.round(U.v)}`:""]})]})]})]})]})})}const cs=(...e)=>{console.log("[Calibrate]",...e)},gn={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"},Iv=(e,t,n)=>{const r=(e||0)*2,o=(t||0)/255,l=(n||0)/255,u=l*o,f=u*(1-Math.abs(r/60%2-1)),d=l-u;let y=0,C=0,M=0;r>=0&&r<60?(y=u,C=f,M=0):r<120?(y=f,C=u,M=0):r<180?(y=0,C=u,M=f):r<240?(y=0,C=f,M=u):r<300?(y=f,C=0,M=u):(y=u,C=0,M=f);const j=Math.round((y+d)*255),D=Math.round((C+d)*255),$=Math.round((M+d)*255);return`rgb(${j}, ${D}, ${$})`},Kc=e=>e?Iv(e.h,e.s,e.v):"#444";function Av(){const e=P.useRef(null),t=P.useRef(null),n=P.useRef(null),r=P.useRef(!1),o=P.useRef(0),[l,u]=P.useState(!1),[f,d]=P.useState(""),[y,C]=P.useState(null),[M,j]=P.useState(null),D=(V,te)=>{const O=localStorage.getItem(V);if(O===null)return te;const B=parseFloat(O);return Number.isFinite(B)?B:te},[$,U]=P.useState(()=>{const V=D(gn.roiSize,44);return V>10?V:44}),[ce,g]=P.useState(()=>D(gn.hueWeight,4)),[w,S]=P.useState(()=>D(gn.satWeight,2)),[I,H]=P.useState(()=>D(gn.valWeight,1)),[q,K]=P.useState(()=>D(gn.sensitivity,0)),[W,he]=P.useState(!1),[X,ue]=P.useState("idle"),[Ie,Ee]=P.useState(5),Ae=P.useRef({A:[],B:[]});P.useEffect(()=>{r.current=!0;try{const V=JSON.parse(localStorage.getItem("calibrationA")||"null"),te=JSON.parse(localStorage.getItem("calibrationB")||"null");V&&C(V),te&&j(te)}catch{}return(async()=>await He())(),()=>{r.current=!1,o.current+=1,n.current&&(n.current.getTracks().forEach(te=>te.stop()),n.current=null);const V=e.current;V&&(V.srcObject=null)}},[]),P.useEffect(()=>{localStorage.setItem(gn.roiSize,String($))},[$]),P.useEffect(()=>{localStorage.setItem(gn.hueWeight,String(ce))},[ce]),P.useEffect(()=>{localStorage.setItem(gn.satWeight,String(w))},[w]),P.useEffect(()=>{localStorage.setItem(gn.valWeight,String(I))},[I]),P.useEffect(()=>{localStorage.setItem(gn.sensitivity,String(q))},[q]);const He=P.useCallback(async()=>{const V=e.current;if(!V)return;n.current&&(n.current.getTracks().forEach(O=>O.stop()),n.current=null);const te=++o.current;u(!1),d("Requesting camera...");try{const O=await navigator.mediaDevices.getUserMedia({video:!0});if(!r.current||te!==o.current){O.getTracks().forEach(B=>B.stop());return}if(n.current=O,V.srcObject=O,await new Promise(B=>{if(V.readyState>=1&&V.videoWidth>0)return B();const L=()=>{V.removeEventListener("loadedmetadata",L),B()};V.addEventListener("loadedmetadata",L,{once:!0}),setTimeout(()=>{V.removeEventListener("loadedmetadata",L),B()},1500)}),!r.current||te!==o.current){O.getTracks().forEach(B=>B.stop());return}try{await V.play(),cs("video.play resolved")}catch(B){cs("video.play rejected",B)}u(!0),d("")}catch(O){d(`Camera error: ${(O==null?void 0:O.message)||O}`),cs("getUserMedia error",O)}},[]),_e=(V,te,O)=>{V/=255,te/=255,O/=255;const B=Math.max(V,te,O),J=Math.min(V,te,O),L=B-J;let Q=0;L!==0&&(B===V?Q=60*((te-O)/L%6):B===te?Q=60*((O-V)/L+2):Q=60*((V-te)/L+4)),Q<0&&(Q+=360);const b=B===0?0:L/B*255,R=B*255;return[Q/2,b,R]},Pe=()=>{const V=e.current,te=t.current;if(!V||!te||V.videoWidth===0)return null;const O=V.videoWidth,B=V.videoHeight;te.width=O,te.height=B;const J=te.getContext("2d");J.drawImage(V,0,0,O,B);const L=Math.max(10,Math.min(300,Math.floor($))),Q=Math.floor(O/2-L/2),b=Math.floor(B/2-L/2),E=J.getImageData(Q,b,L,L).data;let A=0,N=0,k=0,_=0,z=0;for(let ze=0;ze<E.length;ze+=4){const[Ke,nt,xe]=_e(E[ze],E[ze+1],E[ze+2]),ke=Ke*2*(Math.PI/180);A+=Math.cos(ke),N+=Math.sin(ke),k+=nt,_+=xe,z++}if(z===0)return null;const F=k/z,ne=_/z,ie=A/z,pe=N/z;let Se=Math.atan2(pe,ie)*(180/Math.PI);return Se<0&&(Se+=360),{h:Se/2,s:F,v:ne}},Z=V=>{const te=Pe();if(!te){d("Could not sample video frame.");return}V==="A"?(localStorage.setItem("calibrationA",JSON.stringify(te)),C(te),d(`Saved Player A: h${te.h.toFixed(0)}`)):(localStorage.setItem("calibrationB",JSON.stringify(te)),j(te),d(`Saved Player B: h${te.h.toFixed(0)}`))},le=V=>{V==="A"?(localStorage.removeItem("calibrationA"),C(null)):(localStorage.removeItem("calibrationB"),j(null)),d("Cleared")},se=()=>{he(!0),ue("playerA"),Ee(5),Ae.current={A:[],B:[]},d("Hold Player A bracelet in center square...")};P.useEffect(()=>{if(!(!W||X==="idle"||X==="optimizing"||X==="complete"))if(Ie>0){const V=setTimeout(()=>{Ee(Ie-1)},1e3);return()=>clearTimeout(V)}else X==="playerA"?(ue("switching"),Ee(3),d("Switch to Player B... Get ready!")):X==="switching"?(ue("playerB"),Ee(5),d("Hold Player B bracelet in center square...")):X==="playerB"&&(ue("optimizing"),me())},[W,X,Ie]),P.useEffect(()=>{if(!W||X==="idle"||X==="switching"||X==="optimizing"||X==="complete")return;const V=setInterval(()=>{const te=Pe();te&&(X==="playerA"?Ae.current.A.push(te):X==="playerB"&&Ae.current.B.push(te))},200);return()=>clearInterval(V)},[W,X]);const me=()=>{d("Optimizing parameters...");const V=Ae.current.A,te=Ae.current.B;if(V.length===0||te.length===0){d("Error: Not enough samples collected!"),he(!1),ue("idle");return}const O=ye(V),B=ye(te),J=Math.min(Math.abs(O.h-B.h),180-Math.abs(O.h-B.h)),L=Math.abs(O.s-B.s),Q=Math.abs(O.v-B.v),b=J/90,R=L/255,E=Q/255,A=Ue(V),N=Ue(te),k={h:(A.h+N.h)/2,s:(A.s+N.s)/2,v:(A.v+N.v)/2},_=b+R+E,z=_>0?b/_*(1/(1+k.h/20))*6:2,F=_>0?R/_*(1/(1+k.s/50))*4:1,ne=_>0?E/_*(1/(1+k.v/50))*3:.5;g(Math.max(.5,Math.min(6,z))),S(Math.max(.1,Math.min(4,F))),H(Math.max(.1,Math.min(3,ne)));const ie=$e(V,te,O,B),pe=Math.max(0,Math.min(.8,ie*.5));K(pe),localStorage.setItem("calibrationA",JSON.stringify(O)),localStorage.setItem("calibrationB",JSON.stringify(B)),C(O),j(B),ue("complete"),d(` Auto-calibration complete! Collected ${V.length+te.length} samples. Optimized parameters for best separation.`),setTimeout(()=>{he(!1),ue("idle")},3e3)},ye=V=>{const te=V.map(N=>N.h),O=V.map(N=>N.s).sort((N,k)=>N-k),B=V.map(N=>N.v).sort((N,k)=>N-k);let J=0,L=0;te.forEach(N=>{const k=N*2*(Math.PI/180);J+=Math.cos(k),L+=Math.sin(k)});let b=Math.atan2(L/te.length,J/te.length)*(180/Math.PI);b<0&&(b+=360);const R=b/2,E=O[Math.floor(O.length/2)],A=B[Math.floor(B.length/2)];return{h:R,s:E,v:A}},Ue=V=>{const te=V.reduce((B,J)=>({h:B.h+J.h,s:B.s+J.s,v:B.v+J.v}),{h:0,s:0,v:0});te.h/=V.length,te.s/=V.length,te.v/=V.length;const O=V.reduce((B,J)=>({h:B.h+Math.pow(J.h-te.h,2),s:B.s+Math.pow(J.s-te.s,2),v:B.v+Math.pow(J.v-te.v,2)}),{h:0,s:0,v:0});return{h:O.h/V.length,s:O.s/V.length,v:O.v/V.length}},$e=(V,te,O,B)=>{let J=0;const L=Math.min(V.length,te.length)*2;return V.forEach(Q=>{const b=Xe(Q,O);Xe(Q,B)<b*1.5&&J++}),te.forEach(Q=>{const b=Xe(Q,O),R=Xe(Q,B);b<R*1.5&&J++}),J/L},Xe=(V,te)=>{const O=Math.min(Math.abs(V.h-te.h),180-Math.abs(V.h-te.h)),B=Math.abs(V.s-te.s),J=Math.abs(V.v-te.v);return Math.sqrt(O*O+B*B+J*J)},Re=()=>{he(!1),ue("idle"),Ee(5),d("Generic mode cancelled")};return h.jsxs("div",{className:"calib-root",children:[h.jsxs("div",{className:"calib-header",children:[h.jsx("h2",{children:"Color Calibration"}),h.jsxs("div",{className:"calib-actions",children:[h.jsx("button",{onClick:()=>window.location.hash="",children:"Back"}),h.jsx("button",{onClick:He,children:"Restart Camera"})]})]}),f&&h.jsx("div",{className:"calib-message",children:f}),h.jsxs("div",{className:"calib-content",children:[h.jsx("div",{children:h.jsxs("div",{className:"calib-block",style:{marginBottom:12},children:[h.jsx("div",{className:"label",children:"Live Preview"}),h.jsx("div",{className:"value",style:{marginBottom:8},children:W?`Generic Mode Active: ${X==="playerA"?"Player A":X==="switching"?"Switching...":X==="playerB"?"Player B":"Processing..."}`:"Place the bracelet color inside the center square to sample accurate HSV."}),h.jsxs("div",{className:"calib-video-wrap",children:[h.jsx("video",{ref:e,className:"calib-video",autoPlay:!0,playsInline:!0,muted:!0}),h.jsx("div",{className:"calib-center-box",style:{width:$,height:$,borderColor:"#22d3ee",borderWidth:W?"4px":"3px",boxShadow:W?"0 0 20px rgba(34, 211, 238, 0.6)":"0 0 0 2000px rgba(0,0,0,0.35)"}}),W&&Ie>0&&h.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"72px",fontWeight:"bold",color:"#22d3ee",textShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.5)",pointerEvents:"none",zIndex:10},children:Ie})]})]})}),h.jsxs("div",{className:"calib-controls",children:[h.jsxs("div",{className:"calib-block",style:{background:W?"#1a2332":"#0f172a",border:W?"2px solid #22d3ee":"1px solid #1f2937"},children:[h.jsx("div",{className:"label",children:" Generic Mode (Auto-Calibration)"}),h.jsx("div",{className:"value",style:{fontSize:13,marginBottom:8},children:"Automatically calibrate both players with optimized parameters. Hold each bracelet in the center square for 5 seconds."}),W?h.jsxs("div",{style:{marginTop:8},children:[h.jsxs("div",{style:{fontSize:16,fontWeight:"bold",color:"#22d3ee",marginBottom:8},children:[X==="playerA"&&`Player A: Hold bracelet steady... ${Ie}s`,X==="switching"&&`Switch hands! Get Player B ready... ${Ie}s`,X==="playerB"&&`Player B: Hold bracelet steady... ${Ie}s`,X==="optimizing"&&"Optimizing parameters...",X==="complete"&&" Complete!"]}),h.jsxs("div",{style:{fontSize:12,opacity:.7,marginBottom:8},children:[X==="playerA"&&`Samples collected: ${Ae.current.A.length}`,X==="switching"&&`Player A: ${Ae.current.A.length} samples collected`,X==="playerB"&&`Samples collected: ${Ae.current.B.length}`]}),X!=="complete"&&h.jsx("button",{onClick:Re,style:{background:"#ef4444"},children:"Cancel"})]}):h.jsx("div",{className:"buttons",children:h.jsx("button",{onClick:se,disabled:!l,style:{background:"#22d3ee",color:"#000",fontWeight:"bold"},children:"Start Generic Mode"})})]}),h.jsxs("div",{className:"calib-block",children:[h.jsx("div",{className:"label",children:"Detector Settings"}),h.jsxs("div",{className:"value",style:{display:"grid",gap:8},children:[h.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[h.jsx("span",{children:"Detection square size"}),h.jsx("input",{type:"range",min:"20",max:"240",step:"2",value:$,onChange:V=>U(Number(V.target.value))}),h.jsxs("span",{style:{textAlign:"right"},children:[$,"px"]})]}),h.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[h.jsx("span",{children:"Hue weight"}),h.jsx("input",{type:"range",min:"0",max:"6",step:"0.1",value:ce,onChange:V=>g(Number(V.target.value))}),h.jsx("span",{style:{textAlign:"right"},children:ce.toFixed(1)})]}),h.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[h.jsx("span",{children:"Saturation weight"}),h.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:w,onChange:V=>S(Number(V.target.value))}),h.jsx("span",{style:{textAlign:"right"},children:w.toFixed(1)})]}),h.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[h.jsx("span",{children:"Value weight"}),h.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:I,onChange:V=>H(Number(V.target.value))}),h.jsx("span",{style:{textAlign:"right"},children:I.toFixed(1)})]}),h.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[h.jsx("span",{children:"Sensitivity (lower = more sensitive)"}),h.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:q,onChange:V=>K(Number(V.target.value))}),h.jsxs("span",{style:{textAlign:"right"},children:[(q*100).toFixed(0),"%"]})]}),h.jsx("div",{style:{fontSize:12,opacity:.7},children:"These settings are saved to local storage and used by the detector (wrist ROI, A/B decision weights, and sensitivity gate)."})]})]}),h.jsxs("div",{className:"calib-block",children:[h.jsx("div",{className:"label",children:"Player A"}),h.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[h.jsx("span",{title:"Player A color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Kc(y)}}),h.jsx("span",{children:y?`h${y.h.toFixed(0)} s${y.s.toFixed(0)} v${y.v.toFixed(0)}`:""})]}),h.jsxs("div",{className:"buttons",children:[h.jsx("button",{onClick:()=>Z("A"),disabled:!l,children:"Save A"}),h.jsx("button",{onClick:()=>le("A"),children:"Clear A"})]})]}),h.jsxs("div",{className:"calib-block",children:[h.jsx("div",{className:"label",children:"Player B"}),h.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[h.jsx("span",{title:"Player B color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Kc(M)}}),h.jsx("span",{children:M?`h${M.h.toFixed(0)} s${M.s.toFixed(0)} v${M.v.toFixed(0)}`:""})]}),h.jsxs("div",{className:"buttons",children:[h.jsx("button",{onClick:()=>Z("B"),disabled:!l,children:"Save B"}),h.jsx("button",{onClick:()=>le("B"),children:"Clear B"})]})]})]})]}),h.jsx("canvas",{ref:t,className:"calib-offscreen"})]})}function ch({initialData:e=null,title:t="Game Summary",enableFileUpload:n=!0,className:r=""}){var J;const[o,l]=P.useState(e),[u,f]=P.useState(0),[d,y]=P.useState(!1),[C,M]=P.useState(1),[j,D]=P.useState(Ci()),[$,U]=P.useState(!0),[ce,g]=P.useState([]),[w,S]=P.useState(null),I=P.useRef(null),H=P.useRef(null),q=P.useRef(null),K=n&&!e,W=["summary-container",r].filter(Boolean).join(" "),he=(L,Q)=>{const b=q.current;if(!b)return 0;const R=b.offsetHeight;return(L+.5)*R},X=P.useCallback((L,Q=null)=>{const b=Q||o;if(!b)return;let R=Ci(),E=!0;const A=[];let N=null;for(let k=0;k<=L&&k<b.moves.length;k++){const _=b.moves[k];_.phase==="experiment"&&E&&(E=!1,R=Ci());const z=_.all_positions||(_.allPositions?_.allPositions.map(F=>[F[0]*.07,F[1]*.07]):null);if(_.type==="moveblock"&&z)z.length===10&&R.length===10?R=R.map((F,ne)=>{const ie=z[ne];return ie&&Array.isArray(ie)&&ie.length===2?{...F,position:[ie[0],ie[1]]}:F}):console.warn(`Position count mismatch: blocks=${R.length}, positions=${z==null?void 0:z.length}`),R=la(oa(R),E),N=_.blockId!==void 0?_.blockId:_.unit;else if(_.type==="added shape to gallery"&&_.gallery_normalized){const F=document.createElement("canvas");F.width=400,F.height=400;const ne=F.getContext("2d");ne.fillStyle="#000",ne.fillRect(0,0,400,400),_.gallery_normalized.forEach(ie=>{const pe=(ie[0]+.5)*400,ve=(ie[1]+.5)*400;ne.fillStyle="green";const Se=60;ne.fillRect(pe-Se/2,ve-Se/2,Se,Se)}),A.push({number:_.gallery_shape_number,image:F.toDataURL()}),N=null}}D(R),U(E),g(A),S(N)},[o]),ue=L=>{l(L),f(0),y(!1),setTimeout(()=>{X(0,L)},0)},Ie=L=>{if(!K)return;const Q=L.target.files[0];if(!Q)return;const b=new FileReader;b.onload=R=>{try{const E=JSON.parse(R.target.result);ue(E)}catch(E){alert("Failed to parse JSON file: "+E.message)}},b.readAsText(Q)};P.useEffect(()=>{e&&ue(e)},[e]),P.useEffect(()=>{o&&u>=0&&X(u)},[o,u,X]),P.useEffect(()=>{const L=()=>{o&&u>=0&&setTimeout(()=>{X(u)},100)};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[o,u,X]);const Ee=L=>{o&&(L<0||L>=o.moves.length||(X(L),f(L)))},Ae=()=>{if(!o||d)return;y(!0),f(0),X(0);let L=0;H.current=setInterval(()=>{if(L>=o.moves.length){He();return}L++,X(L),f(L)},1e3/C)},He=()=>{H.current&&(clearInterval(H.current),H.current=null),y(!1)};if(P.useEffect(()=>()=>{H.current&&clearInterval(H.current)},[]),P.useEffect(()=>{if(d&&H.current){clearInterval(H.current),H.current=null;const L=u;f(0),y(!1),setTimeout(()=>{f(L),Ae()},0)}},[C]),!o)return K?h.jsx("div",{className:W,children:h.jsxs("div",{className:"summary-upload",children:[h.jsx("h1",{children:t}),h.jsx("p",{children:"Load a game session JSON file to view the replay"}),h.jsx("input",{ref:I,type:"file",accept:".json",onChange:Ie,style:{display:"none"}}),h.jsx("button",{onClick:()=>{var L;return(L=I.current)==null?void 0:L.click()},children:"Load JSON File"})]})}):null;const _e=o.moves[u],Pe=o.moves.length,Z=((J=o.summary)==null?void 0:J.movesByPlayer)||{},le=Object.entries(Z||{}),se=(L,Q=1)=>Number.isFinite(L)?L.toFixed(Q):"",me=o.sessionInfo||{},ye=me.subjectId||me.id||o.subjectId||o.id||null,Ue=me.sessionGameId||o.sessionGameId||ye||null,$e=me.condition||o.condition||null,Xe=o.startTime||me.startedAt||me.date||null,Re=o.endTime||me.endedAt||null,V=L=>{if(!L)return null;try{const Q=new Date(L);if(!Number.isNaN(Q.getTime()))return Q.toLocaleString()}catch{}return L},te=[];Ue&&te.push({label:"Session ID",value:Ue}),ye&&ye!==Ue&&te.push({label:"Participant",value:ye}),$e&&te.push({label:"Condition",value:$e});const O=V(Xe);O&&te.push({label:"Start",value:O});const B=V(Re);return B&&te.push({label:"End",value:B}),h.jsxs("div",{className:W,children:[h.jsxs("div",{className:"summary-header",children:[h.jsx("h1",{children:t}),te.length>0&&h.jsx("div",{className:"summary-session-info",children:te.map(L=>h.jsxs("div",{className:"summary-session-info-item",children:[h.jsx("span",{className:"summary-session-info-label",children:L.label}),h.jsx("span",{className:"summary-session-info-value",children:L.value})]},`${L.label}-${L.value}`))})]}),h.jsxs("div",{className:"summary-main",children:[h.jsxs("div",{className:"summary-left",children:[h.jsx("div",{className:"summary-game-area",children:h.jsxs("div",{className:"game-canvas",ref:q,children:[h.jsx("div",{className:"gallery",children:h.jsx("div",{className:"gallery-frame",children:ce.length>0?h.jsx("img",{src:ce[ce.length-1].image,alt:"Gallery",className:"gallery-image"}):h.jsx("div",{className:"gallery-placeholder",children:"Gallery"})})}),j.map((L,Q)=>{const b=L.position||[0,0];return!Array.isArray(b)||b.length!==2||!Number.isFinite(b[0])||!Number.isFinite(b[1])?(console.warn(`Invalid position for block ${L.id}:`,b),null):h.jsx("div",{className:`block ${L.canMove?"movable":""} ${L.id===w?"highlighted":""}`,style:{left:`${he(b[0])}px`,top:`${he(b[1])}px`,backgroundColor:L.color||"green",cursor:L.canMove?"grab":"default",zIndex:L.id===w?20:Q+1}},L.id)})]})}),h.jsxs("div",{className:"summary-progress",children:[h.jsx("input",{type:"range",min:"0",max:Math.max(0,Pe-1),value:u,onChange:L=>Ee(parseInt(L.target.value)),style:{width:"100%"}}),h.jsxs("div",{className:"progress-info",children:["Move ",u+1," of ",Pe,_e&&h.jsxs("span",{className:"move-info",children:[" "," Player: ",_e.player,Array.isArray(_e.position)&&_e.position.length===2&&`  Position: (${_e.position[0]}, ${_e.position[1]})`,Number.isFinite(_e.holdTime)&&`  Hold: ${se(_e.holdTime,2)}s`," "," Time: ",se(_e.elapsed,1),"s"]})]})]})]}),h.jsxs("div",{className:"summary-right",children:[h.jsxs("div",{className:"summary-stats",children:[h.jsxs("div",{className:"summary-stats-row",children:[h.jsx("span",{className:"summary-stats-label",children:"Duration"}),h.jsxs("span",{className:"summary-stats-value",children:[Math.floor(o.duration/60),":",(o.duration%60).toFixed(0).padStart(2,"0")]})]}),h.jsxs("div",{className:"summary-stats-row",children:[h.jsx("span",{className:"summary-stats-label",children:"Total Moves"}),h.jsx("span",{className:"summary-stats-value",children:Pe})]}),h.jsxs("div",{className:"summary-stats-row summary-stats-column",children:[h.jsx("span",{className:"summary-stats-label",children:"Moves by Player"}),h.jsx("div",{className:"summary-stats-value",children:le.length===0?h.jsx("span",{children:""}):le.map(([L,Q])=>h.jsxs("div",{children:[L,": ",Q]},L))})]})]}),h.jsxs("div",{className:"summary-controls",children:[h.jsx("button",{onClick:()=>Ee(0),disabled:u===0,children:" First"}),h.jsx("button",{onClick:()=>Ee(u-1),disabled:u===0,children:" Previous"}),h.jsx("button",{onClick:d?He:Ae,children:d?" Pause":" Play"}),h.jsx("button",{onClick:()=>Ee(u+1),disabled:u>=Pe-1,children:" Next"}),h.jsx("button",{onClick:()=>Ee(Pe-1),disabled:u>=Pe-1,children:" Last"}),h.jsxs("div",{className:"speed-control",children:[h.jsx("label",{children:"Speed:"}),h.jsx("input",{type:"range",min:"0.5",max:"5",step:"0.5",value:C,onChange:L=>M(parseFloat(L.target.value))}),h.jsxs("span",{children:[C,"x"]})]}),K&&h.jsxs(h.Fragment,{children:[h.jsx("input",{ref:I,type:"file",accept:".json",onChange:Ie,style:{display:"none"}}),h.jsx("button",{onClick:()=>{var L;return(L=I.current)==null?void 0:L.click()},children:" Load New File"})]})]}),h.jsxs("div",{className:"summary-moves-list",children:[h.jsx("h2",{children:"Move History"}),h.jsx("div",{className:"moves-scroll",children:o.moves.map((L,Q)=>h.jsxs("div",{className:`move-item ${Q===u?"active":""}`,onClick:()=>Ee(Q),children:[h.jsx("div",{className:"move-number",children:Q+1}),L.camera_frame&&h.jsx("div",{className:"move-camera-frame",children:h.jsx("img",{src:L.camera_frame,alt:`Camera frame for move ${Q+1}`,className:"camera-frame-thumbnail"})}),h.jsxs("div",{className:"move-details",children:[h.jsx("div",{className:"move-type",children:L.type}),h.jsxs("div",{className:"move-player",children:["Player: ",L.player]}),L.blockId!==null&&L.blockId!==void 0||L.unit!==null&&L.unit!==void 0?h.jsxs("div",{className:"move-unit",children:["Block: ",L.blockId!==void 0?L.blockId:L.unit]}):null,Array.isArray(L.position)&&L.position.length===2&&h.jsxs("div",{className:"move-position",children:["Position: (",L.position[0],", ",L.position[1],")"]}),Number.isFinite(L.holdTime)&&L.holdTime>0&&h.jsxs("div",{className:"move-hold-time",children:["Hold Time: ",se(L.holdTime,2),"s"]}),h.jsxs("div",{className:"move-time",children:["Time: ",se(L.elapsed,1),"s"]})]})]},Q))})]})]})]})]})}const ut=(...e)=>{console.log("[Detector2]",...e)},kt={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Rv(){const e=P.useRef(null),t=P.useRef(null),n=P.useRef(null),r=P.useRef(null),o=P.useRef(null),l=P.useRef(null),u=P.useRef(null),f=P.useRef(null),d=P.useRef(null),[y,C]=P.useState(""),[M,j]=P.useState(!1),[D,$]=P.useState({camA:"None",camB:"None",merged:"None"}),[U,ce]=P.useState(!0),[g,w]=P.useState(null),[S,I]=P.useState(null),H=P.useRef(null),q=P.useRef(null),K=(E,A)=>{const N=localStorage.getItem(E);if(N===null)return A;const k=parseFloat(N);return Number.isFinite(k)?k:A},[W,he]=P.useState(()=>({roiSize:(()=>{const E=K(kt.roiSize,44);return E>10?E:44})(),hueWeight:K(kt.hueWeight,4),satWeight:K(kt.satWeight,2),valWeight:K(kt.valWeight,1),sensitivity:K(kt.sensitivity,0)})),X=P.useRef(W),[ue,Ie]=P.useState([]),[Ee,Ae]=P.useState(""),[He,_e]=P.useState("");P.useEffect(()=>{let E=!0;(async()=>{try{const _=(await navigator.mediaDevices.enumerateDevices()).filter(F=>F.kind==="videoinput");if(_.length===0){C("No cameras found");return}Ie(_);const z=_.slice(0,2).map(F=>F.deviceId);Ae(z[0]||""),_e(z[1]||z[0]||""),await Pe(z[0],e,f),z[1]?await Pe(z[1],t,d):await Pe(z[0],t,d),await $e(),await Xe("A",e,l),await Xe("B",t,u)}catch(k){if(!E)return;C((k==null?void 0:k.message)||String(k))}})();const A=()=>{try{const k=JSON.parse(localStorage.getItem("calibrationA")||"null"),_=JSON.parse(localStorage.getItem("calibrationB")||"null");k&&w({h:k.h,s:k.s,v:k.v}),_&&I({h:_.h,s:_.s,v:_.v})}catch{ut("No existing calibrations")}};A();const N=k=>{!k||!k.key||(["calibrationA","calibrationB"].includes(k.key)&&A(),[kt.roiSize,kt.hueWeight,kt.satWeight,kt.valWeight,kt.sensitivity].includes(k.key)&&he(_=>({roiSize:(()=>{const z=K(kt.roiSize,(_==null?void 0:_.roiSize)??44);return z>10?z:(_==null?void 0:_.roiSize)??44})(),hueWeight:K(kt.hueWeight,(_==null?void 0:_.hueWeight)??4),satWeight:K(kt.satWeight,(_==null?void 0:_.satWeight)??2),valWeight:K(kt.valWeight,(_==null?void 0:_.valWeight)??1),sensitivity:K(kt.sensitivity,(_==null?void 0:_.sensitivity)??0)})))};return window.addEventListener("storage",N),()=>{if(E=!1,l.current&&(l.current.stop(),l.current=null),u.current&&(u.current.stop(),u.current=null),f.current&&(f.current.getTracks().forEach(z=>z.stop()),f.current=null),d.current&&(d.current.getTracks().forEach(z=>z.stop()),d.current=null),o.current){try{o.current.close()}catch{}o.current=null}const k=e.current;k&&(k.srcObject=null);const _=t.current;_&&(_.srcObject=null),window.removeEventListener("storage",N)}},[]);const Pe=async(E,A,N)=>{const k={video:{deviceId:{exact:E}}};ut("Starting camera with deviceId:",E);const _=await navigator.mediaDevices.getUserMedia(k);N.current=_;const z=A.current;if(!z){ut("Video element not found!");return}z.srcObject=_,ut("Stream assigned to video element, waiting for metadata..."),await new Promise(F=>{if(z.readyState>=2&&z.videoWidth>0&&z.videoHeight>0)return ut("Video already ready:",z.videoWidth,"x",z.videoHeight),F();const ie=()=>{ut("loadedmetadata event fired:",z.videoWidth,"x",z.videoHeight),z.removeEventListener("loadedmetadata",ie),F()};z.addEventListener("loadedmetadata",ie,{once:!0}),setTimeout(()=>{ut("Metadata timeout - proceeding anyway"),z.removeEventListener("loadedmetadata",ie),F()},2e3)});try{await z.play(),ut("Video play() succeeded")}catch(F){ut("Video play() failed:",F)}},Z=P.useRef(null),le=P.useRef(null),se=P.useRef(null),me=P.useRef(!1),ye=async()=>{if(!me.current){me.current=!0;try{for(;le.current||se.current;){const E=o.current;if(!E)break;let A=null,N=null;if(le.current?(A="A",N=le.current,le.current=null):se.current&&(A="B",N=se.current,se.current=null),!!N){Z.current=A;try{await E.send({image:N})}catch(k){console.error("[Detector2] hands.send error:",k);break}}}}finally{me.current=!1}}},Ue=(E,A)=>{E==="A"?le.current=A:se.current=A,Promise.resolve().then(ye)},$e=async()=>{if(o.current)return o.current;try{const E=await(async()=>{try{if(typeof il.Hands=="function")return il.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function")return window.Hands;const N=document.getElementById("mp-hands-cdn-script");if(N&&(await new Promise(k=>{if(window.Hands&&typeof window.Hands=="function")return k();const _=setInterval(()=>{window.Hands&&typeof window.Hands=="function"&&(clearInterval(_),k())},50);setTimeout(()=>{clearInterval(_),k()},3e3)}),window.Hands&&typeof window.Hands=="function")||(N||await new Promise((k,_)=>{const z=document.createElement("script");z.id="mp-hands-cdn-script",z.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",z.async=!0,z.onload=()=>k(),z.onerror=F=>_(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(z)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),A=new E({locateFile:N=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${N}`});return A.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),A.onResults(N=>{const k=Z.current;k==="A"?te(N):k==="B"&&O(N)}),o.current=A,A}catch(E){return console.error("MediaPipe initialization error:",E),C(`MediaPipe error: ${E.message}`),null}},Xe=async(E,A,N)=>{if(!await $e())return;const _=A.current;if(!_){ut(`Video ref for ${E} not found`);return}ut(`Initializing manual frame capture for camera ${E}, video dimensions:`,_.videoWidth,"x",_.videoHeight);let z=null;const F=()=>{const ne=A.current;ne&&ne.readyState>=2&&ne.videoWidth>0&&Ue(E,ne),z=requestAnimationFrame(F)};z=requestAnimationFrame(F),N.current={stop:()=>{z&&(cancelAnimationFrame(z),z=null,ut(`Stopped manual frame capture for camera ${E}`))}},ut(`Manual frame capture started for camera ${E}`)},Re=P.useRef({wristY:null,player:"None",landmarks:null,wristX:null}),V=P.useRef({wristY:null,player:"None",landmarks:null,wristX:null});P.useEffect(()=>{H.current=g},[g]),P.useEffect(()=>{q.current=S},[S]),P.useEffect(()=>{X.current=W},[W]);const te=E=>B(E,n,"A"),O=E=>B(E,r,"B"),B=(E,A,N)=>{var nt;const k=A.current;if(!k)return;const _=k.getContext("2d");if(!_)return;const z=N==="A"?e.current:t.current;if(!z||z.videoWidth===0||z.videoHeight===0){N==="A"?Re.current={wristY:null,wristX:null,landmarks:null,player:"None"}:V.current={wristY:null,wristX:null,landmarks:null,player:"None"};return}k.width=z.videoWidth,k.height=z.videoHeight,_.drawImage(z,0,0,k.width,k.height),_.fillStyle="rgba(0, 0, 0, 0.6)",_.fillRect(k.width-80,5,75,20),_.fillStyle="white",_.font="bold 14px Arial",_.fillText(`Camera ${N}`,k.width-75,20);let F=null,ne=null,ie=null,pe=[];if(E.multiHandLandmarks&&E.multiHandLandmarks.length>0)for(const xe of E.multiHandLandmarks){const ke=xe[0],Ce=ke.x*k.width,Me=ke.y*k.height;pe.push({x:Ce,y:Me,landmarks:xe}),(F===null||(U?Me<F:Me>F))&&(F=Me,ne=xe,ie=Ce)}pe.forEach(({x:xe,y:ke})=>{_.fillStyle="orange",_.beginPath(),_.arc(xe,ke,8,0,Math.PI*2),_.fill()});let ve="None";if(ne){_.fillStyle="lime",_.beginPath(),_.arc(ie,F,10,0,2*Math.PI),_.fill(),_.fillStyle="lime",_.font="16px Arial",_.fillText("SELECTED",ie-40,F-15);const ke=Math.max(10,Math.min(300,Math.floor(((nt=X.current)==null?void 0:nt.roiSize)||60)))/2,Ce=Math.max(0,ie-ke),Me=Math.max(0,F-ke),Je=Math.min(k.width,ie+ke),En=Math.min(k.height,F+ke),ot=Math.max(0,Math.floor(Ce)),at=Math.max(0,Math.floor(Me));let rt=Math.floor(Je-Ce),xt=Math.floor(En-Me);if(rt=Math.max(1,rt),xt=Math.max(1,xt),rt=Math.min(rt,k.width-ot),xt=Math.min(xt,k.height-at),rt>0&&xt>0){_.strokeStyle="lime",_.lineWidth=3,_.strokeRect(ot,at,rt,xt);try{const zt=_.getImageData(ot,at,rt,xt),Lt=H.current,cn=q.current;ve=L(zt,Lt,cn).status}catch(zt){console.warn("[Detector2] ROI sampling failed:",zt),ve="None"}}else ut("ROI skipped due to zero width/height",{width:rt,height:xt,left:ot,top:at})}if(pe.length>=1){let xe=pe[0].y,ke=pe[0].y;pe.forEach(Je=>{Je.y<xe&&(xe=Je.y),Je.y>ke&&(ke=Je.y)}),_.strokeStyle="yellow",_.setLineDash([6,4]),_.beginPath(),_.moveTo(0,U?xe:ke),_.lineTo(k.width,U?xe:ke),_.stroke(),_.strokeStyle="cyan",_.beginPath(),_.moveTo(0,U?ke:xe),_.lineTo(k.width,U?ke:xe),_.stroke(),_.setLineDash([]);const Ce=U?"A (top)":"A (bottom)",Me=U?"B (bottom)":"B (top)";_.fillStyle="lime",_.font="16px Arial",_.fillText(Ce,6,Math.max(14,(U?xe:ke)-6)),_.fillStyle="dodgerblue",_.fillText(Me,6,Math.min(k.height-6,(U?ke:xe)+18))}const Se={wristY:F,wristX:ie,landmarks:ne,player:ve};N==="A"?Re.current=Se:V.current=Se;const et=Re.current.wristY,ze=V.current.wristY;let Ke="None";if(et!=null||ze!=null){const xe=U?(Ce,Me)=>Ce==null?Me:Math.min(Ce,Me):(Ce,Me)=>Ce==null?Me:Math.max(Ce,Me);[et,ze].filter(Ce=>Ce!=null).reduce(xe,null)===et?Ke=Re.current.player:Ke=V.current.player}$({camA:Re.current.player,camB:V.current.player,merged:Ke})},J=(E,A,N)=>{E/=255,A/=255,N/=255;const k=Math.max(E,A,N),_=Math.min(E,A,N),z=k-_;let F=0;z!==0&&(k===E?F=60*((A-N)/z%6):k===A?F=60*((N-E)/z+2):F=60*((E-A)/z+4)),F<0&&(F+=360);const ne=k===0?0:z/k*255,ie=k*255;return[F/2,ne,ie]},L=(E,A,N)=>{var ie,pe,ve,Se;const k=E.data;if(A&&!N)return{status:"Player A",percentA:null,percentB:null};if(N&&!A)return{status:"Player B",percentA:null,percentB:null};const _=((ie=X.current)==null?void 0:ie.hueWeight)??4,z=((pe=X.current)==null?void 0:pe.satWeight)??2,F=((ve=X.current)==null?void 0:ve.valWeight)??1,ne=((Se=X.current)==null?void 0:Se.sensitivity)??0;if(A&&N){let et=0,ze=0,Ke=0;for(let Ce=0;Ce<k.length;Ce+=4){const Me=k[Ce],Je=k[Ce+1],En=k[Ce+2],[ot,at,rt]=J(Me,Je,En),xt=Math.min(1,Math.max(0,at/255)),zt=Math.min(1,Math.max(0,rt/255)),Lt=Math.max(.05,.5*xt+.5*zt),cn=Math.min(Math.abs(ot-A.h),180-Math.abs(ot-A.h)),Wt=Math.min(Math.abs(ot-N.h),180-Math.abs(ot-N.h)),ir=Math.abs(at-A.s),zn=Math.abs(at-N.s),Ln=Math.abs(rt-A.v),On=Math.abs(rt-N.v),wr=cn*_+ir*z+Ln*F,Zt=Wt*_+zn*z+On*F;Math.min(wr,Zt)>180||(wr<=Zt?et+=Lt:ze+=Lt,Ke+=Lt)}if(Ke===0)return{status:"None",percentA:0,percentB:0};const nt=et/Math.max(1e-6,Ke),xe=ze/Math.max(1e-6,Ke),ke=.12*(1+.8*Math.max(0,Math.min(1,ne)));return nt>=ke&&nt>=xe?{status:"Player A",percentA:nt,percentB:xe}:xe>=ke&&xe>nt?{status:"Player B",percentA:nt,percentB:xe}:{status:"None",percentA:nt,percentB:xe}}return{status:"None",percentA:0,percentB:0}},Q=(E,A,N)=>{const k=(E||0)*2,_=(A||0)/255,z=(N||0)/255,F=z*_,ne=F*(1-Math.abs(k/60%2-1)),ie=z-F;let pe=0,ve=0,Se=0;k>=0&&k<60?(pe=F,ve=ne,Se=0):k<120?(pe=ne,ve=F,Se=0):k<180?(pe=0,ve=F,Se=ne):k<240?(pe=0,ve=ne,Se=F):k<300?(pe=ne,ve=0,Se=F):(pe=F,ve=0,Se=ne);const et=Math.round((pe+ie)*255),ze=Math.round((ve+ie)*255),Ke=Math.round((Se+ie)*255);return`rgb(${et}, ${ze}, ${Ke})`},b=E=>E?Q(E.h,E.s,E.v):"#ffffff",R=async(E,A)=>{try{if(E==="A"){if(Ae(A),l.current){try{l.current.stop()}catch(k){ut("Stop camA error:",k)}l.current=null}f.current&&(f.current.getTracks().forEach(k=>k.stop()),f.current=null);const N=e.current;N&&(N.srcObject=null),await new Promise(k=>setTimeout(k,100)),await Pe(A,e,f),await new Promise(k=>setTimeout(k,200)),await $e(),await Xe("A",e,l),ut("Camera A switched to:",A)}else{if(_e(A),u.current){try{u.current.stop()}catch(k){ut("Stop camB error:",k)}u.current=null}d.current&&(d.current.getTracks().forEach(k=>k.stop()),d.current=null);const N=t.current;N&&(N.srcObject=null),await new Promise(k=>setTimeout(k,100)),await Pe(A,t,d),await new Promise(k=>setTimeout(k,200)),await $e(),await Xe("B",t,u),ut("Camera B switched to:",A)}}catch(N){console.error("[Detector2] Camera switch error:",N),C(`Camera switch error: ${N.message}`)}};return h.jsxs("div",{className:`detector-window ${M?"minimized":""}`,children:[h.jsxs("div",{className:"detector-header",children:[h.jsx("span",{children:"Bracelet Detector 2 (Two Cameras)"}),h.jsxs("div",{className:"detector-controls",children:[h.jsx("button",{onClick:()=>j(!M),children:M?"":""}),h.jsx("button",{onClick:()=>ce(!U),title:"Toggle A criterion",children:U?"A=Top":"A=Bottom"})]})]}),h.jsxs("div",{className:"detector-content",style:{display:M?"none":"block"},children:[h.jsxs("div",{style:{display:"flex",gap:8},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("div",{style:{fontSize:12,opacity:.8,marginBottom:4,display:"flex",alignItems:"center",gap:4},children:[h.jsx("span",{children:"Camera A:"}),h.jsx("select",{value:Ee,onChange:E=>R("A",E.target.value),style:{fontSize:10,padding:"2px 4px",maxWidth:120},children:ue.map(E=>h.jsx("option",{value:E.deviceId,children:E.label||`Camera ${E.deviceId.slice(0,8)}`},E.deviceId))})]}),h.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),h.jsx("canvas",{ref:n,className:"output_canvas"})]}),h.jsxs("div",{style:{flex:1},children:[h.jsxs("div",{style:{fontSize:12,opacity:.8,marginBottom:4,display:"flex",alignItems:"center",gap:4},children:[h.jsx("span",{children:"Camera B:"}),h.jsx("select",{value:He,onChange:E=>R("B",E.target.value),style:{fontSize:10,padding:"2px 4px",maxWidth:120},children:ue.map(E=>h.jsx("option",{value:E.deviceId,children:E.label||`Camera ${E.deviceId.slice(0,8)}`},E.deviceId))})]}),h.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),h.jsx("canvas",{ref:r,className:"output_canvas"})]})]}),h.jsxs("div",{className:"detector-info",style:{marginTop:8},children:[h.jsxs("div",{className:"status-display",children:["Merged: ",h.jsx("strong",{children:D.merged})]}),h.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[h.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),h.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:g?b(g):"#444"}})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[h.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),h.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:S?b(S):"#444"}})]})]}),h.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[h.jsxs("div",{children:["A: ",g?`h${Math.round(g.h)} s${Math.round(g.s)} v${Math.round(g.v)}`:""]}),h.jsxs("div",{children:["B: ",S?`h${Math.round(S.h)} s${Math.round(S.s)} v${Math.round(S.v)}`:""]})]}),y&&h.jsxs("div",{style:{color:"#f55",marginTop:4},children:["Camera error: ",y]}),h.jsxs("div",{style:{fontSize:12,marginTop:6},children:[h.jsx("strong",{children:"Note:"})," Detects topmost hand across both cameras. Use A=Top/A=Bottom to switch criterion."]})]})]})]})}const zv=()=>{var e,t;try{const n=(t=(e=import.meta)==null?void 0:e.env)==null?void 0:t.VITE_API_BASE_URL;if(n)return n.replace(/\/$/,"")}catch(n){console.warn("[Admin] Unable to read VITE_API_BASE_URL, using default.",n)}return"http://localhost:4000/api"},Jc=zv(),Lv=e=>{var l,u,f,d,y;if(!e)return null;const t=Array.isArray(e.moves)?e.moves:[],n=t.reduce((C,M)=>typeof M.elapsed=="number"&&M.elapsed>C?M.elapsed:C,0),r={},o={};return t.forEach(C=>{const M=(C==null?void 0:C.player)||"Unknown";r[M]=(r[M]||0)+1;const j=(C==null?void 0:C.phase)||"unknown";o[j]=(o[j]||0)+1}),{startTime:((l=e.sessionInfo)==null?void 0:l.startedAt)||((f=(u=e.metadata)==null?void 0:u.config)==null?void 0:f.date)||e.createdAt,endTime:((d=e.sessionInfo)==null?void 0:d.endedAt)||e.updatedAt,duration:n,sessionInfo:{...((y=e.metadata)==null?void 0:y.config)||{},...e.sessionInfo||{},sessionGameId:e.sessionGameId,subjectId:e.subjectId,condition:e.condition,date:e.date,createdAt:e.createdAt,updatedAt:e.updatedAt},moves:t,braceletHistory:e.braceletHistory||[],summary:{totalMoves:t.length,movesByPlayer:r,movesByPhase:o}}},Ov=e=>{if(!e)return"";try{const t=new Date(e);if(!Number.isNaN(t.getTime()))return t.toLocaleString()}catch{}return e};function Dv(){var ce;const[e,t]=P.useState([]),[n,r]=P.useState(!0),[o,l]=P.useState(null),[u,f]=P.useState(null),[d,y]=P.useState(null),[C,M]=P.useState(!1),[j,D]=P.useState(null),$=P.useCallback(async()=>{r(!0),l(null);try{const g=await fetch(`${Jc}/sessions`);if(!g.ok)throw new Error(`Failed to load sessions (${g.status})`);const w=await g.json(),S=Array.isArray(w)?w:[];t(S),f(I=>I&&S.some(H=>H.sessionGameId===I)?I:S.length>0?S[0].sessionGameId:null)}catch(g){console.error("[Admin] Error fetching sessions:",g),l(g.message||"Failed to load sessions"),t([]),f(null)}finally{r(!1)}},[]);P.useEffect(()=>{$()},[$]),P.useEffect(()=>{if(!u){y(null);return}let g=!1;return(async()=>{M(!0),D(null);try{const S=await fetch(`${Jc}/sessions/${encodeURIComponent(u)}`);if(!S.ok)throw S.status===404?new Error("Session not found"):new Error(`Failed to load session (${S.status})`);const I=await S.json();g||y(Lv(I))}catch(S){console.error("[Admin] Error fetching session detail:",S),g||(D(S.message||"Failed to load session"),y(null))}finally{g||M(!1)}})(),()=>{g=!0}},[u]);const U=g=>{f(g)};return h.jsxs("div",{className:"admin-container",children:[h.jsxs("aside",{className:"admin-sidebar",children:[h.jsxs("div",{className:"admin-sidebar-header",children:[h.jsx("h1",{children:"Admin"}),h.jsx("button",{className:"admin-refresh-button",onClick:$,disabled:n,children:n?"Refreshing":"Refresh"})]}),o&&h.jsx("div",{className:"admin-error",children:o}),h.jsxs("div",{className:"admin-session-list",children:[n&&e.length===0&&h.jsx("div",{className:"admin-status",children:"Loading sessions"}),!n&&e.length===0&&!o&&h.jsx("div",{className:"admin-status",children:"No sessions found."}),e.map(g=>{const w=typeof g.movesCount=="number"?g.movesCount:Array.isArray(g.moves)?g.moves.length:0,S=g.sessionGameId===u;return h.jsxs("button",{className:`admin-session-card ${S?"active":""}`,onClick:()=>U(g.sessionGameId),children:[h.jsx("div",{className:"admin-session-id",children:g.sessionGameId}),h.jsxs("div",{className:"admin-session-meta",children:[h.jsxs("span",{children:["Participant: ",g.subjectId||""]}),h.jsxs("span",{children:["Condition: ",g.condition||""]})]}),h.jsxs("div",{className:"admin-session-meta",children:[h.jsxs("span",{children:["Moves: ",w]}),h.jsxs("span",{children:["Updated: ",Ov(g.updatedAt)]})]})]},g.sessionGameId)})]})]}),h.jsxs("main",{className:"admin-content",children:[C&&h.jsx("div",{className:"admin-status admin-status--content",children:"Loading session"}),j&&h.jsx("div",{className:"admin-error admin-error--content",children:j}),!C&&!j&&d&&h.jsx("div",{className:"admin-summary-wrapper",children:h.jsx(ch,{initialData:d,enableFileUpload:!1,className:"embedded-summary",title:`Session ${((ce=d.sessionInfo)==null?void 0:ce.sessionGameId)||u||""}`})}),!C&&!j&&!d&&h.jsx("div",{className:"admin-status admin-status--content",children:"Select a session to view its moves."})]})]})}const Fv=!1;function Bv(){const[e,t]=P.useState(!1),[n,r]=P.useState(null),[o,l]=P.useState(null),[u,f]=P.useState(window.location.hash),[d,y]=P.useState(!1);P.useEffect(()=>{const D=()=>{f(window.location.hash)};return window.addEventListener("hashchange",D),()=>window.removeEventListener("hashchange",D)},[]);const C=D=>{r(D),t(!0)},M=()=>{o&&!o.closed&&o.close();const D=window.location.origin+window.location.pathname+"#/detector",$=window.open(D,"BraceletDetector","width=700,height=600,left=100,top=100");l($)};P.useEffect(()=>()=>{o&&!o.closed&&o.close()},[o]),P.useEffect(()=>(window.secEnd=()=>{try{const D=ia();D.stop();const $=D.exportToJSON();localStorage.setItem("lastGameSession",$),D.downloadJSON(),window.location.hash="#/summary",console.log("Experience ended. JSON downloaded and saved. Redirecting to summary...")}catch(D){console.error("Error ending experience:",D),alert("Error ending experience: "+D.message)}},()=>{window.secEnd&&delete window.secEnd}),[]);let j=null;return u==="#/detector"?j=h.jsx(Xc,{}):u==="#/calibrate"?j=h.jsx(Av,{}):u==="#/detector2"?j=h.jsx(Rv,{}):u==="#/summary"?j=h.jsx(ch,{}):u==="#/admin"?j=h.jsx(Dv,{}):j=e?h.jsxs(h.Fragment,{children:[h.jsx(Tv,{config:n,interfaceHidden:d}),h.jsx(Xc,{hidden:d}),Fv,!d&&h.jsxs("div",{style:{position:"fixed",bottom:8,right:8,display:"flex",flexDirection:"column",gap:4,zIndex:9999},children:[h.jsx("button",{onClick:M,style:{background:"#4CAF50",color:"#fff",padding:"8px 12px",borderRadius:4,fontSize:14,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},title:"Open Bracelet Detector in new window",children:" Detector"}),h.jsx("a",{href:"#/detector2",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Detector2"}),h.jsx("a",{href:"#/admin",style:{background:"#444",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none",textAlign:"center"},children:"Admin"})]}),!d&&h.jsx("div",{style:{position:"fixed",bottom:8,left:8,zIndex:9999},children:h.jsx("button",{onClick:()=>y(!0),style:{background:"#555",color:"#fff",padding:"8px 12px",borderRadius:4,fontSize:14,border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:"Hide"})})]}):h.jsx(xv,{onStart:C}),h.jsx("div",{className:"App",children:j})}fs.createRoot(document.getElementById("root")).render(h.jsx(up.StrictMode,{children:h.jsx(Bv,{})}));
