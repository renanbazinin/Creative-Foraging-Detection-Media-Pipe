(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kc={exports:{}},ll={},Jc={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),Qh=Symbol.for("react.portal"),Xh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Jh=Symbol.for("react.provider"),bh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),ep=Symbol.for("react.memo"),tp=Symbol.for("react.lazy"),La=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=La&&e[La]||e["@@iterator"],typeof e=="function"?e:null)}var bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zc=Object.assign,qc={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=qc,this.updater=n||bc}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ef(){}ef.prototype=Zr.prototype;function ru(e,t,n){this.props=e,this.context=t,this.refs=qc,this.updater=n||bc}var iu=ru.prototype=new ef;iu.constructor=ru;Zc(iu,Zr.prototype);iu.isPureReactComponent=!0;var za=Array.isArray,tf=Object.prototype.hasOwnProperty,ou={current:null},nf={key:!0,ref:!0,__self:!0,__source:!0};function rf(e,t,n){var r,o={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)tf.call(t,r)&&!nf.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var d=Array(f),x=0;x<f;x++)d[x]=arguments[x+2];o.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:Gi,type:e,key:l,ref:a,props:o,_owner:ou.current}}function rp(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function ip(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ia=/\/+/g;function Dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ip(""+e.key):t.toString(36)}function Co(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Gi:case Qh:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Dl(a,0):r,za(o)?(n="",e!=null&&(n=e.replace(Ia,"$&/")+"/"),Co(o,t,n,"",function(x){return x})):o!=null&&(lu(o)&&(o=rp(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Ia,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",za(e))for(var f=0;f<e.length;f++){l=e[f];var d=r+Dl(l,f);a+=Co(l,t,n,d,o)}else if(d=np(e),typeof d=="function")for(e=d.call(e),f=0;!(l=e.next()).done;)l=l.value,d=r+Dl(l,f++),a+=Co(l,t,n,d,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function lo(e,t,n){if(e==null)return e;var r=[],o=0;return Co(e,r,"","",function(l){return t.call(n,l,o++)}),r}function op(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},jo={transition:null},lp={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:jo,ReactCurrentOwner:ou};function of(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:lo,forEach:function(e,t,n){lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lo(e,function(){t++}),t},toArray:function(e){return lo(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Zr;Re.Fragment=Xh;Re.Profiler=Kh;Re.PureComponent=ru;Re.StrictMode=Yh;Re.Suspense=qh;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;Re.act=of;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zc({},e.props),o=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=ou.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(d in t)tf.call(t,d)&&!nf.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&f!==void 0?f[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){f=Array(d);for(var x=0;x<d;x++)f[x]=arguments[x+2];r.children=f}return{$$typeof:Gi,type:e.type,key:o,ref:l,props:r,_owner:a}};Re.createContext=function(e){return e={$$typeof:bh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jh,_context:e},e.Consumer=e};Re.createElement=rf;Re.createFactory=function(e){var t=rf.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:Zh,render:e}};Re.isValidElement=lu;Re.lazy=function(e){return{$$typeof:tp,_payload:{_status:-1,_result:e},_init:op}};Re.memo=function(e,t){return{$$typeof:ep,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=jo.transition;jo.transition={};try{e()}finally{jo.transition=t}};Re.unstable_act=of;Re.useCallback=function(e,t){return Mt.current.useCallback(e,t)};Re.useContext=function(e){return Mt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Mt.current.useEffect(e,t)};Re.useId=function(){return Mt.current.useId()};Re.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Mt.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};Re.useRef=function(e){return Mt.current.useRef(e)};Re.useState=function(e){return Mt.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return Mt.current.useTransition()};Re.version="18.3.1";Jc.exports=Re;var L=Jc.exports;const sp=Gh(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=L,ap=Symbol.for("react.element"),cp=Symbol.for("react.fragment"),fp=Object.prototype.hasOwnProperty,dp=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hp={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,o={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)fp.call(t,r)&&!hp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ap,type:e,key:l,ref:a,props:o,_owner:dp.current}}ll.Fragment=cp;ll.jsx=lf;ll.jsxs=lf;Kc.exports=ll;var S=Kc.exports,cs={},sf={exports:{}},Wt={},uf={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,$){var re=H.length;H.push($);e:for(;0<re;){var ve=re-1>>>1,ye=H[ve];if(0<o(ye,$))H[ve]=$,H[re]=ye,re=ve;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],re=H.pop();if(re!==$){H[0]=re;e:for(var ve=0,ye=H.length,Ce=ye>>>1;ve<Ce;){var Ae=2*(ve+1)-1,J=H[Ae],ie=Ae+1,h=H[ie];if(0>o(J,re))ie<ye&&0>o(h,J)?(H[ve]=h,H[ie]=re,ve=ie):(H[ve]=J,H[Ae]=re,ve=Ae);else if(ie<ye&&0>o(h,re))H[ve]=h,H[ie]=re,ve=ie;else break e}}return $}function o(H,$){var re=H.sortIndex-$.sortIndex;return re!==0?re:H.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,f=a.now();e.unstable_now=function(){return a.now()-f}}var d=[],x=[],O=1,I=null,T=3,G=!1,B=!1,ee=!1,ae=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var $=n(x);$!==null;){if($.callback===null)r(x);else if($.startTime<=H)r(x),$.sortIndex=$.expirationTime,t(d,$);else break;$=n(x)}}function z(H){if(ee=!1,j(H),!B)if(n(d)!==null)B=!0,Y(b);else{var $=n(x);$!==null&&le(z,$.startTime-H)}}function b(H,$){B=!1,ee&&(ee=!1,M(U),U=-1),G=!0;var re=T;try{for(j($),I=n(d);I!==null&&(!(I.expirationTime>$)||H&&!R());){var ve=I.callback;if(typeof ve=="function"){I.callback=null,T=I.priorityLevel;var ye=ve(I.expirationTime<=$);$=e.unstable_now(),typeof ye=="function"?I.callback=ye:I===n(d)&&r(d),j($)}else r(d);I=n(d)}if(I!==null)var Ce=!0;else{var Ae=n(x);Ae!==null&&le(z,Ae.startTime-$),Ce=!1}return Ce}finally{I=null,T=re,G=!1}}var ne=!1,X=null,U=-1,pe=5,k=-1;function R(){return!(e.unstable_now()-k<pe)}function Z(){if(X!==null){var H=e.unstable_now();k=H;var $=!0;try{$=X(!0,H)}finally{$?te():(ne=!1,X=null)}}else ne=!1}var te;if(typeof w=="function")te=function(){w(Z)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Se=de.port2;de.port1.onmessage=Z,te=function(){Se.postMessage(null)}}else te=function(){ae(Z,0)};function Y(H){X=H,ne||(ne=!0,te())}function le(H,$){U=ae(function(){H(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){B||G||(B=!0,Y(b))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(H){switch(T){case 1:case 2:case 3:var $=3;break;default:$=T}var re=T;T=$;try{return H()}finally{T=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=T;T=H;try{return $()}finally{T=re}},e.unstable_scheduleCallback=function(H,$,re){var ve=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,H){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,H={id:O++,callback:$,priorityLevel:H,startTime:re,expirationTime:ye,sortIndex:-1},re>ve?(H.sortIndex=re,t(x,H),n(d)===null&&H===n(x)&&(ee?(M(U),U=-1):ee=!0,le(z,re-ve))):(H.sortIndex=ye,t(d,H),B||G||(B=!0,Y(b))),H},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(H){var $=T;return function(){var re=T;T=$;try{return H.apply(this,arguments)}finally{T=re}}}})(af);uf.exports=af;var pp=uf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=L,Ft=pp;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cf=new Set,Ni={};function wr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Ni[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=Object.prototype.hasOwnProperty,vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oa={},Da={};function yp(e){return fs.call(Da,e)?!0:fs.call(Oa,e)?!1:vp.test(e)?Da[e]=!0:(Oa[e]=!0,!1)}function gp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wp(e,t,n,r){if(t===null||typeof t>"u"||gp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,o,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(su,uu);pt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(su,uu);pt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(su,uu);pt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function au(e,t,n,r){var o=pt.hasOwnProperty(t)?pt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wp(t,n,o,r)&&(n=null),r||o===null?yp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dn=mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),cu=Symbol.for("react.strict_mode"),ds=Symbol.for("react.profiler"),ff=Symbol.for("react.provider"),df=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),hs=Symbol.for("react.suspense"),ps=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),hf=Symbol.for("react.offscreen"),Ba=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Ba&&e[Ba]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Bl;function mi(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Fl=!1;function Wl(e,t){if(!e||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var o=x.stack.split(`
`),l=r.stack.split(`
`),a=o.length-1,f=l.length-1;1<=a&&0<=f&&o[a]!==l[f];)f--;for(;1<=a&&0<=f;a--,f--)if(o[a]!==l[f]){if(a!==1||f!==1)do if(a--,f--,0>f||o[a]!==l[f]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=f);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function Sp(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function ms(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Mr:return"Portal";case ds:return"Profiler";case cu:return"StrictMode";case hs:return"Suspense";case ps:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case ff:return(e._context.displayName||"Context")+".Provider";case fu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:ms(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return ms(e(t))}catch{}}return null}function xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ms(t);case 8:return t===cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e){var t=pf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uo(e){e._valueTracker||(e._valueTracker=kp(e))}function mf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vs(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vf(e,t){t=t.checked,t!=null&&au(e,"checked",t,!1)}function ys(e,t){vf(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gs(e,t.type,n):t.hasOwnProperty("defaultValue")&&gs(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gs(e,t,n){(t!=="number"||Oo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function Fr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ws(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(vi(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function yf(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ha(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ss(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,wf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ep=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){Ep.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function Sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function xf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Sf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Cp=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xs(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function ks(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Wr=null,Ur=null;function $a(e){if(e=Yi(e)){if(typeof Cs!="function")throw Error(q(280));var t=e.stateNode;t&&(t=fl(t),Cs(e.stateNode,e.type,t))}}function kf(e){Wr?Ur?Ur.push(e):Ur=[e]:Wr=e}function Ef(){if(Wr){var e=Wr,t=Ur;if(Ur=Wr=null,$a(e),t)for(e=0;e<t.length;e++)$a(t[e])}}function Cf(e,t){return e(t)}function jf(){}var Ul=!1;function Mf(e,t,n){if(Ul)return e(t,n);Ul=!0;try{return Cf(e,t,n)}finally{Ul=!1,(Wr!==null||Ur!==null)&&(jf(),Ef())}}function Ri(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var js=!1;if(Tn)try{var si={};Object.defineProperty(si,"passive",{get:function(){js=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{js=!1}function jp(e,t,n,r,o,l,a,f,d){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(O){this.onError(O)}}var Si=!1,Do=null,Bo=!1,Ms=null,Mp={onError:function(e){Si=!0,Do=e}};function Pp(e,t,n,r,o,l,a,f,d){Si=!1,Do=null,jp.apply(Mp,arguments)}function Np(e,t,n,r,o,l,a,f,d){if(Pp.apply(this,arguments),Si){if(Si){var x=Do;Si=!1,Do=null}else throw Error(q(198));Bo||(Bo=!0,Ms=x)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Va(e){if(Sr(e)!==e)throw Error(q(188))}function _p(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Va(o),e;if(l===r)return Va(o),t;l=l.sibling}throw Error(q(188))}if(n.return!==r.return)n=o,r=l;else{for(var a=!1,f=o.child;f;){if(f===n){a=!0,n=o,r=l;break}if(f===r){a=!0,r=o,n=l;break}f=f.sibling}if(!a){for(f=l.child;f;){if(f===n){a=!0,n=l,r=o;break}if(f===r){a=!0,r=l,n=o;break}f=f.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Nf(e){return e=_p(e),e!==null?_f(e):null}function _f(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_f(e);if(t!==null)return t;e=e.sibling}return null}var Rf=Ft.unstable_scheduleCallback,Ga=Ft.unstable_cancelCallback,Rp=Ft.unstable_shouldYield,Tp=Ft.unstable_requestPaint,tt=Ft.unstable_now,Ap=Ft.unstable_getCurrentPriorityLevel,pu=Ft.unstable_ImmediatePriority,Tf=Ft.unstable_UserBlockingPriority,Fo=Ft.unstable_NormalPriority,Lp=Ft.unstable_LowPriority,Af=Ft.unstable_IdlePriority,sl=null,kn=null;function zp(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(sl,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Dp,Ip=Math.log,Op=Math.LN2;function Dp(e){return e>>>=0,e===0?32:31-(Ip(e)/Op|0)|0}var co=64,fo=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var f=a&~o;f!==0?r=yi(f):(l&=a,l!==0&&(r=yi(l)))}else a=n&~o,a!==0?r=yi(a):l!==0&&(r=yi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),o=1<<n,r|=e[n],t&=~o;return r}function Bp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-un(l),f=1<<a,d=o[a];d===-1?(!(f&n)||f&r)&&(o[a]=Bp(f,t)):d<=t&&(e.expiredLanes|=f),l&=~f}}function Ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lf(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function Hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function Wp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-un(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function mu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Oe=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var If,vu,Of,Df,Bf,Ns=!1,ho=[],Xn=null,Yn=null,Kn=null,Ti=new Map,Ai=new Map,$n=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function ui(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Yi(t),t!==null&&vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Hp(e,t,n,r,o){switch(t){case"focusin":return Xn=ui(Xn,e,t,n,r,o),!0;case"dragenter":return Yn=ui(Yn,e,t,n,r,o),!0;case"mouseover":return Kn=ui(Kn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Ti.set(l,ui(Ti.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Ai.set(l,ui(Ai.get(l)||null,e,t,n,r,o)),!0}return!1}function Ff(e){var t=ar(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=Pf(n),t!==null){e.blockedOn=t,Bf(e.priority,function(){Of(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_s(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Es=r,n.target.dispatchEvent(r),Es=null}else return t=Yi(n),t!==null&&vu(t),e.blockedOn=n,!1;t.shift()}return!0}function Xa(e,t,n){Mo(e)&&n.delete(t)}function $p(){Ns=!1,Xn!==null&&Mo(Xn)&&(Xn=null),Yn!==null&&Mo(Yn)&&(Yn=null),Kn!==null&&Mo(Kn)&&(Kn=null),Ti.forEach(Xa),Ai.forEach(Xa)}function ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Ns||(Ns=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,$p)))}function Li(e){function t(o){return ai(o,e)}if(0<ho.length){ai(ho[0],e);for(var n=1;n<ho.length;n++){var r=ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xn!==null&&ai(Xn,e),Yn!==null&&ai(Yn,e),Kn!==null&&ai(Kn,e),Ti.forEach(t),Ai.forEach(t),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)Ff(n),n.blockedOn===null&&$n.shift()}var Hr=Dn.ReactCurrentBatchConfig,Uo=!0;function Vp(e,t,n,r){var o=Oe,l=Hr.transition;Hr.transition=null;try{Oe=1,yu(e,t,n,r)}finally{Oe=o,Hr.transition=l}}function Gp(e,t,n,r){var o=Oe,l=Hr.transition;Hr.transition=null;try{Oe=4,yu(e,t,n,r)}finally{Oe=o,Hr.transition=l}}function yu(e,t,n,r){if(Uo){var o=_s(e,t,n,r);if(o===null)Zl(e,t,r,Ho,n),Qa(e,r);else if(Hp(o,e,t,n,r))r.stopPropagation();else if(Qa(e,r),t&4&&-1<Up.indexOf(e)){for(;o!==null;){var l=Yi(o);if(l!==null&&If(l),l=_s(e,t,n,r),l===null&&Zl(e,t,r,Ho,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var Ho=null;function _s(e,t,n,r){if(Ho=null,e=hu(r),e=ar(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ho=e,null}function Wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case pu:return 1;case Tf:return 4;case Fo:case Lp:return 16;case Af:return 536870912;default:return 16}default:return 16}}var Gn=null,gu=null,Po=null;function Uf(){if(Po)return Po;var e,t=gu,n=t.length,r,o="value"in Gn?Gn.value:Gn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[l-r];r++);return Po=o.slice(e,1<r?1-r:void 0)}function No(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Ya(){return!1}function Ut(e){function t(n,r,o,l,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?po:Ya,this.isPropagationStopped=Ya,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Ut(qr),Xi=Je({},qr,{view:0,detail:0}),Qp=Ut(Xi),$l,Vl,ci,ul=Je({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?($l=e.screenX-ci.screenX,Vl=e.screenY-ci.screenY):Vl=$l=0,ci=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),Ka=Ut(ul),Xp=Je({},ul,{dataTransfer:0}),Yp=Ut(Xp),Kp=Je({},Xi,{relatedTarget:0}),Gl=Ut(Kp),Jp=Je({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Ut(Jp),Zp=Je({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=Ut(Zp),em=Je({},qr,{data:0}),Ja=Ut(em),tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rm[e])?!!t[e]:!1}function Su(){return im}var om=Je({},Xi,{key:function(e){if(e.key){var t=tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=No(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?No(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?No(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lm=Ut(om),sm=Je({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ba=Ut(sm),um=Je({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),am=Ut(um),cm=Je({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Ut(cm),dm=Je({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=Ut(dm),pm=[9,13,27,32],xu=Tn&&"CompositionEvent"in window,xi=null;Tn&&"documentMode"in document&&(xi=document.documentMode);var mm=Tn&&"TextEvent"in window&&!xi,Hf=Tn&&(!xu||xi&&8<xi&&11>=xi),Za=" ",qa=!1;function $f(e,t){switch(e){case"keyup":return pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function vm(e,t){switch(e){case"compositionend":return Vf(t);case"keypress":return t.which!==32?null:(qa=!0,Za);case"textInput":return e=t.data,e===Za&&qa?null:e;default:return null}}function ym(e,t){if(Nr)return e==="compositionend"||!xu&&$f(e,t)?(e=Uf(),Po=gu=Gn=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gm[e.type]:t==="textarea"}function Gf(e,t,n,r){kf(r),t=$o(t,"onChange"),0<t.length&&(n=new wu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,zi=null;function wm(e){nd(e,0)}function al(e){var t=Tr(e);if(mf(t))return e}function Sm(e,t){if(e==="change")return t}var Qf=!1;if(Tn){var Ql;if(Tn){var Xl="oninput"in document;if(!Xl){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Xl=typeof tc.oninput=="function"}Ql=Xl}else Ql=!1;Qf=Ql&&(!document.documentMode||9<document.documentMode)}function nc(){ki&&(ki.detachEvent("onpropertychange",Xf),zi=ki=null)}function Xf(e){if(e.propertyName==="value"&&al(zi)){var t=[];Gf(t,zi,e,hu(e)),Mf(wm,t)}}function xm(e,t,n){e==="focusin"?(nc(),ki=t,zi=n,ki.attachEvent("onpropertychange",Xf)):e==="focusout"&&nc()}function km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(zi)}function Em(e,t){if(e==="click")return al(t)}function Cm(e,t){if(e==="input"||e==="change")return al(t)}function jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:jm;function Ii(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!fs.call(t,o)||!cn(e[o],t[o]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ic(e,t){var n=rc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function Yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kf(){for(var e=window,t=Oo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oo(e.document)}return t}function ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mm(e){var t=Kf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yf(n.ownerDocument.documentElement,n)){if(r!==null&&ku(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=ic(n,l);var a=ic(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pm=Tn&&"documentMode"in document&&11>=document.documentMode,_r=null,Rs=null,Ei=null,Ts=!1;function oc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ts||_r==null||_r!==Oo(r)||(r=_r,"selectionStart"in r&&ku(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&Ii(Ei,r)||(Ei=r,r=$o(Rs,"onSelect"),0<r.length&&(t=new wu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Yl={},Jf={};Tn&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function cl(e){if(Yl[e])return Yl[e];if(!Rr[e])return e;var t=Rr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jf)return Yl[e]=t[n];return e}var bf=cl("animationend"),Zf=cl("animationiteration"),qf=cl("animationstart"),ed=cl("transitionend"),td=new Map,lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){td.set(e,t),wr(t,[e])}for(var Kl=0;Kl<lc.length;Kl++){var Jl=lc[Kl],Nm=Jl.toLowerCase(),_m=Jl[0].toUpperCase()+Jl.slice(1);rr(Nm,"on"+_m)}rr(bf,"onAnimationEnd");rr(Zf,"onAnimationIteration");rr(qf,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(ed,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Np(r,t,void 0,e),e.currentTarget=null}function nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var f=r[a],d=f.instance,x=f.currentTarget;if(f=f.listener,d!==l&&o.isPropagationStopped())break e;sc(o,f,x),l=d}else for(a=0;a<r.length;a++){if(f=r[a],d=f.instance,x=f.currentTarget,f=f.listener,d!==l&&o.isPropagationStopped())break e;sc(o,f,x),l=d}}}if(Bo)throw e=Ms,Bo=!1,Ms=null,e}function Ue(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var r=e+"__bubble";n.has(r)||(rd(t,e,2,!1),n.add(r))}function bl(e,t,n){var r=0;t&&(r|=4),rd(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[vo]){e[vo]=!0,cf.forEach(function(n){n!=="selectionchange"&&(Rm.has(n)||bl(n,!1,e),bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,bl("selectionchange",!1,t))}}function rd(e,t,n,r){switch(Wf(t)){case 1:var o=Vp;break;case 4:o=Gp;break;default:o=yu}n=o.bind(null,t,n,e),o=void 0,!js||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;a=a.return}for(;f!==null;){if(a=ar(f),a===null)return;if(d=a.tag,d===5||d===6){r=l=a;continue e}f=f.parentNode}}r=r.return}Mf(function(){var x=l,O=hu(n),I=[];e:{var T=td.get(e);if(T!==void 0){var G=wu,B=e;switch(e){case"keypress":if(No(n)===0)break e;case"keydown":case"keyup":G=lm;break;case"focusin":B="focus",G=Gl;break;case"focusout":B="blur",G=Gl;break;case"beforeblur":case"afterblur":G=Gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=am;break;case bf:case Zf:case qf:G=bp;break;case ed:G=fm;break;case"scroll":G=Qp;break;case"wheel":G=hm;break;case"copy":case"cut":case"paste":G=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ba}var ee=(t&4)!==0,ae=!ee&&e==="scroll",M=ee?T!==null?T+"Capture":null:T;ee=[];for(var w=x,j;w!==null;){j=w;var z=j.stateNode;if(j.tag===5&&z!==null&&(j=z,M!==null&&(z=Ri(w,M),z!=null&&ee.push(Di(w,z,j)))),ae)break;w=w.return}0<ee.length&&(T=new G(T,B,null,n,O),I.push({event:T,listeners:ee}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",T&&n!==Es&&(B=n.relatedTarget||n.fromElement)&&(ar(B)||B[An]))break e;if((G||T)&&(T=O.window===O?O:(T=O.ownerDocument)?T.defaultView||T.parentWindow:window,G?(B=n.relatedTarget||n.toElement,G=x,B=B?ar(B):null,B!==null&&(ae=Sr(B),B!==ae||B.tag!==5&&B.tag!==6)&&(B=null)):(G=null,B=x),G!==B)){if(ee=Ka,z="onMouseLeave",M="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ee=ba,z="onPointerLeave",M="onPointerEnter",w="pointer"),ae=G==null?T:Tr(G),j=B==null?T:Tr(B),T=new ee(z,w+"leave",G,n,O),T.target=ae,T.relatedTarget=j,z=null,ar(O)===x&&(ee=new ee(M,w+"enter",B,n,O),ee.target=j,ee.relatedTarget=ae,z=ee),ae=z,G&&B)t:{for(ee=G,M=B,w=0,j=ee;j;j=jr(j))w++;for(j=0,z=M;z;z=jr(z))j++;for(;0<w-j;)ee=jr(ee),w--;for(;0<j-w;)M=jr(M),j--;for(;w--;){if(ee===M||M!==null&&ee===M.alternate)break t;ee=jr(ee),M=jr(M)}ee=null}else ee=null;G!==null&&uc(I,T,G,ee,!1),B!==null&&ae!==null&&uc(I,ae,B,ee,!0)}}e:{if(T=x?Tr(x):window,G=T.nodeName&&T.nodeName.toLowerCase(),G==="select"||G==="input"&&T.type==="file")var b=Sm;else if(ec(T))if(Qf)b=Cm;else{b=km;var ne=xm}else(G=T.nodeName)&&G.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(b=Em);if(b&&(b=b(e,x))){Gf(I,b,n,O);break e}ne&&ne(e,T,x),e==="focusout"&&(ne=T._wrapperState)&&ne.controlled&&T.type==="number"&&gs(T,"number",T.value)}switch(ne=x?Tr(x):window,e){case"focusin":(ec(ne)||ne.contentEditable==="true")&&(_r=ne,Rs=x,Ei=null);break;case"focusout":Ei=Rs=_r=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,oc(I,n,O);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":oc(I,n,O)}var X;if(xu)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Nr?$f(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Hf&&n.locale!=="ko"&&(Nr||U!=="onCompositionStart"?U==="onCompositionEnd"&&Nr&&(X=Uf()):(Gn=O,gu="value"in Gn?Gn.value:Gn.textContent,Nr=!0)),ne=$o(x,U),0<ne.length&&(U=new Ja(U,e,null,n,O),I.push({event:U,listeners:ne}),X?U.data=X:(X=Vf(n),X!==null&&(U.data=X)))),(X=mm?vm(e,n):ym(e,n))&&(x=$o(x,"onBeforeInput"),0<x.length&&(O=new Ja("onBeforeInput","beforeinput",null,n,O),I.push({event:O,listeners:x}),O.data=X))}nd(I,t)})}function Di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Ri(e,n),l!=null&&r.unshift(Di(e,l,o)),l=Ri(e,t),l!=null&&r.push(Di(e,l,o))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uc(e,t,n,r,o){for(var l=t._reactName,a=[];n!==null&&n!==r;){var f=n,d=f.alternate,x=f.stateNode;if(d!==null&&d===r)break;f.tag===5&&x!==null&&(f=x,o?(d=Ri(n,l),d!=null&&a.unshift(Di(n,d,f))):o||(d=Ri(n,l),d!=null&&a.push(Di(n,d,f)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Tm=/\r\n?/g,Am=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Tm,`
`).replace(Am,"")}function yo(e,t,n){if(t=ac(t),ac(e)!==t&&n)throw Error(q(425))}function Vo(){}var As=null,Ls=null;function zs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Is=typeof setTimeout=="function"?setTimeout:void 0,Lm=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,zm=typeof queueMicrotask=="function"?queueMicrotask:typeof cc<"u"?function(e){return cc.resolve(null).then(e).catch(Im)}:Is;function Im(e){setTimeout(function(){throw e})}function ql(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Li(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),xn="__reactFiber$"+ei,Bi="__reactProps$"+ei,An="__reactContainer$"+ei,Os="__reactEvents$"+ei,Om="__reactListeners$"+ei,Dm="__reactHandles$"+ei;function ar(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fc(e);e!==null;){if(n=e[xn])return n;e=fc(e)}return t}e=n,n=e.parentNode}return null}function Yi(e){return e=e[xn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function fl(e){return e[Bi]||null}var Ds=[],Ar=-1;function ir(e){return{current:e}}function He(e){0>Ar||(e.current=Ds[Ar],Ds[Ar]=null,Ar--)}function Fe(e,t){Ar++,Ds[Ar]=e.current,e.current=t}var nr={},wt=ir(nr),Lt=ir(!1),pr=nr;function Qr(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zt(e){return e=e.childContextTypes,e!=null}function Go(){He(Lt),He(wt)}function dc(e,t,n){if(wt.current!==nr)throw Error(q(168));Fe(wt,t),Fe(Lt,n)}function id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(q(108,xp(e)||"Unknown",o));return Je({},n,r)}function Qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,pr=wt.current,Fe(wt,e),Fe(Lt,Lt.current),!0}function hc(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=id(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,He(Lt),He(wt),Fe(wt,e)):He(Lt),Fe(Lt,n)}var Pn=null,dl=!1,es=!1;function od(e){Pn===null?Pn=[e]:Pn.push(e)}function Bm(e){dl=!0,od(e)}function or(){if(!es&&Pn!==null){es=!0;var e=0,t=Oe;try{var n=Pn;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pn=null,dl=!1}catch(o){throw Pn!==null&&(Pn=Pn.slice(e+1)),Rf(pu,or),o}finally{Oe=t,es=!1}}return null}var Lr=[],zr=0,Xo=null,Yo=0,Xt=[],Yt=0,mr=null,Nn=1,_n="";function sr(e,t){Lr[zr++]=Yo,Lr[zr++]=Xo,Xo=e,Yo=t}function ld(e,t,n){Xt[Yt++]=Nn,Xt[Yt++]=_n,Xt[Yt++]=mr,mr=e;var r=Nn;e=_n;var o=32-un(r)-1;r&=~(1<<o),n+=1;var l=32-un(t)+o;if(30<l){var a=o-o%5;l=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Nn=1<<32-un(t)+o|n<<o|r,_n=l+e}else Nn=1<<l|n<<o|r,_n=e}function Eu(e){e.return!==null&&(sr(e,1),ld(e,1,0))}function Cu(e){for(;e===Xo;)Xo=Lr[--zr],Lr[zr]=null,Yo=Lr[--zr],Lr[zr]=null;for(;e===mr;)mr=Xt[--Yt],Xt[Yt]=null,_n=Xt[--Yt],Xt[Yt]=null,Nn=Xt[--Yt],Xt[Yt]=null}var Bt=null,Dt=null,Ve=!1,ln=null;function sd(e,t){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Dt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:Nn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Dt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fs(e){if(Ve){var t=Dt;if(t){var n=t;if(!pc(e,t)){if(Bs(e))throw Error(q(418));t=Jn(n.nextSibling);var r=Bt;t&&pc(e,t)?sd(r,n):(e.flags=e.flags&-4097|2,Ve=!1,Bt=e)}}else{if(Bs(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ve=!1,Bt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function go(e){if(e!==Bt)return!1;if(!Ve)return mc(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zs(e.type,e.memoizedProps)),t&&(t=Dt)){if(Bs(e))throw ud(),Error(q(418));for(;t;)sd(e,t),t=Jn(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=Jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Bt?Jn(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=Dt;e;)e=Jn(e.nextSibling)}function Xr(){Dt=Bt=null,Ve=!1}function ju(e){ln===null?ln=[e]:ln.push(e)}var Fm=Dn.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var f=o.refs;a===null?delete f[l]:f[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function ad(e){function t(M,w){if(e){var j=M.deletions;j===null?(M.deletions=[w],M.flags|=16):j.push(w)}}function n(M,w){if(!e)return null;for(;w!==null;)t(M,w),w=w.sibling;return null}function r(M,w){for(M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function o(M,w){return M=er(M,w),M.index=0,M.sibling=null,M}function l(M,w,j){return M.index=j,e?(j=M.alternate,j!==null?(j=j.index,j<w?(M.flags|=2,w):j):(M.flags|=2,w)):(M.flags|=1048576,w)}function a(M){return e&&M.alternate===null&&(M.flags|=2),M}function f(M,w,j,z){return w===null||w.tag!==6?(w=ss(j,M.mode,z),w.return=M,w):(w=o(w,j),w.return=M,w)}function d(M,w,j,z){var b=j.type;return b===Pr?O(M,w,j.props.children,z,j.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Un&&vc(b)===w.type)?(z=o(w,j.props),z.ref=fi(M,w,j),z.return=M,z):(z=Io(j.type,j.key,j.props,null,M.mode,z),z.ref=fi(M,w,j),z.return=M,z)}function x(M,w,j,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=us(j,M.mode,z),w.return=M,w):(w=o(w,j.children||[]),w.return=M,w)}function O(M,w,j,z,b){return w===null||w.tag!==7?(w=hr(j,M.mode,z,b),w.return=M,w):(w=o(w,j),w.return=M,w)}function I(M,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ss(""+w,M.mode,j),w.return=M,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case so:return j=Io(w.type,w.key,w.props,null,M.mode,j),j.ref=fi(M,null,w),j.return=M,j;case Mr:return w=us(w,M.mode,j),w.return=M,w;case Un:var z=w._init;return I(M,z(w._payload),j)}if(vi(w)||li(w))return w=hr(w,M.mode,j,null),w.return=M,w;wo(M,w)}return null}function T(M,w,j,z){var b=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return b!==null?null:f(M,w,""+j,z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case so:return j.key===b?d(M,w,j,z):null;case Mr:return j.key===b?x(M,w,j,z):null;case Un:return b=j._init,T(M,w,b(j._payload),z)}if(vi(j)||li(j))return b!==null?null:O(M,w,j,z,null);wo(M,j)}return null}function G(M,w,j,z,b){if(typeof z=="string"&&z!==""||typeof z=="number")return M=M.get(j)||null,f(w,M,""+z,b);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case so:return M=M.get(z.key===null?j:z.key)||null,d(w,M,z,b);case Mr:return M=M.get(z.key===null?j:z.key)||null,x(w,M,z,b);case Un:var ne=z._init;return G(M,w,j,ne(z._payload),b)}if(vi(z)||li(z))return M=M.get(j)||null,O(w,M,z,b,null);wo(w,z)}return null}function B(M,w,j,z){for(var b=null,ne=null,X=w,U=w=0,pe=null;X!==null&&U<j.length;U++){X.index>U?(pe=X,X=null):pe=X.sibling;var k=T(M,X,j[U],z);if(k===null){X===null&&(X=pe);break}e&&X&&k.alternate===null&&t(M,X),w=l(k,w,U),ne===null?b=k:ne.sibling=k,ne=k,X=pe}if(U===j.length)return n(M,X),Ve&&sr(M,U),b;if(X===null){for(;U<j.length;U++)X=I(M,j[U],z),X!==null&&(w=l(X,w,U),ne===null?b=X:ne.sibling=X,ne=X);return Ve&&sr(M,U),b}for(X=r(M,X);U<j.length;U++)pe=G(X,M,U,j[U],z),pe!==null&&(e&&pe.alternate!==null&&X.delete(pe.key===null?U:pe.key),w=l(pe,w,U),ne===null?b=pe:ne.sibling=pe,ne=pe);return e&&X.forEach(function(R){return t(M,R)}),Ve&&sr(M,U),b}function ee(M,w,j,z){var b=li(j);if(typeof b!="function")throw Error(q(150));if(j=b.call(j),j==null)throw Error(q(151));for(var ne=b=null,X=w,U=w=0,pe=null,k=j.next();X!==null&&!k.done;U++,k=j.next()){X.index>U?(pe=X,X=null):pe=X.sibling;var R=T(M,X,k.value,z);if(R===null){X===null&&(X=pe);break}e&&X&&R.alternate===null&&t(M,X),w=l(R,w,U),ne===null?b=R:ne.sibling=R,ne=R,X=pe}if(k.done)return n(M,X),Ve&&sr(M,U),b;if(X===null){for(;!k.done;U++,k=j.next())k=I(M,k.value,z),k!==null&&(w=l(k,w,U),ne===null?b=k:ne.sibling=k,ne=k);return Ve&&sr(M,U),b}for(X=r(M,X);!k.done;U++,k=j.next())k=G(X,M,U,k.value,z),k!==null&&(e&&k.alternate!==null&&X.delete(k.key===null?U:k.key),w=l(k,w,U),ne===null?b=k:ne.sibling=k,ne=k);return e&&X.forEach(function(Z){return t(M,Z)}),Ve&&sr(M,U),b}function ae(M,w,j,z){if(typeof j=="object"&&j!==null&&j.type===Pr&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case so:e:{for(var b=j.key,ne=w;ne!==null;){if(ne.key===b){if(b=j.type,b===Pr){if(ne.tag===7){n(M,ne.sibling),w=o(ne,j.props.children),w.return=M,M=w;break e}}else if(ne.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Un&&vc(b)===ne.type){n(M,ne.sibling),w=o(ne,j.props),w.ref=fi(M,ne,j),w.return=M,M=w;break e}n(M,ne);break}else t(M,ne);ne=ne.sibling}j.type===Pr?(w=hr(j.props.children,M.mode,z,j.key),w.return=M,M=w):(z=Io(j.type,j.key,j.props,null,M.mode,z),z.ref=fi(M,w,j),z.return=M,M=z)}return a(M);case Mr:e:{for(ne=j.key;w!==null;){if(w.key===ne)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(M,w.sibling),w=o(w,j.children||[]),w.return=M,M=w;break e}else{n(M,w);break}else t(M,w);w=w.sibling}w=us(j,M.mode,z),w.return=M,M=w}return a(M);case Un:return ne=j._init,ae(M,w,ne(j._payload),z)}if(vi(j))return B(M,w,j,z);if(li(j))return ee(M,w,j,z);wo(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(M,w.sibling),w=o(w,j),w.return=M,M=w):(n(M,w),w=ss(j,M.mode,z),w.return=M,M=w),a(M)):n(M,w)}return ae}var Yr=ad(!0),cd=ad(!1),Ko=ir(null),Jo=null,Ir=null,Mu=null;function Pu(){Mu=Ir=Jo=null}function Nu(e){var t=Ko.current;He(Ko),e._currentValue=t}function Ws(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $r(e,t){Jo=e,Mu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Jo===null)throw Error(q(308));Ir=e,Jo.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var cr=null;function _u(e){cr===null?cr=[e]:cr.push(e)}function fd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,_u(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ln(e,r)}function Ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ln(e,n)}return o=r.interleaved,o===null?(t.next=t,_u(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ln(e,n)}function _o(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mu(e,n)}}function yc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bo(e,t,n,r){var o=e.updateQueue;Hn=!1;var l=o.firstBaseUpdate,a=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var d=f,x=d.next;d.next=null,a===null?l=x:a.next=x,a=d;var O=e.alternate;O!==null&&(O=O.updateQueue,f=O.lastBaseUpdate,f!==a&&(f===null?O.firstBaseUpdate=x:f.next=x,O.lastBaseUpdate=d))}if(l!==null){var I=o.baseState;a=0,O=x=d=null,f=l;do{var T=f.lane,G=f.eventTime;if((r&T)===T){O!==null&&(O=O.next={eventTime:G,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var B=e,ee=f;switch(T=t,G=n,ee.tag){case 1:if(B=ee.payload,typeof B=="function"){I=B.call(G,I,T);break e}I=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=ee.payload,T=typeof B=="function"?B.call(G,I,T):B,T==null)break e;I=Je({},I,T);break e;case 2:Hn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,T=o.effects,T===null?o.effects=[f]:T.push(f))}else G={eventTime:G,lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},O===null?(x=O=G,d=I):O=O.next=G,a|=T;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;T=f,f=T.next,T.next=null,o.lastBaseUpdate=T,o.shared.pending=null}}while(!0);if(O===null&&(d=I),o.baseState=d,o.firstBaseUpdate=x,o.lastBaseUpdate=O,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);yr|=a,e.lanes=a,e.memoizedState=I}}function gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(q(191,o));o.call(r)}}}var Ki={},En=ir(Ki),Fi=ir(Ki),Wi=ir(Ki);function fr(e){if(e===Ki)throw Error(q(174));return e}function Tu(e,t){switch(Fe(Wi,t),Fe(Fi,e),Fe(En,Ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ss(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ss(t,e)}He(En),Fe(En,t)}function Kr(){He(En),He(Fi),He(Wi)}function hd(e){fr(Wi.current);var t=fr(En.current),n=Ss(t,e.type);t!==n&&(Fe(Fi,e),Fe(En,n))}function Au(e){Fi.current===e&&(He(En),He(Fi))}var Ye=ir(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function Lu(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var Ro=Dn.ReactCurrentDispatcher,ns=Dn.ReactCurrentBatchConfig,vr=0,Ke=null,rt=null,lt=null,qo=!1,Ci=!1,Ui=0,Wm=0;function vt(){throw Error(q(321))}function zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Iu(e,t,n,r,o,l){if(vr=l,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ro.current=e===null||e.memoizedState===null?Vm:Gm,e=n(r,o),Ci){l=0;do{if(Ci=!1,Ui=0,25<=l)throw Error(q(301));l+=1,lt=rt=null,t.updateQueue=null,Ro.current=Qm,e=n(r,o)}while(Ci)}if(Ro.current=el,t=rt!==null&&rt.next!==null,vr=0,lt=rt=Ke=null,qo=!1,t)throw Error(q(300));return e}function Ou(){var e=Ui!==0;return Ui=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ke.memoizedState=lt=e:lt=lt.next=e,lt}function Zt(){if(rt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=lt===null?Ke.memoizedState:lt.next;if(t!==null)lt=t,rt=e;else{if(e===null)throw Error(q(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?Ke.memoizedState=lt=e:lt=lt.next=e}return lt}function Hi(e,t){return typeof t=="function"?t(e):t}function rs(e){var t=Zt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=rt,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var a=o.next;o.next=l.next,l.next=a}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var f=a=null,d=null,x=l;do{var O=x.lane;if((vr&O)===O)d!==null&&(d=d.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var I={lane:O,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};d===null?(f=d=I,a=r):d=d.next=I,Ke.lanes|=O,yr|=O}x=x.next}while(x!==null&&x!==l);d===null?a=r:d.next=f,cn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Ke.lanes|=l,yr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function is(e){var t=Zt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do l=e(l,a.action),a=a.next;while(a!==o);cn(l,t.memoizedState)||(At=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function pd(){}function md(e,t){var n=Ke,r=Zt(),o=t(),l=!cn(r.memoizedState,o);if(l&&(r.memoizedState=o,At=!0),r=r.queue,Du(gd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,$i(9,yd.bind(null,n,r,o,t),void 0,null),st===null)throw Error(q(349));vr&30||vd(n,t,o)}return o}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&Sd(e)}function gd(e,t,n){return n(function(){wd(t)&&Sd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Sd(e){var t=Ln(e,1);t!==null&&an(t,e,1,-1)}function wc(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=$m.bind(null,Ke,e),[t.memoizedState,e]}function $i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xd(){return Zt().memoizedState}function To(e,t,n,r){var o=Sn();Ke.flags|=e,o.memoizedState=$i(1|t,n,void 0,r===void 0?null:r)}function hl(e,t,n,r){var o=Zt();r=r===void 0?null:r;var l=void 0;if(rt!==null){var a=rt.memoizedState;if(l=a.destroy,r!==null&&zu(r,a.deps)){o.memoizedState=$i(t,n,l,r);return}}Ke.flags|=e,o.memoizedState=$i(1|t,n,l,r)}function Sc(e,t){return To(8390656,8,e,t)}function Du(e,t){return hl(2048,8,e,t)}function kd(e,t){return hl(4,2,e,t)}function Ed(e,t){return hl(4,4,e,t)}function Cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,n){return n=n!=null?n.concat([e]):null,hl(4,4,Cd.bind(null,t,e),n)}function Bu(){}function Md(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pd(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nd(e,t,n){return vr&21?(cn(n,t)||(n=Lf(),Ke.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function Um(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=ns.transition;ns.transition={};try{e(!1),t()}finally{Oe=n,ns.transition=r}}function _d(){return Zt().memoizedState}function Hm(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(e))Td(t,n);else if(n=fd(e,t,n,r),n!==null){var o=jt();an(n,e,r,o),Ad(n,t,r)}}function $m(e,t,n){var r=qn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Td(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,f=l(a,n);if(o.hasEagerState=!0,o.eagerState=f,cn(f,a)){var d=t.interleaved;d===null?(o.next=o,_u(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=fd(e,t,o,r),n!==null&&(o=jt(),an(n,e,r,o),Ad(n,t,r))}}function Rd(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Td(e,t){Ci=qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ad(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mu(e,n)}}var el={readContext:bt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Vm={readContext:bt,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,To(4194308,4,Cd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hm.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:wc,useDebugValue:Bu,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=wc(!1),t=e[0];return e=Um.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,o=Sn();if(Ve){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),st===null)throw Error(q(349));vr&30||vd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Sc(gd.bind(null,r,l,e),[e]),r.flags|=2048,$i(9,yd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Sn(),t=st.identifierPrefix;if(Ve){var n=_n,r=Nn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ui++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gm={readContext:bt,useCallback:Md,useContext:bt,useEffect:Du,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:Pd,useReducer:rs,useRef:xd,useState:function(){return rs(Hi)},useDebugValue:Bu,useDeferredValue:function(e){var t=Zt();return Nd(t,rt.memoizedState,e)},useTransition:function(){var e=rs(Hi)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:_d,unstable_isNewReconciler:!1},Qm={readContext:bt,useCallback:Md,useContext:bt,useEffect:Du,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:Pd,useReducer:is,useRef:xd,useState:function(){return is(Hi)},useDebugValue:Bu,useDeferredValue:function(e){var t=Zt();return rt===null?t.memoizedState=e:Nd(t,rt.memoizedState,e)},useTransition:function(){var e=is(Hi)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:_d,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Us(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),o=qn(e),l=Rn(r,o);l.payload=t,n!=null&&(l.callback=n),t=bn(e,l,o),t!==null&&(an(t,e,o,r),_o(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),o=qn(e),l=Rn(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=bn(e,l,o),t!==null&&(an(t,e,o,r),_o(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=qn(e),o=Rn(n,r);o.tag=2,t!=null&&(o.callback=t),t=bn(e,o,r),t!==null&&(an(t,e,r,n),_o(t,e,r))}};function xc(e,t,n,r,o,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(o,l):!0}function Ld(e,t,n){var r=!1,o=nr,l=t.contextType;return typeof l=="object"&&l!==null?l=bt(l):(o=zt(t)?pr:wt.current,r=t.contextTypes,l=(r=r!=null)?Qr(e,o):nr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function kc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ru(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=bt(l):(l=zt(t)?pr:wt.current,o.context=Qr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Us(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&pl.enqueueReplaceState(o,o.state,null),bo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var n="",r=t;do n+=Sp(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $s(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function zd(e,t,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,qs=r),$s(e,t)},n}function Id(e,t,n){n=Rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){$s(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){$s(e,t),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ec(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=sv.bind(null,e,t,n),t.then(e,e))}function Cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rn(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var Ym=Dn.ReactCurrentOwner,At=!1;function Ct(e,t,n,r){t.child=e===null?cd(t,null,n,r):Yr(t,e.child,n,r)}function Mc(e,t,n,r,o){n=n.render;var l=t.ref;return $r(t,o),r=Iu(e,t,n,r,l,o),n=Ou(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,zn(e,t,o)):(Ve&&n&&Eu(t),t.flags|=1,Ct(e,t,r,o),t.child)}function Pc(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Qu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Od(e,t,l,r,o)):(e=Io(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(a,r)&&e.ref===t.ref)return zn(e,t,o)}return t.flags|=1,e=er(l,r),e.ref=t.ref,e.return=t,t.child=e}function Od(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Ii(l,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,zn(e,t,o)}return Vs(e,t,n,r,o)}function Dd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Dr,Ot),Ot|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Dr,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Fe(Dr,Ot),Ot|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Fe(Dr,Ot),Ot|=r;return Ct(e,t,o,n),t.child}function Bd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vs(e,t,n,r,o){var l=zt(n)?pr:wt.current;return l=Qr(t,l),$r(t,o),n=Iu(e,t,n,r,l,o),r=Ou(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,zn(e,t,o)):(Ve&&r&&Eu(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Nc(e,t,n,r,o){if(zt(n)){var l=!0;Qo(t)}else l=!1;if($r(t,o),t.stateNode===null)Ao(e,t),Ld(t,n,r),Hs(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,f=t.memoizedProps;a.props=f;var d=a.context,x=n.contextType;typeof x=="object"&&x!==null?x=bt(x):(x=zt(n)?pr:wt.current,x=Qr(t,x));var O=n.getDerivedStateFromProps,I=typeof O=="function"||typeof a.getSnapshotBeforeUpdate=="function";I||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==r||d!==x)&&kc(t,a,r,x),Hn=!1;var T=t.memoizedState;a.state=T,bo(t,r,a,o),d=t.memoizedState,f!==r||T!==d||Lt.current||Hn?(typeof O=="function"&&(Us(t,n,O,r),d=t.memoizedState),(f=Hn||xc(t,n,f,r,T,d,x))?(I||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=x,r=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,dd(e,t),f=t.memoizedProps,x=t.type===t.elementType?f:rn(t.type,f),a.props=x,I=t.pendingProps,T=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=bt(d):(d=zt(n)?pr:wt.current,d=Qr(t,d));var G=n.getDerivedStateFromProps;(O=typeof G=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==I||T!==d)&&kc(t,a,r,d),Hn=!1,T=t.memoizedState,a.state=T,bo(t,r,a,o);var B=t.memoizedState;f!==I||T!==B||Lt.current||Hn?(typeof G=="function"&&(Us(t,n,G,r),B=t.memoizedState),(x=Hn||xc(t,n,x,r,T,B,d)||!1)?(O||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,B,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,B,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),a.props=r,a.state=B,a.context=d,r=x):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),r=!1)}return Gs(e,t,n,r,l,o)}function Gs(e,t,n,r,o,l){Bd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&hc(t,n,!1),zn(e,t,l);r=t.stateNode,Ym.current=t;var f=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yr(t,e.child,null,l),t.child=Yr(t,null,f,l)):Ct(e,t,f,l),t.memoizedState=r.state,o&&hc(t,n,!0),t.child}function Fd(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),Tu(e,t.containerInfo)}function _c(e,t,n,r,o){return Xr(),ju(o),t.flags|=256,Ct(e,t,n,r),t.child}var Qs={dehydrated:null,treeContext:null,retryLane:0};function Xs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,n){var r=t.pendingProps,o=Ye.current,l=!1,a=(t.flags&128)!==0,f;if((f=a)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Fe(Ye,o&1),e===null)return Fs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=yl(a,r,0,null),e=hr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Xs(n),t.memoizedState=Qs,e):Fu(t,a));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return Km(e,t,a,r,f,o,n);if(l){l=r.fallback,a=t.mode,o=e.child,f=o.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=er(o,d),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?l=er(f,l):(l=hr(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Xs(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Qs,r}return l=e.child,e=l.sibling,r=er(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fu(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function So(e,t,n,r){return r!==null&&ju(r),Yr(t,e.child,null,n),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,n,r,o,l,a){if(n)return t.flags&256?(t.flags&=-257,r=os(Error(q(422))),So(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=yl({mode:"visible",children:r.children},o,0,null),l=hr(l,o,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Yr(t,e.child,null,a),t.child.memoizedState=Xs(a),t.memoizedState=Qs,l);if(!(t.mode&1))return So(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,l=Error(q(419)),r=os(l,r,void 0),So(e,t,a,r)}if(f=(a&e.childLanes)!==0,At||f){if(r=st,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Ln(e,o),an(r,e,o,-1))}return Gu(),r=os(Error(q(421))),So(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=uv.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Dt=Jn(o.nextSibling),Bt=t,Ve=!0,ln=null,e!==null&&(Xt[Yt++]=Nn,Xt[Yt++]=_n,Xt[Yt++]=mr,Nn=e.id,_n=e.overflow,mr=t),t=Fu(t,r.children),t.flags|=4096,t)}function Rc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ws(e.return,t,n)}function ls(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Ud(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Ct(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rc(e,n,t);else if(e.tag===19)Rc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ls(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ls(t,!0,n,null,l);break;case"together":ls(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jm(e,t,n){switch(t.tag){case 3:Fd(t),Xr();break;case 5:hd(t);break;case 1:zt(t.type)&&Qo(t);break;case 4:Tu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Fe(Ko,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?Wd(e,t,n):(Fe(Ye,Ye.current&1),e=zn(e,t,n),e!==null?e.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ud(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Dd(e,t,n)}return zn(e,t,n)}var Hd,Ys,$d,Vd;Hd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ys=function(){};$d=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,fr(En.current);var l=null;switch(n){case"input":o=vs(e,o),r=vs(e,r),l=[];break;case"select":o=Je({},o,{value:void 0}),r=Je({},r,{value:void 0}),l=[];break;case"textarea":o=ws(e,o),r=ws(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vo)}xs(n,r);var a;n=null;for(x in o)if(!r.hasOwnProperty(x)&&o.hasOwnProperty(x)&&o[x]!=null)if(x==="style"){var f=o[x];for(a in f)f.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Ni.hasOwnProperty(x)?l||(l=[]):(l=l||[]).push(x,null));for(x in r){var d=r[x];if(f=o!=null?o[x]:void 0,r.hasOwnProperty(x)&&d!==f&&(d!=null||f!=null))if(x==="style")if(f){for(a in f)!f.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&f[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(l||(l=[]),l.push(x,n)),n=d;else x==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,f=f?f.__html:void 0,d!=null&&f!==d&&(l=l||[]).push(x,d)):x==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(x,""+d):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(x)?(d!=null&&x==="onScroll"&&Ue("scroll",e),l||f===d||(l=[])):(l=l||[]).push(x,d))}n&&(l=l||[]).push("style",n);var x=l;(t.updateQueue=x)&&(t.flags|=4)}};Vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function di(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bm(e,t,n){var r=t.pendingProps;switch(Cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return zt(t.type)&&Go(),yt(t),null;case 3:return r=t.stateNode,Kr(),He(Lt),He(wt),Lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(nu(ln),ln=null))),Ys(e,t),yt(t),null;case 5:Au(t);var o=fr(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)$d(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return yt(t),null}if(e=fr(En.current),go(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[xn]=t,r[Bi]=l,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(o=0;o<gi.length;o++)Ue(gi[o],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Fa(r,l),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ue("invalid",r);break;case"textarea":Ua(r,l),Ue("invalid",r)}xs(n,l),o=null;for(var a in l)if(l.hasOwnProperty(a)){var f=l[a];a==="children"?typeof f=="string"?r.textContent!==f&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,f,e),o=["children",""+f]):Ni.hasOwnProperty(a)&&f!=null&&a==="onScroll"&&Ue("scroll",r)}switch(n){case"input":uo(r),Wa(r,l,!0);break;case"textarea":uo(r),Ha(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Vo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xn]=t,e[Bi]=r,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(a=ks(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),o=r;break;case"iframe":case"object":case"embed":Ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<gi.length;o++)Ue(gi[o],e);o=r;break;case"source":Ue("error",e),o=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),o=r;break;case"details":Ue("toggle",e),o=r;break;case"input":Fa(e,r),o=vs(e,r),Ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Je({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":Ua(e,r),o=ws(e,r),Ue("invalid",e);break;default:o=r}xs(n,o),f=o;for(l in f)if(f.hasOwnProperty(l)){var d=f[l];l==="style"?xf(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&wf(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&_i(e,d):typeof d=="number"&&_i(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ni.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Ue("scroll",e):d!=null&&au(e,l,d,a))}switch(n){case"input":uo(e),Wa(e,r,!1);break;case"textarea":uo(e),Ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Fr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Fr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=fr(Wi.current),fr(En.current),go(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(l=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return yt(t),null;case 13:if(He(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Dt!==null&&t.mode&1&&!(t.flags&128))ud(),Xr(),t.flags|=98560,l=!1;else if(l=go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(q(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(q(317));l[xn]=t}else Xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),l=!1}else ln!==null&&(nu(ln),ln=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?it===0&&(it=3):Gu())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Kr(),Ys(e,t),e===null&&Oi(t.stateNode.containerInfo),yt(t),null;case 10:return Nu(t.type._context),yt(t),null;case 17:return zt(t.type)&&Go(),yt(t),null;case 19:if(He(Ye),l=t.memoizedState,l===null)return yt(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)di(l,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zo(e),a!==null){for(t.flags|=128,di(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&tt()>br&&(t.flags|=128,r=!0,di(l,!1),t.lanes=4194304)}else{if(!r)if(e=Zo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),di(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Ve)return yt(t),null}else 2*tt()-l.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,di(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tt(),t.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return Vu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Zm(e,t){switch(Cu(t),t.tag){case 1:return zt(t.type)&&Go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),He(Lt),He(wt),Lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Au(t),null;case 13:if(He(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ye),null;case 4:return Kr(),null;case 10:return Nu(t.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var xo=!1,gt=!1,qm=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Ks(e,t,n){try{n()}catch(r){qe(e,t,r)}}var Tc=!1;function ev(e,t){if(As=Uo,e=Kf(),ku(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,f=-1,d=-1,x=0,O=0,I=e,T=null;t:for(;;){for(var G;I!==n||o!==0&&I.nodeType!==3||(f=a+o),I!==l||r!==0&&I.nodeType!==3||(d=a+r),I.nodeType===3&&(a+=I.nodeValue.length),(G=I.firstChild)!==null;)T=I,I=G;for(;;){if(I===e)break t;if(T===n&&++x===o&&(f=a),T===l&&++O===r&&(d=a),(G=I.nextSibling)!==null)break;I=T,T=I.parentNode}I=G}n=f===-1||d===-1?null:{start:f,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ls={focusedElem:e,selectionRange:n},Uo=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var ee=B.memoizedProps,ae=B.memoizedState,M=t.stateNode,w=M.getSnapshotBeforeUpdate(t.elementType===t.type?ee:rn(t.type,ee),ae);M.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(z){qe(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return B=Tc,Tc=!1,B}function ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ks(t,n,l)}o=o.next}while(o!==r)}}function ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Js(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Bi],delete t[Os],delete t[Om],delete t[Dm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vo));else if(r!==4&&(e=e.child,e!==null))for(bs(e,t,n),e=e.sibling;e!==null;)bs(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zs(e,t,n),e=e.sibling;e!==null;)Zs(e,t,n),e=e.sibling}var dt=null,on=!1;function Wn(e,t,n){for(n=n.child;n!==null;)Xd(e,t,n),n=n.sibling}function Xd(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(sl,n)}catch{}switch(n.tag){case 5:gt||Or(n,t);case 6:var r=dt,o=on;dt=null,Wn(e,t,n),dt=r,on=o,dt!==null&&(on?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(on?(e=dt,n=n.stateNode,e.nodeType===8?ql(e.parentNode,n):e.nodeType===1&&ql(e,n),Li(e)):ql(dt,n.stateNode));break;case 4:r=dt,o=on,dt=n.stateNode.containerInfo,on=!0,Wn(e,t,n),dt=r,on=o;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Ks(n,t,a),o=o.next}while(o!==r)}Wn(e,t,n);break;case 1:if(!gt&&(Or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){qe(n,t,f)}Wn(e,t,n);break;case 21:Wn(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Wn(e,t,n),gt=r):Wn(e,t,n);break;default:Wn(e,t,n)}}function Lc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qm),t.forEach(function(r){var o=av.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,a=t,f=a;e:for(;f!==null;){switch(f.tag){case 5:dt=f.stateNode,on=!1;break e;case 3:dt=f.stateNode.containerInfo,on=!0;break e;case 4:dt=f.stateNode.containerInfo,on=!0;break e}f=f.return}if(dt===null)throw Error(q(160));Xd(l,a,o),dt=null,on=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(x){qe(o,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}function Yd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),vn(e),r&4){try{ji(3,e,e.return),ml(3,e)}catch(ee){qe(e,e.return,ee)}try{ji(5,e,e.return)}catch(ee){qe(e,e.return,ee)}}break;case 1:nn(t,e),vn(e),r&512&&n!==null&&Or(n,n.return);break;case 5:if(nn(t,e),vn(e),r&512&&n!==null&&Or(n,n.return),e.flags&32){var o=e.stateNode;try{_i(o,"")}catch(ee){qe(e,e.return,ee)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,f=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&vf(o,l),ks(f,a);var x=ks(f,l);for(a=0;a<d.length;a+=2){var O=d[a],I=d[a+1];O==="style"?xf(o,I):O==="dangerouslySetInnerHTML"?wf(o,I):O==="children"?_i(o,I):au(o,O,I,x)}switch(f){case"input":ys(o,l);break;case"textarea":yf(o,l);break;case"select":var T=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var G=l.value;G!=null?Fr(o,!!l.multiple,G,!1):T!==!!l.multiple&&(l.defaultValue!=null?Fr(o,!!l.multiple,l.defaultValue,!0):Fr(o,!!l.multiple,l.multiple?[]:"",!1))}o[Bi]=l}catch(ee){qe(e,e.return,ee)}}break;case 6:if(nn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(q(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(ee){qe(e,e.return,ee)}}break;case 3:if(nn(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(ee){qe(e,e.return,ee)}break;case 4:nn(t,e),vn(e);break;case 13:nn(t,e),vn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Hu=tt())),r&4&&Lc(e);break;case 22:if(O=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(x=gt)||O,nn(t,e),gt=x):nn(t,e),vn(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!O&&e.mode&1)for(fe=e,O=e.child;O!==null;){for(I=fe=O;fe!==null;){switch(T=fe,G=T.child,T.tag){case 0:case 11:case 14:case 15:ji(4,T,T.return);break;case 1:Or(T,T.return);var B=T.stateNode;if(typeof B.componentWillUnmount=="function"){r=T,n=T.return;try{t=r,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(ee){qe(r,n,ee)}}break;case 5:Or(T,T.return);break;case 22:if(T.memoizedState!==null){Ic(I);continue}}G!==null?(G.return=T,fe=G):Ic(I)}O=O.sibling}e:for(O=null,I=e;;){if(I.tag===5){if(O===null){O=I;try{o=I.stateNode,x?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=I.stateNode,d=I.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,f.style.display=Sf("display",a))}catch(ee){qe(e,e.return,ee)}}}else if(I.tag===6){if(O===null)try{I.stateNode.nodeValue=x?"":I.memoizedProps}catch(ee){qe(e,e.return,ee)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;O===I&&(O=null),I=I.return}O===I&&(O=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:nn(t,e),vn(e),r&4&&Lc(e);break;case 21:break;default:nn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qd(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(_i(o,""),r.flags&=-33);var l=Ac(e);Zs(e,l,o);break;case 3:case 4:var a=r.stateNode.containerInfo,f=Ac(e);bs(e,f,a);break;default:throw Error(q(161))}}catch(d){qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tv(e,t,n){fe=e,Kd(e)}function Kd(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var o=fe,l=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||xo;if(!a){var f=o.alternate,d=f!==null&&f.memoizedState!==null||gt;f=xo;var x=gt;if(xo=a,(gt=d)&&!x)for(fe=o;fe!==null;)a=fe,d=a.child,a.tag===22&&a.memoizedState!==null?Oc(o):d!==null?(d.return=a,fe=d):Oc(o);for(;l!==null;)fe=l,Kd(l),l=l.sibling;fe=o,xo=f,gt=x}zc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,fe=l):zc(e)}}function zc(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&gc(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gc(t,a,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var O=x.memoizedState;if(O!==null){var I=O.dehydrated;I!==null&&Li(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}gt||t.flags&512&&Js(t)}catch(T){qe(t,t.return,T)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Ic(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Oc(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ml(4,t)}catch(d){qe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){qe(t,o,d)}}var l=t.return;try{Js(t)}catch(d){qe(t,l,d)}break;case 5:var a=t.return;try{Js(t)}catch(d){qe(t,a,d)}}}catch(d){qe(t,t.return,d)}if(t===e){fe=null;break}var f=t.sibling;if(f!==null){f.return=t.return,fe=f;break}fe=t.return}}var nv=Math.ceil,tl=Dn.ReactCurrentDispatcher,Wu=Dn.ReactCurrentOwner,Jt=Dn.ReactCurrentBatchConfig,Le=0,st=null,nt=null,ht=0,Ot=0,Dr=ir(0),it=0,Vi=null,yr=0,vl=0,Uu=0,Mi=null,Tt=null,Hu=0,br=1/0,Mn=null,nl=!1,qs=null,Zn=null,ko=!1,Qn=null,rl=0,Pi=0,eu=null,Lo=-1,zo=0;function jt(){return Le&6?tt():Lo!==-1?Lo:Lo=tt()}function qn(e){return e.mode&1?Le&2&&ht!==0?ht&-ht:Fm.transition!==null?(zo===0&&(zo=Lf()),zo):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Wf(e.type)),e):1}function an(e,t,n,r){if(50<Pi)throw Pi=0,eu=null,Error(q(185));Qi(e,n,r),(!(Le&2)||e!==st)&&(e===st&&(!(Le&2)&&(vl|=n),it===4&&Vn(e,ht)),It(e,r),n===1&&Le===0&&!(t.mode&1)&&(br=tt()+500,dl&&or()))}function It(e,t){var n=e.callbackNode;Fp(e,t);var r=Wo(e,e===st?ht:0);if(r===0)n!==null&&Ga(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ga(n),t===1)e.tag===0?Bm(Dc.bind(null,e)):od(Dc.bind(null,e)),zm(function(){!(Le&6)&&or()}),n=null;else{switch(zf(r)){case 1:n=pu;break;case 4:n=Tf;break;case 16:n=Fo;break;case 536870912:n=Af;break;default:n=Fo}n=rh(n,Jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jd(e,t){if(Lo=-1,zo=0,Le&6)throw Error(q(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var r=Wo(e,e===st?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var o=Le;Le|=2;var l=Zd();(st!==e||ht!==t)&&(Mn=null,br=tt()+500,dr(e,t));do try{ov();break}catch(f){bd(e,f)}while(!0);Pu(),tl.current=l,Le=o,nt!==null?t=0:(st=null,ht=0,t=it)}if(t!==0){if(t===2&&(o=Ps(e),o!==0&&(r=o,t=tu(e,o))),t===1)throw n=Vi,dr(e,0),Vn(e,r),It(e,tt()),n;if(t===6)Vn(e,r);else{if(o=e.current.alternate,!(r&30)&&!rv(o)&&(t=il(e,r),t===2&&(l=Ps(e),l!==0&&(r=l,t=tu(e,l))),t===1))throw n=Vi,dr(e,0),Vn(e,r),It(e,tt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:ur(e,Tt,Mn);break;case 3:if(Vn(e,r),(r&130023424)===r&&(t=Hu+500-tt(),10<t)){if(Wo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Is(ur.bind(null,e,Tt,Mn),t);break}ur(e,Tt,Mn);break;case 4:if(Vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-un(r);l=1<<a,a=t[a],a>o&&(o=a),r&=~l}if(r=o,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nv(r/1960))-r,10<r){e.timeoutHandle=Is(ur.bind(null,e,Tt,Mn),r);break}ur(e,Tt,Mn);break;case 5:ur(e,Tt,Mn);break;default:throw Error(q(329))}}}return It(e,tt()),e.callbackNode===n?Jd.bind(null,e):null}function tu(e,t){var n=Mi;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=il(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&nu(t)),e}function nu(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function rv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!cn(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~Uu,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function Dc(e){if(Le&6)throw Error(q(327));Vr();var t=Wo(e,0);if(!(t&1))return It(e,tt()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Ps(e);r!==0&&(t=r,n=tu(e,r))}if(n===1)throw n=Vi,dr(e,0),Vn(e,t),It(e,tt()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ur(e,Tt,Mn),It(e,tt()),null}function $u(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(br=tt()+500,dl&&or())}}function gr(e){Qn!==null&&Qn.tag===0&&!(Le&6)&&Vr();var t=Le;Le|=1;var n=Jt.transition,r=Oe;try{if(Jt.transition=null,Oe=1,e)return e()}finally{Oe=r,Jt.transition=n,Le=t,!(Le&6)&&or()}}function Vu(){Ot=Dr.current,He(Dr)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lm(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Go();break;case 3:Kr(),He(Lt),He(wt),Lu();break;case 5:Au(r);break;case 4:Kr();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:Nu(r.type._context);break;case 22:case 23:Vu()}n=n.return}if(st=e,nt=e=er(e.current,null),ht=Ot=t,it=0,Vi=null,Uu=vl=yr=0,Tt=Mi=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=o,r.next=a}n.pending=r}cr=null}return e}function bd(e,t){do{var n=nt;try{if(Pu(),Ro.current=el,qo){for(var r=Ke.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qo=!1}if(vr=0,lt=rt=Ke=null,Ci=!1,Ui=0,Wu.current=null,n===null||n.return===null){it=1,Vi=t,nt=null;break}e:{var l=e,a=n.return,f=n,d=t;if(t=ht,f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var x=d,O=f,I=O.tag;if(!(O.mode&1)&&(I===0||I===11||I===15)){var T=O.alternate;T?(O.updateQueue=T.updateQueue,O.memoizedState=T.memoizedState,O.lanes=T.lanes):(O.updateQueue=null,O.memoizedState=null)}var G=Cc(a);if(G!==null){G.flags&=-257,jc(G,a,f,l,t),G.mode&1&&Ec(l,x,t),t=G,d=x;var B=t.updateQueue;if(B===null){var ee=new Set;ee.add(d),t.updateQueue=ee}else B.add(d);break e}else{if(!(t&1)){Ec(l,x,t),Gu();break e}d=Error(q(426))}}else if(Ve&&f.mode&1){var ae=Cc(a);if(ae!==null){!(ae.flags&65536)&&(ae.flags|=256),jc(ae,a,f,l,t),ju(Jr(d,f));break e}}l=d=Jr(d,f),it!==4&&(it=2),Mi===null?Mi=[l]:Mi.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var M=zd(l,d,t);yc(l,M);break e;case 1:f=d;var w=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Zn===null||!Zn.has(j)))){l.flags|=65536,t&=-t,l.lanes|=t;var z=Id(l,f,t);yc(l,z);break e}}l=l.return}while(l!==null)}eh(n)}catch(b){t=b,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Zd(){var e=tl.current;return tl.current=el,e===null?el:e}function Gu(){(it===0||it===3||it===2)&&(it=4),st===null||!(yr&268435455)&&!(vl&268435455)||Vn(st,ht)}function il(e,t){var n=Le;Le|=2;var r=Zd();(st!==e||ht!==t)&&(Mn=null,dr(e,t));do try{iv();break}catch(o){bd(e,o)}while(!0);if(Pu(),Le=n,tl.current=r,nt!==null)throw Error(q(261));return st=null,ht=0,it}function iv(){for(;nt!==null;)qd(nt)}function ov(){for(;nt!==null&&!Rp();)qd(nt)}function qd(e){var t=nh(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?eh(e):nt=t,Wu.current=null}function eh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zm(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,nt=null;return}}else if(n=bm(n,t,Ot),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);it===0&&(it=5)}function ur(e,t,n){var r=Oe,o=Jt.transition;try{Jt.transition=null,Oe=1,lv(e,t,n,r)}finally{Jt.transition=o,Oe=r}return null}function lv(e,t,n,r){do Vr();while(Qn!==null);if(Le&6)throw Error(q(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Wp(e,l),e===st&&(nt=st=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ko||(ko=!0,rh(Fo,function(){return Vr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Jt.transition,Jt.transition=null;var a=Oe;Oe=1;var f=Le;Le|=4,Wu.current=null,ev(e,n),Yd(n,e),Mm(Ls),Uo=!!As,Ls=As=null,e.current=n,tv(n),Tp(),Le=f,Oe=a,Jt.transition=l}else e.current=n;if(ko&&(ko=!1,Qn=e,rl=o),l=e.pendingLanes,l===0&&(Zn=null),zp(n.stateNode),It(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(nl)throw nl=!1,e=qs,qs=null,e;return rl&1&&e.tag!==0&&Vr(),l=e.pendingLanes,l&1?e===eu?Pi++:(Pi=0,eu=e):Pi=0,or(),null}function Vr(){if(Qn!==null){var e=zf(rl),t=Jt.transition,n=Oe;try{if(Jt.transition=null,Oe=16>e?16:e,Qn===null)var r=!1;else{if(e=Qn,Qn=null,rl=0,Le&6)throw Error(q(331));var o=Le;for(Le|=4,fe=e.current;fe!==null;){var l=fe,a=l.child;if(fe.flags&16){var f=l.deletions;if(f!==null){for(var d=0;d<f.length;d++){var x=f[d];for(fe=x;fe!==null;){var O=fe;switch(O.tag){case 0:case 11:case 15:ji(8,O,l)}var I=O.child;if(I!==null)I.return=O,fe=I;else for(;fe!==null;){O=fe;var T=O.sibling,G=O.return;if(Gd(O),O===x){fe=null;break}if(T!==null){T.return=G,fe=T;break}fe=G}}}var B=l.alternate;if(B!==null){var ee=B.child;if(ee!==null){B.child=null;do{var ae=ee.sibling;ee.sibling=null,ee=ae}while(ee!==null)}}fe=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,fe=a;else e:for(;fe!==null;){if(l=fe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ji(9,l,l.return)}var M=l.sibling;if(M!==null){M.return=l.return,fe=M;break e}fe=l.return}}var w=e.current;for(fe=w;fe!==null;){a=fe;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,fe=j;else e:for(a=w;fe!==null;){if(f=fe,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:ml(9,f)}}catch(b){qe(f,f.return,b)}if(f===a){fe=null;break e}var z=f.sibling;if(z!==null){z.return=f.return,fe=z;break e}fe=f.return}}if(Le=o,or(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(sl,e)}catch{}r=!0}return r}finally{Oe=n,Jt.transition=t}}return!1}function Bc(e,t,n){t=Jr(n,t),t=zd(e,t,1),e=bn(e,t,1),t=jt(),e!==null&&(Qi(e,1,t),It(e,t))}function qe(e,t,n){if(e.tag===3)Bc(e,e,n);else for(;t!==null;){if(t.tag===3){Bc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=Jr(n,e),e=Id(t,e,1),t=bn(t,e,1),e=jt(),t!==null&&(Qi(t,1,e),It(t,e));break}}t=t.return}}function sv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(ht&n)===n&&(it===4||it===3&&(ht&130023424)===ht&&500>tt()-Hu?dr(e,0):Uu|=n),It(e,t)}function th(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=jt();e=Ln(e,t),e!==null&&(Qi(e,t,n),It(e,n))}function uv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),th(e,n)}function av(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),th(e,n)}var nh;nh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,Jm(e,t,n);At=!!(e.flags&131072)}else At=!1,Ve&&t.flags&1048576&&ld(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var o=Qr(t,wt.current);$r(t,n),o=Iu(null,t,r,e,o,n);var l=Ou();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(l=!0,Qo(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ru(t),o.updater=pl,t.stateNode=o,o._reactInternals=t,Hs(t,r,e,n),t=Gs(null,t,r,!0,l,n)):(t.tag=0,Ve&&l&&Eu(t),Ct(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=fv(r),e=rn(r,e),o){case 0:t=Vs(null,t,r,e,n);break e;case 1:t=Nc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=Pc(null,t,r,rn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Vs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Nc(e,t,r,o,n);case 3:e:{if(Fd(t),e===null)throw Error(q(387));r=t.pendingProps,l=t.memoizedState,o=l.element,dd(e,t),bo(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Jr(Error(q(423)),t),t=_c(e,t,r,n,o);break e}else if(r!==o){o=Jr(Error(q(424)),t),t=_c(e,t,r,n,o);break e}else for(Dt=Jn(t.stateNode.containerInfo.firstChild),Bt=t,Ve=!0,ln=null,n=cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xr(),r===o){t=zn(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&Fs(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,a=o.children,zs(r,o)?a=null:l!==null&&zs(r,l)&&(t.flags|=32),Bd(e,t),Ct(e,t,a,n),t.child;case 6:return e===null&&Fs(t),null;case 13:return Wd(e,t,n);case 4:return Tu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Mc(e,t,r,o,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value,Fe(Ko,r._currentValue),r._currentValue=a,l!==null)if(cn(l.value,a)){if(l.children===o.children&&!Lt.current){t=zn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){a=l.child;for(var d=f.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=Rn(-1,n&-n),d.tag=2;var x=l.updateQueue;if(x!==null){x=x.shared;var O=x.pending;O===null?d.next=d:(d.next=O.next,O.next=d),x.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Ws(l.return,n,t),f.lanes|=n;break}d=d.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(q(341));a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Ws(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Ct(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$r(t,n),o=bt(o),r=r(o),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,o=rn(r,t.pendingProps),o=rn(r.type,o),Pc(e,t,r,o,n);case 15:return Od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Ao(e,t),t.tag=1,zt(r)?(e=!0,Qo(t)):e=!1,$r(t,n),Ld(t,r,o),Hs(t,r,o,n),Gs(null,t,r,!0,e,n);case 19:return Ud(e,t,n);case 22:return Dd(e,t,n)}throw Error(q(156,t.tag))};function rh(e,t){return Rf(e,t)}function cv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,n,r){return new cv(e,t,n,r)}function Qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fv(e){if(typeof e=="function")return Qu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fu)return 11;if(e===du)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=Kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Io(e,t,n,r,o,l){var a=2;if(r=e,typeof e=="function")Qu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pr:return hr(n.children,o,l,t);case cu:a=8,o|=8;break;case ds:return e=Kt(12,n,t,o|2),e.elementType=ds,e.lanes=l,e;case hs:return e=Kt(13,n,t,o),e.elementType=hs,e.lanes=l,e;case ps:return e=Kt(19,n,t,o),e.elementType=ps,e.lanes=l,e;case hf:return yl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ff:a=10;break e;case df:a=9;break e;case fu:a=11;break e;case du:a=14;break e;case Un:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Kt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function hr(e,t,n,r){return e=Kt(7,e,r,t),e.lanes=n,e}function yl(e,t,n,r){return e=Kt(22,e,r,t),e.elementType=hf,e.lanes=n,e.stateNode={isHidden:!1},e}function ss(e,t,n){return e=Kt(6,e,null,t),e.lanes=n,e}function us(e,t,n){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r,o,l,a,f,d){return e=new dv(e,t,n,f,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Kt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(l),e}function hv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ih(e){if(!e)return nr;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(zt(n))return id(e,n,t)}return t}function oh(e,t,n,r,o,l,a,f,d){return e=Xu(n,r,!0,e,o,l,a,f,d),e.context=ih(null),n=e.current,r=jt(),o=qn(n),l=Rn(r,o),l.callback=t??null,bn(n,l,o),e.current.lanes=o,Qi(e,o,r),It(e,r),e}function gl(e,t,n,r){var o=t.current,l=jt(),a=qn(o);return n=ih(n),t.context===null?t.context=n:t.pendingContext=n,t=Rn(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bn(o,t,a),e!==null&&(an(e,o,a,l),_o(e,o,a)),a}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yu(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function pv(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}wl.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));gl(e,t,null,null)};wl.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){gl(null,e,null,null)}),t[An]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Df();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&Ff(e)}};function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function mv(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var x=ol(a);l.call(x)}}var a=oh(t,r,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=a,e[An]=a.current,Oi(e.nodeType===8?e.parentNode:e),gr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var x=ol(d);f.call(x)}}var d=Xu(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=d,e[An]=d.current,Oi(e.nodeType===8?e.parentNode:e),gr(function(){gl(t,d,n,r)}),d}function xl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var a=l;if(typeof o=="function"){var f=o;o=function(){var d=ol(a);f.call(d)}}gl(t,a,e,o)}else a=mv(n,t,e,o,r);return ol(a)}If=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(mu(t,n|1),It(t,tt()),!(Le&6)&&(br=tt()+500,or()))}break;case 13:gr(function(){var r=Ln(e,1);if(r!==null){var o=jt();an(r,e,1,o)}}),Yu(e,1)}};vu=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var n=jt();an(t,e,134217728,n)}Yu(e,134217728)}};Of=function(e){if(e.tag===13){var t=qn(e),n=Ln(e,t);if(n!==null){var r=jt();an(n,e,t,r)}Yu(e,t)}};Df=function(){return Oe};Bf=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Cs=function(e,t,n){switch(t){case"input":if(ys(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fl(r);if(!o)throw Error(q(90));mf(r),ys(r,o)}}}break;case"textarea":yf(e,n);break;case"select":t=n.value,t!=null&&Fr(e,!!n.multiple,t,!1)}};Cf=$u;jf=gr;var vv={usingClientEntryPoint:!1,Events:[Yi,Tr,fl,kf,Ef,$u]},hi={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yv={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nf(e),e===null?null:e.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{sl=Eo.inject(yv),kn=Eo}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(t))throw Error(q(200));return hv(e,t,null,n)};Wt.createRoot=function(e,t){if(!Ju(e))throw Error(q(299));var n=!1,r="",o=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xu(e,1,!1,null,null,n,!1,r,o),e[An]=t.current,Oi(e.nodeType===8?e.parentNode:e),new Ku(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Nf(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return gr(e)};Wt.hydrate=function(e,t,n){if(!Sl(t))throw Error(q(200));return xl(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",a=lh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=oh(t,null,e,1,n??null,o,!1,l,a),e[An]=t.current,Oi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new wl(t)};Wt.render=function(e,t,n){if(!Sl(t))throw Error(q(200));return xl(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(q(40));return e._reactRootContainer?(gr(function(){xl(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};Wt.unstable_batchedUpdates=$u;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return xl(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(e){console.error(e)}}sh(),sf.exports=Wt;var gv=sf.exports,Uc=gv;cs.createRoot=Uc.createRoot,cs.hydrateRoot=Uc.hydrateRoot;function wv({onStart:e}){const[t,n]=L.useState("1"),[r,o]=L.useState("individual"),[l,a]=L.useState("5"),f=()=>{if(!t||!l){alert("Please fill in all fields");return}const x={id:t,condition:r,timeSeconds:parseInt(l)*60,date:new Date().toISOString().replace("T"," ").substring(0,19)};e(x)},d=()=>{window.close()};return S.jsx("div",{className:"dialog-overlay",children:S.jsxs("div",{className:"dialog-box",children:[S.jsx("h2",{children:"The Creative Game"}),S.jsxs("div",{className:"dialog-field",children:[S.jsx("label",{children:"ID:"}),S.jsx("input",{type:"text",value:t,onChange:x=>n(x.target.value)})]}),S.jsxs("div",{className:"dialog-field",children:[S.jsx("label",{children:"Condition:"}),S.jsxs("select",{value:r,onChange:x=>o(x.target.value),children:[S.jsx("option",{value:"individual",children:"individual"}),S.jsx("option",{value:"group",children:"group"})]})]}),S.jsxs("div",{className:"dialog-field",children:[S.jsx("label",{children:"Time (in minutes):"}),S.jsx("input",{type:"number",value:l,onChange:x=>a(x.target.value),min:"1"})]}),S.jsxs("div",{className:"dialog-buttons",children:[S.jsx("button",{className:"dialog-button",onClick:()=>{window.location.hash="/calibrate"},children:"Calibrate Colors"}),S.jsx("button",{className:"dialog-button ok",onClick:f,children:"OK"}),S.jsx("button",{className:"dialog-button cancel",onClick:d,children:"Cancel"})]})]})})}class Sv{constructor(t){this.subjectId=t,this.logs=[],this.header=["date","id","condition","phase","type","time","unit","end_position","all_positions","gallery_shape_number","gallery","gallery_normalized"]}write(t){this.logs.push(t),this.saveToLocalStorage()}saveToLocalStorage(){const t=`creativeForaging_${this.subjectId}`;localStorage.setItem(t,JSON.stringify(this.logs))}loadFromLocalStorage(){const t=`creativeForaging_${this.subjectId}`,n=localStorage.getItem(t);n&&(this.logs=JSON.parse(n))}downloadCSV(){const t=[this.header.join(",")];this.logs.forEach(d=>{const x=this.header.map(O=>{const I=d[O];return I==null||I===""?"":Array.isArray(I)||typeof I=="object"?`"${JSON.stringify(I).replace(/"/g,'""')}"`:`"${String(I).replace(/"/g,'""')}"`});t.push(x.join(","))});const n=t.join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(r),f=new Date().toISOString().replace("T"," ").substring(0,19);o.setAttribute("href",l),o.setAttribute("download",`${this.subjectId} (${f}).csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}clear(){this.logs=[];const t=`creativeForaging_${this.subjectId}`;localStorage.removeItem(t)}}const sn=.07,Hc=()=>[[-.315,0],[-.245,0],[-.175,0],[-.105,0],[-.035,0],[.035,0],[.105,0],[.175,0],[.245,0],[.315,0]].map((t,n)=>({id:n,position:[...t],neighbors:[],canMove:!1})),Xe=e=>Math.round(e*1e3)/1e3,xv=(e,t)=>{let n=[];e.forEach(l=>{if(l.id!==t){const a=[[Xe(l.position[0]-sn),Xe(l.position[1])],[Xe(l.position[0]+sn),Xe(l.position[1])],[Xe(l.position[0]),Xe(l.position[1]-sn)],[Xe(l.position[0]),Xe(l.position[1]+sn)]];n.push(...a)}});const r=new Set(n.map(l=>`${l[0]},${l[1]}`));n=Array.from(r).map(l=>l.split(",").map(Number));const o=e.map(l=>`${l.position[0]},${l.position[1]}`);return n=n.filter(l=>!o.includes(`${l[0]},${l[1]}`)),n=n.filter(l=>l[0]<.735&&l[0]>-.735&&l[1]<.49&&l[1]>-.49),n},kv=(e,t)=>{if(e.length===0)return t;let n=1/0,r=e[0];return e.forEach(o=>{const l=Math.sqrt(Math.pow(o[0]-t[0],2)+Math.pow(o[1]-t[1],2));l<n&&(n=l,r=o)}),r},$c=e=>e.map(t=>{const n=[],r=[[Xe(t.position[0]-sn),Xe(t.position[1])],[Xe(t.position[0]+sn),Xe(t.position[1])],[Xe(t.position[0]),Xe(t.position[1]-sn)],[Xe(t.position[0]),Xe(t.position[1]+sn)]];return e.forEach(o=>{r.forEach(l=>{Xe(o.position[0])===l[0]&&Xe(o.position[1])===l[1]&&n.push(o.position)})}),{...t,neighbors:n}}),Ev=e=>{const t=new Set;if(e.forEach((a,f)=>{a.forEach((d,x)=>{d&&t.add(`${f},${x}`)})}),t.size===0)return!0;const n=[[0,1],[1,0],[-1,0],[0,-1]],r=Array.from(t)[0].split(",").map(Number),o=new Set,l=[r];for(;l.length>0;){const[a,f]=l.shift(),d=`${a},${f}`;o.has(d)||(o.add(d),n.forEach(([x,O])=>{const I=`${a+x},${f+O}`;t.has(I)&&!o.has(I)&&l.push([a+x,f+O])}))}return o.size===t.size},Cv=(e,t)=>{const n=[];for(let l=-.945;l<=1.015;l+=sn)n.push(Xe(l));const r=[];for(let l=-.7;l<0;l+=sn)r.push(Xe(l));for(let l=0;l<=.77;l+=sn)r.push(Xe(l));const o=Array(r.length).fill(null).map(()=>Array(n.length).fill(!1));return e.forEach((l,a)=>{if(a!==t){const f=n.findIndex(x=>Math.abs(x-l[0])<.001),d=r.findIndex(x=>Math.abs(x-l[1])<.001);f!==-1&&d!==-1&&(o[d][f]=!0)}}),Ev(o)},Vc=(e,t)=>{const n=e.map(r=>r.position);return e.map((r,o)=>{const l=Cv(n,o);return{...r,canMove:l,color:t&&l?"blue":"green"}})},Gc=e=>{if(e.length===0)return null;try{const t=e.map(O=>O[0]),n=e.map(O=>O[1]),r=(Math.max(...t)+Math.min(...t))/2,o=(Math.max(...n)+Math.min(...n))/2;let l=1/0,a=e[0];e.forEach(O=>{const I=Math.sqrt(Math.pow(O[0]-r,2)+Math.pow(O[1]-o,2));I<l&&(l=I,a=O)});const f=-a[0],d=-a[1],x=e.map(O=>[Xe(O[0]+f),Xe(O[1]+d)]);return x.sort((O,I)=>O[0]-I[0]||O[1]-I[1]),x}catch{return null}};function jv({config:e}){const[t,n]=L.useState(Hc()),[r,o]=L.useState(null),[l,a]=L.useState({x:0,y:0}),[f,d]=L.useState(!0),[x,O]=L.useState(e.timeSeconds),[I,T]=L.useState(0),[G,B]=L.useState(null),[ee,ae]=L.useState(!0),[M,w]=L.useState(""),j=L.useRef(null),z=L.useRef(new Sv(e.id)),b=L.useRef(Date.now()),ne=`Welcome to the creative game!

Your task is to move around blocks to create interesting and beautiful figures.

Everytime you have created a figure you like, tap on the gallery in the upper right corner in order to save your figure to the gallery.

The experiment proceeds through ${e.timeSeconds/60} minutes.

Tell the experimenter when you are ready for the practice round.`,X=`This was the end of the practice round.

Let the experimenter know when you are ready to begin the actual experiment.`,U="The experiment is done. Thank you very much for your participation!";L.useEffect(()=>{w(ne)},[]),L.useEffect(()=>{if(!f&&x>0){const $=setInterval(()=>{O(re=>re<=1?(clearInterval($),ae(!0),w(U),setTimeout(()=>{z.current.downloadCSV()},1e3),0):re-1)},1e3);return()=>clearInterval($)}},[f,x]),L.useEffect(()=>{n($=>Vc($c($),f))},[f]);const pe=()=>(Date.now()-b.current)/1e3,k=($,re)=>{const ve=j.current;if(!ve)return 0;const ye=ve.offsetHeight;return $/ye-.5},R=($,re)=>{const ve=j.current;if(!ve)return 0;const ye=ve.offsetHeight;return($+.5)*ye},Z=($,re)=>{const ve=t.find(h=>h.id===re);if(!ve||!ve.canMove)return;const ye=j.current.getBoundingClientRect(),Ce=$.clientX-ye.left,Ae=$.clientY-ye.top,J=R(ve.position[0]),ie=R(ve.position[1]);o(re),a({x:Ce-J,y:Ae-ie})},te=$=>{if(r===null)return;const re=j.current.getBoundingClientRect(),ve=$.clientX-re.left,ye=$.clientY-re.top,Ce=k(ve-l.x),Ae=k(ye-l.y);n(J=>J.map(ie=>ie.id===r?{...ie,position:[Ce,Ae]}:ie))},de=()=>{if(r===null)return;const $=t.find(Ce=>Ce.id===r),re=xv(t,r),ve=kv(re,$.position),ye={date:e.date,id:e.id,condition:e.condition,phase:f?"practice":"experiment",type:"moveblock",time:pe(),unit:r,end_position:ve,all_positions:t.map(Ce=>Ce.position),gallery_shape_number:null,gallery:null,gallery_normalized:null};z.current.write(ye),n(Ce=>{const Ae=Ce.map(J=>J.id===r?{...J,position:ve}:J);return Vc($c(Ae),f)}),o(null)},Se=()=>{const $=t.map(Ae=>Ae.position),re=Gc($),ve=I+1,ye={date:e.date,id:e.id,condition:e.condition,phase:f?"practice":"experiment",type:"added shape to gallery",time:pe(),unit:null,end_position:null,all_positions:null,gallery_shape_number:ve,gallery:$,gallery_normalized:re};z.current.write(ye);const Ce=Y();B(Ce),T(ve)},Y=()=>{const $=document.createElement("canvas");$.width=400,$.height=400;const re=$.getContext("2d");re.fillStyle="#000",re.fillRect(0,0,400,400);const ve=t.map(Ce=>Ce.position),ye=Gc(ve);return ye&&ye.forEach(Ce=>{const Ae=(Ce[0]+.5)*400,J=(Ce[1]+.5)*400;re.fillStyle="green",re.fillRect(Ae-15,J-15,30,30)}),$.toDataURL()},le=L.useCallback($=>{$.key==="p"&&f?(d(!1),ae(!0),w(X),b.current=Date.now(),n(Hc()),B(null),T(0)):$.key==="q"&&!f&&(ae(!0),w(U),setTimeout(()=>{z.current.downloadCSV()},1e3))},[f]);L.useEffect(()=>(window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)),[le]);const H=()=>{ae(!1)};return S.jsxs("div",{className:"game-canvas",ref:j,onMouseMove:te,onMouseUp:de,onMouseLeave:de,children:[S.jsx("div",{className:"gallery",onClick:Se,children:S.jsx("div",{className:"gallery-frame",children:G?S.jsx("img",{src:G,alt:"Gallery",className:"gallery-image"}):S.jsx("div",{className:"gallery-placeholder",children:"Gallery"})})}),!f&&S.jsxs("div",{className:"timer",children:["Time: ",Math.floor(x/60),":",(x%60).toString().padStart(2,"0")]}),t.map($=>S.jsx("div",{className:`block ${$.canMove?"movable":""}`,style:{left:`${R($.position[0])}px`,top:`${R($.position[1])}px`,backgroundColor:$.color||"green",cursor:$.canMove?"grab":"default"},onMouseDown:re=>Z(re,$.id)},$.id)),ee&&S.jsx("div",{className:"message-overlay",onClick:H,children:S.jsxs("div",{className:"message-box",children:[M,S.jsx("div",{className:"message-hint",children:"(Click to continue)"})]})})]})}var In={};(function(){var e;function t(i){var s=0;return function(){return s<i.length?{done:!1,value:i[s++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,u){return i==Array.prototype||i==Object.prototype||(i[s]=u.value),i};function r(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof Br=="object"&&Br];for(var s=0;s<i.length;++s){var u=i[s];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var o=r(this);function l(i,s){if(s)e:{var u=o;i=i.split(".");for(var c=0;c<i.length-1;c++){var v=i[c];if(!(v in u))break e;u=u[v]}i=i[i.length-1],c=u[i],s=s(c),s!=c&&s!=null&&n(u,i,{configurable:!0,writable:!0,value:s})}}l("Symbol",function(i){function s(g){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return new u(c+(g||"")+"_"+v++,g)}function u(g,y){this.h=g,n(this,"description",{configurable:!0,writable:!0,value:y})}if(i)return i;u.prototype.toString=function(){return this.h};var c="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",v=0;return s}),l("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var s="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),u=0;u<s.length;u++){var c=o[s[u]];typeof c=="function"&&typeof c.prototype[i]!="function"&&n(c.prototype,i,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return i});function a(i){return i={next:i},i[Symbol.iterator]=function(){return this},i}function f(i){var s=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return s?s.call(i):{next:t(i)}}function d(i){if(!(i instanceof Array)){i=f(i);for(var s,u=[];!(s=i.next()).done;)u.push(s.value);i=u}return i}var x=typeof Object.assign=="function"?Object.assign:function(i,s){for(var u=1;u<arguments.length;u++){var c=arguments[u];if(c)for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(i[v]=c[v])}return i};l("Object.assign",function(i){return i||x});var O=typeof Object.create=="function"?Object.create:function(i){function s(){}return s.prototype=i,new s},I;if(typeof Object.setPrototypeOf=="function")I=Object.setPrototypeOf;else{var T;e:{var G={a:!0},B={};try{B.__proto__=G,T=B.a;break e}catch{}T=!1}I=T?function(i,s){if(i.__proto__=s,i.__proto__!==s)throw new TypeError(i+" is not extensible");return i}:null}var ee=I;function ae(i,s){if(i.prototype=O(s.prototype),i.prototype.constructor=i,ee)ee(i,s);else for(var u in s)if(u!="prototype")if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(i,u,c)}else i[u]=s[u];i.ya=s.prototype}function M(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function w(i){if(i.m)throw new TypeError("Generator is already running");i.m=!0}M.prototype.u=function(i){this.i=i};function j(i,s){i.l={ma:s,na:!0},i.h=i.s||i.v}M.prototype.return=function(i){this.l={return:i},this.h=this.v};function z(i,s,u){return i.h=u,{value:s}}function b(i){this.h=new M,this.i=i}function ne(i,s){w(i.h);var u=i.h.j;return u?X(i,"return"in u?u.return:function(c){return{value:c,done:!0}},s,i.h.return):(i.h.return(s),U(i))}function X(i,s,u,c){try{var v=s.call(i.h.j,u);if(!(v instanceof Object))throw new TypeError("Iterator result "+v+" is not an object");if(!v.done)return i.h.m=!1,v;var g=v.value}catch(y){return i.h.j=null,j(i.h,y),U(i)}return i.h.j=null,c.call(i.h,g),U(i)}function U(i){for(;i.h.h;)try{var s=i.i(i.h);if(s)return i.h.m=!1,{value:s.value,done:!1}}catch(u){i.h.i=void 0,j(i.h,u)}if(i.h.m=!1,i.h.l){if(s=i.h.l,i.h.l=null,s.na)throw s.ma;return{value:s.return,done:!0}}return{value:void 0,done:!0}}function pe(i){this.next=function(s){return w(i.h),i.h.j?s=X(i,i.h.j.next,s,i.h.u):(i.h.u(s),s=U(i)),s},this.throw=function(s){return w(i.h),i.h.j?s=X(i,i.h.j.throw,s,i.h.u):(j(i.h,s),s=U(i)),s},this.return=function(s){return ne(i,s)},this[Symbol.iterator]=function(){return this}}function k(i){function s(c){return i.next(c)}function u(c){return i.throw(c)}return new Promise(function(c,v){function g(y){y.done?c(y.value):Promise.resolve(y.value).then(s,u).then(g,v)}g(i.next())})}function R(i){return k(new pe(new b(i)))}l("Promise",function(i){function s(y){this.i=0,this.j=void 0,this.h=[],this.u=!1;var N=this.l();try{y(N.resolve,N.reject)}catch(D){N.reject(D)}}function u(){this.h=null}function c(y){return y instanceof s?y:new s(function(N){N(y)})}if(i)return i;u.prototype.i=function(y){if(this.h==null){this.h=[];var N=this;this.j(function(){N.m()})}this.h.push(y)};var v=o.setTimeout;u.prototype.j=function(y){v(y,0)},u.prototype.m=function(){for(;this.h&&this.h.length;){var y=this.h;this.h=[];for(var N=0;N<y.length;++N){var D=y[N];y[N]=null;try{D()}catch(K){this.l(K)}}}this.h=null},u.prototype.l=function(y){this.j(function(){throw y})},s.prototype.l=function(){function y(K){return function(oe){D||(D=!0,K.call(N,oe))}}var N=this,D=!1;return{resolve:y(this.I),reject:y(this.m)}},s.prototype.I=function(y){if(y===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(y instanceof s)this.L(y);else{e:switch(typeof y){case"object":var N=y!=null;break e;case"function":N=!0;break e;default:N=!1}N?this.F(y):this.s(y)}},s.prototype.F=function(y){var N=void 0;try{N=y.then}catch(D){this.m(D);return}typeof N=="function"?this.M(N,y):this.s(y)},s.prototype.m=function(y){this.v(2,y)},s.prototype.s=function(y){this.v(1,y)},s.prototype.v=function(y,N){if(this.i!=0)throw Error("Cannot settle("+y+", "+N+"): Promise already settled in state"+this.i);this.i=y,this.j=N,this.i===2&&this.K(),this.H()},s.prototype.K=function(){var y=this;v(function(){if(y.D()){var N=o.console;typeof N<"u"&&N.error(y.j)}},1)},s.prototype.D=function(){if(this.u)return!1;var y=o.CustomEvent,N=o.Event,D=o.dispatchEvent;return typeof D>"u"?!0:(typeof y=="function"?y=new y("unhandledrejection",{cancelable:!0}):typeof N=="function"?y=new N("unhandledrejection",{cancelable:!0}):(y=o.document.createEvent("CustomEvent"),y.initCustomEvent("unhandledrejection",!1,!0,y)),y.promise=this,y.reason=this.j,D(y))},s.prototype.H=function(){if(this.h!=null){for(var y=0;y<this.h.length;++y)g.i(this.h[y]);this.h=null}};var g=new u;return s.prototype.L=function(y){var N=this.l();y.T(N.resolve,N.reject)},s.prototype.M=function(y,N){var D=this.l();try{y.call(N,D.resolve,D.reject)}catch(K){D.reject(K)}},s.prototype.then=function(y,N){function D(ge,se){return typeof ge=="function"?function(Ee){try{K(ge(Ee))}catch(_e){oe(_e)}}:se}var K,oe,ke=new s(function(ge,se){K=ge,oe=se});return this.T(D(y,K),D(N,oe)),ke},s.prototype.catch=function(y){return this.then(void 0,y)},s.prototype.T=function(y,N){function D(){switch(K.i){case 1:y(K.j);break;case 2:N(K.j);break;default:throw Error("Unexpected state: "+K.i)}}var K=this;this.h==null?g.i(D):this.h.push(D),this.u=!0},s.resolve=c,s.reject=function(y){return new s(function(N,D){D(y)})},s.race=function(y){return new s(function(N,D){for(var K=f(y),oe=K.next();!oe.done;oe=K.next())c(oe.value).T(N,D)})},s.all=function(y){var N=f(y),D=N.next();return D.done?c([]):new s(function(K,oe){function ke(Ee){return function(_e){ge[Ee]=_e,se--,se==0&&K(ge)}}var ge=[],se=0;do ge.push(void 0),se++,c(D.value).T(ke(ge.length-1),oe),D=N.next();while(!D.done)})},s});function Z(i,s){i instanceof String&&(i+="");var u=0,c=!1,v={next:function(){if(!c&&u<i.length){var g=u++;return{value:s(g,i[g]),done:!1}}return c=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v}l("Array.prototype.keys",function(i){return i||function(){return Z(this,function(s){return s})}}),l("Array.prototype.fill",function(i){return i||function(s,u,c){var v=this.length||0;for(0>u&&(u=Math.max(0,v+u)),(c==null||c>v)&&(c=v),c=Number(c),0>c&&(c=Math.max(0,v+c)),u=Number(u||0);u<c;u++)this[u]=s;return this}});function te(i){return i||Array.prototype.fill}l("Int8Array.prototype.fill",te),l("Uint8Array.prototype.fill",te),l("Uint8ClampedArray.prototype.fill",te),l("Int16Array.prototype.fill",te),l("Uint16Array.prototype.fill",te),l("Int32Array.prototype.fill",te),l("Uint32Array.prototype.fill",te),l("Float32Array.prototype.fill",te),l("Float64Array.prototype.fill",te),l("Object.is",function(i){return i||function(s,u){return s===u?s!==0||1/s===1/u:s!==s&&u!==u}}),l("Array.prototype.includes",function(i){return i||function(s,u){var c=this;c instanceof String&&(c=String(c));var v=c.length;for(u=u||0,0>u&&(u=Math.max(u+v,0));u<v;u++){var g=c[u];if(g===s||Object.is(g,s))return!0}return!1}}),l("String.prototype.includes",function(i){return i||function(s,u){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(s instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(s,u||0)!==-1}});var de=this||self;function Se(i,s){i=i.split(".");var u=de;i[0]in u||typeof u.execScript>"u"||u.execScript("var "+i[0]);for(var c;i.length&&(c=i.shift());)i.length||s===void 0?u[c]&&u[c]!==Object.prototype[c]?u=u[c]:u=u[c]={}:u[c]=s}function Y(i){var s;e:{if((s=de.navigator)&&(s=s.userAgent))break e;s=""}return s.indexOf(i)!=-1}var le=Array.prototype.map?function(i,s){return Array.prototype.map.call(i,s,void 0)}:function(i,s){for(var u=i.length,c=Array(u),v=typeof i=="string"?i.split(""):i,g=0;g<u;g++)g in v&&(c[g]=s.call(void 0,v[g],g,i));return c},H={},$=null;function re(i){var s=i.length,u=3*s/4;u%3?u=Math.floor(u):"=.".indexOf(i[s-1])!=-1&&(u="=.".indexOf(i[s-2])!=-1?u-2:u-1);var c=new Uint8Array(u),v=0;return ve(i,function(g){c[v++]=g}),v!==u?c.subarray(0,v):c}function ve(i,s){function u(D){for(;c<i.length;){var K=i.charAt(c++),oe=$[K];if(oe!=null)return oe;if(!/^[\s\xa0]*$/.test(K))throw Error("Unknown base64 encoding at char: "+K)}return D}ye();for(var c=0;;){var v=u(-1),g=u(0),y=u(64),N=u(64);if(N===64&&v===-1)break;s(v<<2|g>>4),y!=64&&(s(g<<4&240|y>>2),N!=64&&s(y<<6&192|N))}}function ye(){if(!$){$={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],u=0;5>u;u++){var c=i.concat(s[u].split(""));H[u]=c;for(var v=0;v<c.length;v++){var g=c[v];$[g]===void 0&&($[g]=v)}}}}var Ce=typeof Uint8Array<"u",Ae=!(Y("Trident")||Y("MSIE"))&&typeof de.btoa=="function";function J(i){if(!Ae){var s;s===void 0&&(s=0),ye(),s=H[s];for(var u=Array(Math.floor(i.length/3)),c=s[64]||"",v=0,g=0;v<i.length-2;v+=3){var y=i[v],N=i[v+1],D=i[v+2],K=s[y>>2];y=s[(y&3)<<4|N>>4],N=s[(N&15)<<2|D>>6],D=s[D&63],u[g++]=K+y+N+D}switch(K=0,D=c,i.length-v){case 2:K=i[v+1],D=s[(K&15)<<2]||c;case 1:i=i[v],u[g]=s[i>>2]+s[(i&3)<<4|K>>4]+D+c}return u.join("")}for(s="";10240<i.length;)s+=String.fromCharCode.apply(null,i.subarray(0,10240)),i=i.subarray(10240);return s+=String.fromCharCode.apply(null,i),btoa(s)}var ie=RegExp("[-_.]","g");function h(i){switch(i){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function m(i){if(!Ae)return re(i);ie.test(i)&&(i=i.replace(ie,h)),i=atob(i);for(var s=new Uint8Array(i.length),u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}var C;function p(){return C||(C=new Uint8Array(0))}var E={},P=typeof Uint8Array.prototype.slice=="function",A=0,_=0;function F(i){var s=0>i;i=Math.abs(i);var u=i>>>0;i=Math.floor((i-u)/4294967296),s&&(u=f(Q(u,i)),s=u.next().value,i=u.next().value,u=s),A=u>>>0,_=i>>>0}var W=typeof BigInt=="function";function Q(i,s){return s=~s,i?i=~i+1:s+=1,[i,s]}function V(i,s){this.i=i>>>0,this.h=s>>>0}function ue(i){if(!i)return me||(me=new V(0,0));if(!/^-?\d+$/.test(i))return null;if(16>i.length)F(Number(i));else if(W)i=BigInt(i),A=Number(i&BigInt(4294967295))>>>0,_=Number(i>>BigInt(32)&BigInt(4294967295));else{var s=+(i[0]==="-");_=A=0;for(var u=i.length,c=s,v=(u-s)%6+s;v<=u;c=v,v+=6)c=Number(i.slice(c,v)),_*=1e6,A=1e6*A+c,4294967296<=A&&(_+=A/4294967296|0,A%=4294967296);s&&(s=f(Q(A,_)),i=s.next().value,s=s.next().value,A=i,_=s)}return new V(A,_)}var me;function ce(i,s){return Error("Invalid wire type: "+i+" (at position "+s+")")}function he(){return Error("Failed to read varint, encoding is invalid.")}function Me(i,s){return Error("Tried to read past the end of the data "+s+" > "+i)}function xe(){throw Error("Invalid UTF8")}function we(i,s){return s=String.fromCharCode.apply(null,s),i==null?s:i+s}var Te=void 0,Pe,je=typeof TextDecoder<"u",De,Ie=typeof TextEncoder<"u",be;function Ze(i){if(i!==E)throw Error("illegal external caller")}function Ne(i,s){if(Ze(s),this.V=i,i!=null&&i.length===0)throw Error("ByteString should be constructed with non-empty values")}function $e(){return be||(be=new Ne(null,E))}function ot(i){Ze(E);var s=i.V;return s=s==null||Ce&&s!=null&&s instanceof Uint8Array?s:typeof s=="string"?m(s):null,s==null?s:i.V=s}function ut(i){if(typeof i=="string")return{buffer:m(i),C:!1};if(Array.isArray(i))return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Uint8Array)return{buffer:i,C:!1};if(i.constructor===ArrayBuffer)return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Ne)return{buffer:ot(i)||p(),C:!0};if(i instanceof Uint8Array)return{buffer:new Uint8Array(i.buffer,i.byteOffset,i.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function mt(i,s){this.i=null,this.m=!1,this.h=this.j=this.l=0,Ht(this,i,s)}function Ht(i,s,u){u=u===void 0?{}:u,i.S=u.S===void 0?!1:u.S,s&&(s=ut(s),i.i=s.buffer,i.m=s.C,i.l=0,i.j=i.i.length,i.h=i.l)}mt.prototype.reset=function(){this.h=this.l};function at(i,s){if(i.h=s,s>i.j)throw Me(i.j,s)}function $t(i){var s=i.i,u=i.h,c=s[u++],v=c&127;if(c&128&&(c=s[u++],v|=(c&127)<<7,c&128&&(c=s[u++],v|=(c&127)<<14,c&128&&(c=s[u++],v|=(c&127)<<21,c&128&&(c=s[u++],v|=c<<28,c&128&&s[u++]&128&&s[u++]&128&&s[u++]&128&&s[u++]&128&&s[u++]&128)))))throw he();return at(i,u),v}function Cn(i,s){if(0>s)throw Error("Tried to read a negative byte length: "+s);var u=i.h,c=u+s;if(c>i.j)throw Me(s,i.j-u);return i.h=c,u}var fn=[];function qt(){this.h=[]}qt.prototype.length=function(){return this.h.length},qt.prototype.end=function(){var i=this.h;return this.h=[],i};function Nt(i,s,u){for(;0<u||127<s;)i.h.push(s&127|128),s=(s>>>7|u<<25)>>>0,u>>>=7;i.h.push(s)}function St(i,s){for(;127<s;)i.h.push(s&127|128),s>>>=7;i.h.push(s)}function Vt(i,s){if(fn.length){var u=fn.pop();Ht(u,i,s),i=u}else i=new mt(i,s);this.h=i,this.j=this.h.h,this.i=this.l=-1,this.setOptions(s)}Vt.prototype.setOptions=function(i){i=i===void 0?{}:i,this.ca=i.ca===void 0?!1:i.ca},Vt.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function Gt(i){var s=i.h;if(s.h==s.j)return!1;i.j=i.h.h;var u=$t(i.h)>>>0;if(s=u>>>3,u&=7,!(0<=u&&5>=u))throw ce(u,i.j);if(1>s)throw Error("Invalid field number: "+s+" (at position "+i.j+")");return i.l=s,i.i=u,!0}function Bn(i){switch(i.i){case 0:if(i.i!=0)Bn(i);else e:{i=i.h;for(var s=i.h,u=s+10,c=i.i;s<u;)if(!(c[s++]&128)){at(i,s);break e}throw he()}break;case 1:i=i.h,at(i,i.h+8);break;case 2:i.i!=2?Bn(i):(s=$t(i.h)>>>0,i=i.h,at(i,i.h+s));break;case 5:i=i.h,at(i,i.h+4);break;case 3:s=i.l;do{if(!Gt(i))throw Error("Unmatched start-group tag: stream EOF");if(i.i==4){if(i.l!=s)throw Error("Unmatched end-group tag");break}Bn(i)}while(!0);break;default:throw ce(i.i,i.j)}}var xr=[];function kl(){this.j=[],this.i=0,this.h=new qt}function kr(i,s){s.length!==0&&(i.j.push(s),i.i+=s.length)}function uh(i,s){if(s=s.R){kr(i,i.h.end());for(var u=0;u<s.length;u++)kr(i,ot(s[u])||p())}}var jn=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function lr(i,s){return jn?i[jn]|=s:i.A!==void 0?i.A|=s:(Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}}),s)}function bu(i,s){jn?i[jn]&&(i[jn]&=~s):i.A!==void 0&&(i.A&=~s)}function et(i){var s;return jn?s=i[jn]:s=i.A,s??0}function dn(i,s){jn?i[jn]=s:i.A!==void 0?i.A=s:Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}})}function El(i){return lr(i,1),i}function ah(i,s){dn(s,(i|0)&-51)}function Ji(i,s){dn(s,(i|18)&-41)}var Cl={};function bi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)&&i.constructor===Object}var ti,Zu=[];dn(Zu,23),ti=Object.freeze(Zu);function jl(i){if(et(i.o)&2)throw Error("Cannot mutate an immutable Message")}function Ml(i){var s=i.length;(s=s?i[s-1]:void 0)&&bi(s)?s.g=1:(s={},i.push((s.g=1,s)))}function qu(i){var s=i.i+i.G;return i.B||(i.B=i.o[s]={})}function en(i,s){return s===-1?null:s>=i.i?i.B?i.B[s]:void 0:i.o[s+i.G]}function hn(i,s,u,c){jl(i),ni(i,s,u,c)}function ni(i,s,u,c){i.j&&(i.j=void 0),s>=i.i||c?qu(i)[s]=u:(i.o[s+i.G]=u,(i=i.B)&&s in i&&delete i[s])}function Pl(i,s,u,c){var v=en(i,s);Array.isArray(v)||(v=ti);var g=et(v);if(g&1||El(v),c)g&2||lr(v,2),u&1||Object.freeze(v);else{c=!(u&2);var y=g&2;u&1||!y?c&&g&16&&!y&&bu(v,16):(v=El(Array.prototype.slice.call(v)),ni(i,s,v))}return v}function Nl(i,s){var u=en(i,s),c=u==null?u:typeof u=="number"||u==="NaN"||u==="Infinity"||u==="-Infinity"?Number(u):void 0;return c!=null&&c!==u&&ni(i,s,c),c}function ea(i,s,u,c,v){i.h||(i.h={});var g=i.h[u],y=Pl(i,u,3,v);if(!g){var N=y;g=[];var D=!!(et(i.o)&16);y=!!(et(N)&2);var K=N;!v&&y&&(N=Array.prototype.slice.call(N));for(var oe=y,ke=0;ke<N.length;ke++){var ge=N[ke],se=s,Ee=!1;if(Ee=Ee===void 0?!1:Ee,ge=Array.isArray(ge)?new se(ge):Ee?new se:void 0,ge!==void 0){se=ge.o;var _e=Ee=et(se);y&&(_e|=2),D&&(_e|=16),_e!=Ee&&dn(se,_e),se=_e,oe=oe||!!(2&se),g.push(ge)}}return i.h[u]=g,D=et(N),s=D|33,s=oe?s&-9:s|8,D!=s&&(oe=N,Object.isFrozen(oe)&&(oe=Array.prototype.slice.call(oe)),dn(oe,s),N=oe),K!==N&&ni(i,u,N),(v||c&&y)&&lr(g,2),c&&Object.freeze(g),g}return v||(v=Object.isFrozen(g),c&&!v?Object.freeze(g):!c&&v&&(g=Array.prototype.slice.call(g),i.h[u]=g)),g}function Zi(i,s,u){var c=!!(et(i.o)&2);if(s=ea(i,s,u,c,c),i=Pl(i,u,3,c),!(c||et(i)&8)){for(c=0;c<s.length;c++){if(u=s[c],et(u.o)&2){var v=la(u,!1);v.j=u}else v=u;u!==v&&(s[c]=v,i[c]=v.o)}lr(i,8)}return s}function pn(i,s,u){if(u!=null&&typeof u!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof u+": "+u);hn(i,s,u)}function ta(i,s,u,c,v){jl(i);var g=ea(i,u,s,!1,!1);return u=c??new u,i=Pl(i,s,2,!1),v!=null?(g.splice(v,0,u),i.splice(v,0,u.o)):(g.push(u),i.push(u.o)),u.C()&&bu(i,8),u}function qi(i,s){return i??s}function mn(i,s,u){return u=u===void 0?0:u,qi(Nl(i,s),u)}var eo;function ch(i){switch(typeof i){case"number":return isFinite(i)?i:String(i);case"object":if(i)if(Array.isArray(i)){if(et(i)&128)return i=Array.prototype.slice.call(i),Ml(i),i}else{if(Ce&&i!=null&&i instanceof Uint8Array)return J(i);if(i instanceof Ne){var s=i.V;return s==null?"":typeof s=="string"?s:i.V=J(s)}}}return i}function na(i,s,u,c){if(i!=null){if(Array.isArray(i))i=_l(i,s,u,c!==void 0);else if(bi(i)){var v={},g;for(g in i)v[g]=na(i[g],s,u,c);i=v}else i=s(i,c);return i}}function _l(i,s,u,c){var v=et(i);c=c?!!(v&16):void 0,i=Array.prototype.slice.call(i);for(var g=0;g<i.length;g++)i[g]=na(i[g],s,u,c);return u(v,i),i}function fh(i){return i.ja===Cl?i.toJSON():ch(i)}function dh(i,s){i&128&&Ml(s)}function ra(i,s,u){if(u=u===void 0?Ji:u,i!=null){if(Ce&&i instanceof Uint8Array)return i.length?new Ne(new Uint8Array(i),E):$e();if(Array.isArray(i)){var c=et(i);return c&2?i:s&&!(c&32)&&(c&16||c===0)?(dn(i,c|2),i):(i=_l(i,ra,c&4?Ji:u,!0),s=et(i),s&4&&s&2&&Object.freeze(i),i)}return i.ja===Cl?oa(i):i}}function ia(i,s,u,c,v,g,y){if(i=i.h&&i.h[u]){if(c=et(i),c&2?c=i:(g=le(i,oa),Ji(c,g),Object.freeze(g),c=g),jl(s),y=c==null?ti:El([]),c!=null){for(g=!!c.length,i=0;i<c.length;i++){var N=c[i];g=g&&!(et(N.o)&2),y[i]=N.o}g=(g?8:0)|1,i=et(y),(i&g)!==g&&(Object.isFrozen(y)&&(y=Array.prototype.slice.call(y)),dn(y,i|g)),s.h||(s.h={}),s.h[u]=c}else s.h&&(s.h[u]=void 0);ni(s,u,y,v)}else hn(s,u,ra(c,g,y),v)}function oa(i){return et(i.o)&2||(i=la(i,!0),lr(i.o,2)),i}function la(i,s){var u=i.o,c=[];lr(c,16);var v=i.constructor.h;if(v&&c.push(v),v=i.B,v){c.length=u.length,c.fill(void 0,c.length,u.length);var g={};c[c.length-1]=g}et(u)&128&&Ml(c),s=s||i.C()?Ji:ah,g=i.constructor,eo=c,c=new g(c),eo=void 0,i.R&&(c.R=i.R.slice()),g=!!(et(u)&16);for(var y=v?u.length-1:u.length,N=0;N<y;N++)ia(i,c,N-i.G,u[N],!1,g,s);if(v)for(var D in v)ia(i,c,+D,v[D],!0,g,s);return c}function _t(i,s,u){i==null&&(i=eo),eo=void 0;var c=this.constructor.i||0,v=0<c,g=this.constructor.h,y=!1;if(i==null){i=g?[g]:[];var N=48,D=!0;v&&(c=0,N|=128),dn(i,N)}else{if(!Array.isArray(i)||g&&g!==i[0])throw Error();var K=N=lr(i,0);if((D=(16&K)!==0)&&((y=(32&K)!==0)||(K|=32)),v){if(128&K)c=0;else if(0<i.length){var oe=i[i.length-1];if(bi(oe)&&"g"in oe){c=0,K|=128,delete oe.g;var ke=!0,ge;for(ge in oe){ke=!1;break}ke&&i.pop()}}}else if(128&K)throw Error();N!==K&&dn(i,K)}this.G=(g?0:-1)-c,this.h=void 0,this.o=i;e:{if(g=this.o.length,c=g-1,g&&(g=this.o[c],bi(g))){this.B=g,this.i=c-this.G;break e}s!==void 0&&-1<s?(this.i=Math.max(s,c+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!v&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(u){s=D&&!y&&!0,v=this.i;var se;for(D=0;D<u.length;D++)y=u[D],y<v?(y+=this.G,(c=i[y])?sa(c,s):i[y]=ti):(se||(se=qu(this)),(c=se[y])?sa(c,s):se[y]=ti)}}_t.prototype.toJSON=function(){return _l(this.o,fh,dh)},_t.prototype.C=function(){return!!(et(this.o)&2)};function sa(i,s){if(Array.isArray(i)){var u=et(i),c=1;!s||u&2||(c|=16),(u&c)!==c&&dn(i,u|c)}}_t.prototype.ja=Cl,_t.prototype.toString=function(){return this.o.toString()};function ua(i,s,u){if(u){var c={},v;for(v in u){var g=u[v],y=g.qa;y||(c.J=g.wa||g.oa.W,g.ia?(c.aa=ha(g.ia),y=function(N){return function(D,K,oe){return N.J(D,K,oe,N.aa)}}(c)):g.ka?(c.Z=pa(g.da.P,g.ka),y=function(N){return function(D,K,oe){return N.J(D,K,oe,N.Z)}}(c)):y=c.J,g.qa=y),y(s,i,g.da),c={J:c.J,aa:c.aa,Z:c.Z}}}uh(s,i)}var to=Symbol();function aa(i,s,u){return i[to]||(i[to]=function(c,v){return s(c,v,u)})}function ca(i){var s=i[to];if(!s){var u=Tl(i);s=function(c,v){return ma(c,v,u)},i[to]=s}return s}function hh(i){var s=i.ia;if(s)return ca(s);if(s=i.va)return aa(i.da.P,s,i.ka)}function ph(i){var s=hh(i),u=i.da,c=i.oa.U;return s?function(v,g){return c(v,g,u,s)}:function(v,g){return c(v,g,u)}}function fa(i,s){var u=i[s];return typeof u=="function"&&u.length===0&&(u=u(),i[s]=u),Array.isArray(u)&&(ii in u||ri in u||0<u.length&&typeof u[0]=="function")?u:void 0}function da(i,s,u,c,v,g){s.P=i[0];var y=1;if(i.length>y&&typeof i[y]!="number"){var N=i[y++];u(s,N)}for(;y<i.length;){u=i[y++];for(var D=y+1;D<i.length&&typeof i[D]!="number";)D++;switch(N=i[y++],D-=y,D){case 0:c(s,u,N);break;case 1:(D=fa(i,y))?(y++,v(s,u,N,D)):c(s,u,N,i[y++]);break;case 2:D=y++,D=fa(i,D),v(s,u,N,D,i[y++]);break;case 3:g(s,u,N,i[y++],i[y++],i[y++]);break;case 4:g(s,u,N,i[y++],i[y++],i[y++],i[y++]);break;default:throw Error("unexpected number of binary field arguments: "+D)}}return s}var no=Symbol();function ha(i){var s=i[no];if(!s){var u=Rl(i);s=function(c,v){return va(c,v,u)},i[no]=s}return s}function pa(i,s){var u=i[no];return u||(u=function(c,v){return ua(c,v,s)},i[no]=u),u}var ri=Symbol();function mh(i,s){i.push(s)}function vh(i,s,u){i.push(s,u.W)}function yh(i,s,u,c){var v=ha(c),g=Rl(c).P,y=u.W;i.push(s,function(N,D,K){return y(N,D,K,g,v)})}function gh(i,s,u,c,v,g){var y=pa(c,g),N=u.W;i.push(s,function(D,K,oe){return N(D,K,oe,c,y)})}function Rl(i){var s=i[ri];return s||(s=da(i,i[ri]=[],mh,vh,yh,gh),ii in i&&ri in i&&(i.length=0),s)}var ii=Symbol();function wh(i,s){i[0]=s}function Sh(i,s,u,c){var v=u.U;i[s]=c?function(g,y,N){return v(g,y,N,c)}:v}function xh(i,s,u,c,v){var g=u.U,y=ca(c),N=Tl(c).P;i[s]=function(D,K,oe){return g(D,K,oe,N,y,v)}}function kh(i,s,u,c,v,g,y){var N=u.U,D=aa(c,v,g);i[s]=function(K,oe,ke){return N(K,oe,ke,c,D,y)}}function Tl(i){var s=i[ii];return s||(s=da(i,i[ii]={},wh,Sh,xh,kh),ii in i&&ri in i&&(i.length=0),s)}function ma(i,s,u){for(;Gt(s)&&s.i!=4;){var c=s.l,v=u[c];if(!v){var g=u[0];g&&(g=g[c])&&(v=u[c]=ph(g))}if(!v||!v(s,i,c)){v=s,c=i,g=v.j,Bn(v);var y=v;if(!y.ca){if(v=y.h.h-g,y.h.h=g,y=y.h,v==0)v=$e();else{if(g=Cn(y,v),y.S&&y.m)v=y.i.subarray(g,g+v);else{y=y.i;var N=g;v=g+v,v=N===v?p():P?y.slice(N,v):new Uint8Array(y.subarray(N,v))}v=v.length==0?$e():new Ne(v,E)}(g=c.R)?g.push(v):c.R=[v]}}}return i}function va(i,s,u){for(var c=u.length,v=c%2==1,g=v?1:0;g<c;g+=2)(0,u[g+1])(s,i,u[g]);ua(i,s,v?u[0]:void 0)}function oi(i,s){return{U:i,W:s}}var tn=oi(function(i,s,u){if(i.i!==5)return!1;i=i.h;var c=i.i,v=i.h,g=c[v],y=c[v+1],N=c[v+2];return c=c[v+3],at(i,i.h+4),y=(g<<0|y<<8|N<<16|c<<24)>>>0,i=2*(y>>31)+1,g=y>>>23&255,y&=8388607,hn(s,u,g==255?y?NaN:1/0*i:g==0?i*Math.pow(2,-149)*y:i*Math.pow(2,g-150)*(y+Math.pow(2,23))),!0},function(i,s,u){if(s=Nl(s,u),s!=null){St(i.h,8*u+5),i=i.h;var c=+s;c===0?0<1/c?A=_=0:(_=0,A=2147483648):isNaN(c)?(_=0,A=2147483647):(c=(u=0>c?-2147483648:0)?-c:c,34028234663852886e22<c?(_=0,A=(u|2139095040)>>>0):11754943508222875e-54>c?(c=Math.round(c/Math.pow(2,-149)),_=0,A=(u|c)>>>0):(s=Math.floor(Math.log(c)/Math.LN2),c*=Math.pow(2,-s),c=Math.round(8388608*c),16777216<=c&&++s,_=0,A=(u|s+127<<23|c&8388607)>>>0)),u=A,i.h.push(u>>>0&255),i.h.push(u>>>8&255),i.h.push(u>>>16&255),i.h.push(u>>>24&255)}}),Eh=oi(function(i,s,u){if(i.i!==0)return!1;var c=i.h,v=0,g=i=0,y=c.i,N=c.h;do{var D=y[N++];v|=(D&127)<<g,g+=7}while(32>g&&D&128);for(32<g&&(i|=(D&127)>>4),g=3;32>g&&D&128;g+=7)D=y[N++],i|=(D&127)<<g;if(at(c,N),128>D)c=v>>>0,D=i>>>0,(i=D&2147483648)&&(c=~c+1>>>0,D=~D>>>0,c==0&&(D=D+1>>>0)),c=4294967296*D+(c>>>0);else throw he();return hn(s,u,i?-c:c),!0},function(i,s,u){s=en(s,u),s!=null&&(typeof s=="string"&&ue(s),s!=null&&(St(i.h,8*u),typeof s=="number"?(i=i.h,F(s),Nt(i,A,_)):(u=ue(s),Nt(i.h,u.i,u.h))))}),Ch=oi(function(i,s,u){return i.i!==0?!1:(hn(s,u,$t(i.h)),!0)},function(i,s,u){if(s=en(s,u),s!=null&&s!=null)if(St(i.h,8*u),i=i.h,u=s,0<=u)St(i,u);else{for(s=0;9>s;s++)i.h.push(u&127|128),u>>=7;i.h.push(1)}}),ya=oi(function(i,s,u){if(i.i!==2)return!1;var c=$t(i.h)>>>0;i=i.h;var v=Cn(i,c);if(i=i.i,je){var g=i,y;(y=Pe)||(y=Pe=new TextDecoder("utf-8",{fatal:!0})),i=v+c,g=v===0&&i===g.length?g:g.subarray(v,i);try{var N=y.decode(g)}catch(ke){if(Te===void 0){try{y.decode(new Uint8Array([128]))}catch{}try{y.decode(new Uint8Array([97])),Te=!0}catch{Te=!1}}throw!Te&&(Pe=void 0),ke}}else{N=v,c=N+c,v=[];for(var D=null,K,oe;N<c;)K=i[N++],128>K?v.push(K):224>K?N>=c?xe():(oe=i[N++],194>K||(oe&192)!==128?(N--,xe()):v.push((K&31)<<6|oe&63)):240>K?N>=c-1?xe():(oe=i[N++],(oe&192)!==128||K===224&&160>oe||K===237&&160<=oe||((g=i[N++])&192)!==128?(N--,xe()):v.push((K&15)<<12|(oe&63)<<6|g&63)):244>=K?N>=c-2?xe():(oe=i[N++],(oe&192)!==128||(K<<28)+(oe-144)>>30||((g=i[N++])&192)!==128||((y=i[N++])&192)!==128?(N--,xe()):(K=(K&7)<<18|(oe&63)<<12|(g&63)<<6|y&63,K-=65536,v.push((K>>10&1023)+55296,(K&1023)+56320))):xe(),8192<=v.length&&(D=we(D,v),v.length=0);N=we(D,v)}return hn(s,u,N),!0},function(i,s,u){if(s=en(s,u),s!=null){var c=!1;if(c=c===void 0?!1:c,Ie){if(c&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(s))throw Error("Found an unpaired surrogate");s=(De||(De=new TextEncoder)).encode(s)}else{for(var v=0,g=new Uint8Array(3*s.length),y=0;y<s.length;y++){var N=s.charCodeAt(y);if(128>N)g[v++]=N;else{if(2048>N)g[v++]=N>>6|192;else{if(55296<=N&&57343>=N){if(56319>=N&&y<s.length){var D=s.charCodeAt(++y);if(56320<=D&&57343>=D){N=1024*(N-55296)+D-56320+65536,g[v++]=N>>18|240,g[v++]=N>>12&63|128,g[v++]=N>>6&63|128,g[v++]=N&63|128;continue}else y--}if(c)throw Error("Found an unpaired surrogate");N=65533}g[v++]=N>>12|224,g[v++]=N>>6&63|128}g[v++]=N&63|128}}s=v===g.length?g:g.subarray(0,v)}St(i.h,8*u+2),St(i.h,s.length),kr(i,i.h.end()),kr(i,s)}}),ga=oi(function(i,s,u,c,v){if(i.i!==2)return!1;s=ta(s,u,c),u=i.h.j,c=$t(i.h)>>>0;var g=i.h.h+c,y=g-u;if(0>=y&&(i.h.j=g,v(s,i,void 0,void 0,void 0),y=g-i.h.h),y)throw Error("Message parsing ended unexpectedly. Expected to read "+(c+" bytes, instead read "+(c-y)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return i.h.h=g,i.h.j=u,!0},function(i,s,u,c,v){if(s=Zi(s,c,u),s!=null)for(c=0;c<s.length;c++){var g=i;St(g.h,8*u+2);var y=g.h.end();kr(g,y),y.push(g.i),g=y,v(s[c],i),y=i;var N=g.pop();for(N=y.i+y.h.length()-N;127<N;)g.push(N&127|128),N>>>=7,y.i++;g.push(N),y.i++}});function Al(i){return function(s,u){e:{if(xr.length){var c=xr.pop();c.setOptions(u),Ht(c.h,s,u),s=c}else s=new Vt(s,u);try{var v=Tl(i),g=ma(new v.P,s,v);break e}finally{v=s.h,v.i=null,v.m=!1,v.l=0,v.j=0,v.h=0,v.S=!1,s.l=-1,s.i=-1,100>xr.length&&xr.push(s)}g=void 0}return g}}function Ll(i){return function(){var s=new kl;va(this,s,Rl(i)),kr(s,s.h.end());for(var u=new Uint8Array(s.i),c=s.j,v=c.length,g=0,y=0;y<v;y++){var N=c[y];u.set(N,g),g+=N.length}return s.j=[u],u}}function Er(i){_t.call(this,i)}ae(Er,_t);var wa=[Er,1,Ch,2,tn,3,ya,4,ya];Er.prototype.l=Ll(wa);function zl(i){_t.call(this,i,-1,jh)}ae(zl,_t),zl.prototype.addClassification=function(i,s){return ta(this,1,Er,i,s),this};var jh=[1],Sa=Al([zl,1,ga,wa]);function Cr(i){_t.call(this,i)}ae(Cr,_t);var xa=[Cr,1,tn,2,tn,3,tn,4,tn,5,tn];Cr.prototype.l=Ll(xa);function ka(i){_t.call(this,i,-1,Mh)}ae(ka,_t);var Mh=[1],Ea=Al([ka,1,ga,xa]);function ro(i){_t.call(this,i)}ae(ro,_t);var Ca=[ro,1,tn,2,tn,3,tn,4,tn,5,tn,6,Eh],Ph=Al(Ca);ro.prototype.l=Ll(Ca);function ja(i,s,u){if(u=i.createShader(u===0?i.VERTEX_SHADER:i.FRAGMENT_SHADER),i.shaderSource(u,s),i.compileShader(u),!i.getShaderParameter(u,i.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+i.getShaderInfoLog(u));return u}function Ma(i){return Zi(i,Er,1).map(function(s){var u=en(s,1);return{index:u??0,score:mn(s,2),label:en(s,3)!=null?qi(en(s,3),""):void 0,displayName:en(s,4)!=null?qi(en(s,4),""):void 0}})}function Pa(i){return{x:mn(i,1),y:mn(i,2),z:mn(i,3),visibility:Nl(i,4)!=null?mn(i,4):void 0}}function Na(i){return i.map(function(s){return Zi(Ea(s),Cr,1).map(Pa)})}function Il(i,s){this.i=i,this.h=s,this.m=0}function _a(i,s,u){return Nh(i,s),typeof i.h.canvas.transferToImageBitmap=="function"?Promise.resolve(i.h.canvas.transferToImageBitmap()):u?Promise.resolve(i.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(i.h.canvas):(i.j===void 0&&(i.j=document.createElement("canvas")),new Promise(function(c){i.j.height=i.h.canvas.height,i.j.width=i.h.canvas.width,i.j.getContext("2d",{}).drawImage(i.h.canvas,0,0,i.h.canvas.width,i.h.canvas.height),c(i.j)}))}function Nh(i,s){var u=i.h;if(i.s===void 0){var c=ja(u,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),v=ja(u,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),g=u.createProgram();if(u.attachShader(g,c),u.attachShader(g,v),u.linkProgram(g),!u.getProgramParameter(g,u.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+u.getProgramInfoLog(g));c=i.s=g,u.useProgram(c),v=u.getUniformLocation(c,"sampler0"),i.l={O:u.getAttribLocation(c,"aVertex"),N:u.getAttribLocation(c,"aTex"),xa:v},i.v=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i.v),u.enableVertexAttribArray(i.l.O),u.vertexAttribPointer(i.l.O,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null),i.u=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i.u),u.enableVertexAttribArray(i.l.N),u.vertexAttribPointer(i.l.N,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniform1i(v,0)}c=i.l,u.useProgram(i.s),u.canvas.width=s.width,u.canvas.height=s.height,u.viewport(0,0,s.width,s.height),u.activeTexture(u.TEXTURE0),i.i.bindTexture2d(s.glName),u.enableVertexAttribArray(c.O),u.bindBuffer(u.ARRAY_BUFFER,i.v),u.vertexAttribPointer(c.O,2,u.FLOAT,!1,0,0),u.enableVertexAttribArray(c.N),u.bindBuffer(u.ARRAY_BUFFER,i.u),u.vertexAttribPointer(c.N,2,u.FLOAT,!1,0,0),u.bindFramebuffer(u.DRAW_FRAMEBUFFER?u.DRAW_FRAMEBUFFER:u.FRAMEBUFFER,null),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.colorMask(!0,!0,!0,!0),u.drawArrays(u.TRIANGLE_FAN,0,4),u.disableVertexAttribArray(c.O),u.disableVertexAttribArray(c.N),u.bindBuffer(u.ARRAY_BUFFER,null),i.i.bindTexture2d(0)}function _h(i){this.h=i}var Rh=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Th(i,s){return s+i}function Ra(i,s){window[i]=s}function Ah(i){var s=document.createElement("script");return s.setAttribute("src",i),s.setAttribute("crossorigin","anonymous"),new Promise(function(u){s.addEventListener("load",function(){u()},!1),s.addEventListener("error",function(){u()},!1),document.body.appendChild(s)})}function Lh(){return R(function(i){switch(i.h){case 1:return i.s=2,z(i,WebAssembly.instantiate(Rh),4);case 4:i.h=3,i.s=0;break;case 2:return i.s=0,i.l=null,i.return(!1);case 3:return i.return(!0)}})}function Ol(i){if(this.h=i,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=i&&i.locateFile||Th,typeof window=="object")var s=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")s=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=s,i.options){s=f(Object.keys(i.options));for(var u=s.next();!u.done;u=s.next()){u=u.value;var c=i.options[u].default;c!==void 0&&(this.l[u]=typeof c=="function"?c():c)}}}e=Ol.prototype,e.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function zh(i){var s,u,c,v,g,y,N,D,K,oe,ke;return R(function(ge){switch(ge.h){case 1:return i.ga?(s=i.h.files===void 0?[]:typeof i.h.files=="function"?i.h.files(i.l):i.h.files,z(ge,Lh(),2)):ge.return();case 2:if(u=ge.i,typeof window=="object")return Ra("createMediapipeSolutionsWasm",{locateFile:i.locateFile}),Ra("createMediapipeSolutionsPackedAssets",{locateFile:i.locateFile}),y=s.filter(function(se){return se.data!==void 0}),N=s.filter(function(se){return se.data===void 0}),D=Promise.all(y.map(function(se){var Ee=io(i,se.url);if(se.path!==void 0){var _e=se.path;Ee=Ee.then(function(We){return i.overrideFile(_e,We),Promise.resolve(We)})}return Ee})),K=Promise.all(N.map(function(se){return se.simd===void 0||se.simd&&u||!se.simd&&!u?Ah(i.locateFile(se.url,i.ha)):Promise.resolve()})).then(function(){var se,Ee,_e;return R(function(We){if(We.h==1)return se=window.createMediapipeSolutionsWasm,Ee=window.createMediapipeSolutionsPackedAssets,_e=i,z(We,se(Ee),2);_e.i=We.i,We.h=0})}),oe=function(){return R(function(se){return i.h.graph&&i.h.graph.url?se=z(se,io(i,i.h.graph.url),0):(se.h=0,se=void 0),se})}(),z(ge,Promise.all([K,D,oe]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return c=s.filter(function(se){return se.simd===void 0||se.simd&&u||!se.simd&&!u}).map(function(se){return i.locateFile(se.url,i.ha)}),importScripts.apply(null,d(c)),v=i,z(ge,createMediapipeSolutionsWasm(Module),6);case 6:v.i=ge.i,i.m=new OffscreenCanvas(1,1),i.i.canvas=i.m,g=i.i.GL.createContext(i.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),i.i.GL.makeContextCurrent(g),ge.h=4;break;case 7:if(i.m=document.createElement("canvas"),ke=i.m.getContext("webgl2",{}),!ke&&(ke=i.m.getContext("webgl",{}),!ke))return alert("Failed to create WebGL canvas context when passing video frame."),ge.return();i.K=ke,i.i.canvas=i.m,i.i.createContext(i.m,!0,!0,{});case 4:i.j=new i.i.SolutionWasm,i.ga=!1,ge.h=0}})}function Ih(i){var s,u,c,v,g,y,N,D;return R(function(K){if(K.h==1){if(i.h.graph&&i.h.graph.url&&i.fa===i.h.graph.url)return K.return();if(i.u=!0,!i.h.graph||!i.h.graph.url){K.h=2;return}return i.fa=i.h.graph.url,z(K,io(i,i.h.graph.url),3)}for(K.h!=2&&(s=K.i,i.j.loadGraph(s)),u=f(Object.keys(i.D)),c=u.next();!c.done;c=u.next())v=c.value,i.j.overrideFile(v,i.D[v]);if(i.D={},i.h.listeners)for(g=f(i.h.listeners),y=g.next();!y.done;y=g.next())N=y.value,Fh(i,N);D=i.l,i.l={},i.setOptions(D),K.h=0})}e.reset=function(){var i=this;return R(function(s){i.j&&(i.j.reset(),i.s={},i.v={}),s.h=0})},e.setOptions=function(i,s){var u=this;if(s=s||this.h.options){for(var c=[],v=[],g={},y=f(Object.keys(i)),N=y.next();!N.done;g={X:g.X,Y:g.Y},N=y.next())if(N=N.value,!(N in this.l&&this.l[N]===i[N])){this.l[N]=i[N];var D=s[N];D!==void 0&&(D.onChange&&(g.X=D.onChange,g.Y=i[N],c.push(function(K){return function(){var oe;return R(function(ke){if(ke.h==1)return z(ke,K.X(K.Y),2);oe=ke.i,oe===!0&&(u.u=!0),ke.h=0})}}(g))),D.graphOptionXref&&(N=Object.assign({},{calculatorName:"",calculatorIndex:0},D.graphOptionXref,{valueNumber:D.type===1?i[N]:0,valueBoolean:D.type===0?i[N]:!1,valueString:D.type===2?i[N]:""}),v.push(N)))}(c.length!==0||v.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(v),this.F=(this.F===void 0?[]:this.F).concat(c))}};function Oh(i){var s,u,c,v,g,y,N;return R(function(D){switch(D.h){case 1:if(!i.u)return D.return();if(!i.F){D.h=2;break}s=f(i.F),u=s.next();case 3:if(u.done){D.h=5;break}return c=u.value,z(D,c(),4);case 4:u=s.next(),D.h=3;break;case 5:i.F=void 0;case 2:if(i.H){for(v=new i.i.GraphOptionChangeRequestList,g=f(i.H),y=g.next();!y.done;y=g.next())N=y.value,v.push_back(N);i.j.changeOptions(v),v.delete(),i.H=void 0}i.u=!1,D.h=0}})}e.initialize=function(){var i=this;return R(function(s){return s.h==1?z(s,zh(i),2):s.h!=3?z(s,Ih(i),3):z(s,Oh(i),0)})};function io(i,s){var u,c;return R(function(v){return s in i.L?v.return(i.L[s]):(u=i.locateFile(s,""),c=fetch(u).then(function(g){return g.arrayBuffer()}),i.L[s]=c,v.return(c))})}e.overrideFile=function(i,s){this.j?this.j.overrideFile(i,s):this.D[i]=s},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(i,s){var u=this,c,v,g,y,N,D,K,oe,ke;return R(function(ge){switch(ge.h){case 1:return u.h.inputs?(c=1e3*(s??performance.now()),z(ge,u.I,2)):ge.return();case 2:return z(ge,u.initialize(),3);case 3:for(v=new u.i.PacketDataList,g=f(Object.keys(i)),y=g.next();!y.done;y=g.next())if(N=y.value,D=u.h.inputs[N]){e:{var se=i[N];switch(D.type){case"video":var Ee=u.s[D.stream];if(Ee||(Ee=new Il(u.i,u.K),u.s[D.stream]=Ee),Ee.m===0&&(Ee.m=Ee.i.createTexture()),typeof HTMLVideoElement<"u"&&se instanceof HTMLVideoElement)var _e=se.videoWidth,We=se.videoHeight;else typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(_e=se.naturalWidth,We=se.naturalHeight):(_e=se.width,We=se.height);We={glName:Ee.m,width:_e,height:We},_e=Ee.h,_e.canvas.width=We.width,_e.canvas.height=We.height,_e.activeTexture(_e.TEXTURE0),Ee.i.bindTexture2d(Ee.m),_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,_e.RGBA,_e.UNSIGNED_BYTE,se),Ee.i.bindTexture2d(0),Ee=We;break e;case"detections":for(Ee=u.s[D.stream],Ee||(Ee=new _h(u.i),u.s[D.stream]=Ee),Ee.data||(Ee.data=new Ee.h.DetectionListData),Ee.data.reset(se.length),We=0;We<se.length;++We){_e=se[We];var Be=Ee.data,ct=Be.setBoundingBox,Qt=We,Rt=_e.la,ze=new ro;if(pn(ze,1,Rt.ra),pn(ze,2,Rt.sa),pn(ze,3,Rt.height),pn(ze,4,Rt.width),pn(ze,5,Rt.rotation),hn(ze,6,Rt.pa),Rt=ze.l(),ct.call(Be,Qt,Rt),_e.ea)for(Be=0;Be<_e.ea.length;++Be){ze=_e.ea[Be],ct=Ee.data,Qt=ct.addNormalizedLandmark,Rt=We,ze=Object.assign({},ze,{visibility:ze.visibility?ze.visibility:0});var ft=new Cr;pn(ft,1,ze.x),pn(ft,2,ze.y),pn(ft,3,ze.z),ze.visibility&&pn(ft,4,ze.visibility),ze=ft.l(),Qt.call(ct,Rt,ze)}if(_e.ba)for(Be=0;Be<_e.ba.length;++Be)ct=Ee.data,Qt=ct.addClassification,Rt=We,ze=_e.ba[Be],ft=new Er,pn(ft,2,ze.score),ze.index&&hn(ft,1,ze.index),ze.label&&hn(ft,3,ze.label),ze.displayName&&hn(ft,4,ze.displayName),ze=ft.l(),Qt.call(ct,Rt,ze)}Ee=Ee.data;break e;default:Ee={}}}switch(K=Ee,oe=D.stream,D.type){case"video":v.pushTexture2d(Object.assign({},K,{stream:oe,timestamp:c}));break;case"detections":ke=K,ke.stream=oe,ke.timestamp=c,v.pushDetectionList(ke);break;default:throw Error("Unknown input config type: '"+D.type+"'")}}return u.j.send(v),z(ge,u.I,4);case 4:v.delete(),ge.h=0}})};function Dh(i,s,u){var c,v,g,y,N,D,K,oe,ke,ge,se,Ee,_e,We;return R(function(Be){switch(Be.h){case 1:if(!u)return Be.return(s);for(c={},v=0,g=f(Object.keys(u)),y=g.next();!y.done;y=g.next())N=y.value,D=u[N],typeof D!="string"&&D.type==="texture"&&s[D.stream]!==void 0&&++v;1<v&&(i.M=!1),K=f(Object.keys(u)),y=K.next();case 2:if(y.done){Be.h=4;break}if(oe=y.value,ke=u[oe],typeof ke=="string")return _e=c,We=oe,z(Be,Bh(i,oe,s[ke]),14);if(ge=s[ke.stream],ke.type==="detection_list"){if(ge){for(var ct=ge.getRectList(),Qt=ge.getLandmarksList(),Rt=ge.getClassificationsList(),ze=[],ft=0;ft<ct.size();++ft){var Fn=Ph(ct.get(ft)),Wh=mn(Fn,1),Uh=mn(Fn,2),Hh=mn(Fn,3),$h=mn(Fn,4),Vh=mn(Fn,5,0),oo=void 0;oo=oo===void 0?0:oo,Fn={la:{ra:Wh,sa:Uh,height:Hh,width:$h,rotation:Vh,pa:qi(en(Fn,6),oo)},ea:Zi(Ea(Qt.get(ft)),Cr,1).map(Pa),ba:Ma(Sa(Rt.get(ft)))},ze.push(Fn)}ct=ze}else ct=[];c[oe]=ct,Be.h=7;break}if(ke.type==="proto_list"){if(ge){for(ct=Array(ge.size()),Qt=0;Qt<ge.size();Qt++)ct[Qt]=ge.get(Qt);ge.delete()}else ct=[];c[oe]=ct,Be.h=7;break}if(ge===void 0){Be.h=3;break}if(ke.type==="float_list"){c[oe]=ge,Be.h=7;break}if(ke.type==="proto"){c[oe]=ge,Be.h=7;break}if(ke.type!=="texture")throw Error("Unknown output config type: '"+ke.type+"'");return se=i.v[oe],se||(se=new Il(i.i,i.K),i.v[oe]=se),z(Be,_a(se,ge,i.M),13);case 13:Ee=Be.i,c[oe]=Ee;case 7:ke.transform&&c[oe]&&(c[oe]=ke.transform(c[oe])),Be.h=3;break;case 14:_e[We]=Be.i;case 3:y=K.next(),Be.h=2;break;case 4:return Be.return(c)}})}function Bh(i,s,u){var c;return R(function(v){return typeof u=="number"||u instanceof Uint8Array||u instanceof i.i.Uint8BlobList?v.return(u):u instanceof i.i.Texture2dDataOut?(c=i.v[s],c||(c=new Il(i.i,i.K),i.v[s]=c),v.return(_a(c,u,i.M))):v.return(void 0)})}function Fh(i,s){for(var u=s.name||"$",c=[].concat(d(s.wants)),v=new i.i.StringList,g=f(s.wants),y=g.next();!y.done;y=g.next())v.push_back(y.value);g=i.i.PacketListener.implement({onResults:function(N){for(var D={},K=0;K<s.wants.length;++K)D[c[K]]=N.get(K);var oe=i.listeners[u];oe&&(i.I=Dh(i,D,s.outs).then(function(ke){ke=oe(ke);for(var ge=0;ge<s.wants.length;++ge){var se=D[c[ge]];typeof se=="object"&&se.hasOwnProperty&&se.hasOwnProperty("delete")&&se.delete()}ke&&(i.I=ke)}))}}),i.j.attachMultiListener(v,g),v.delete()}e.onResults=function(i,s){this.listeners[s||"$"]=i},Se("Solution",Ol),Se("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ta(i){return i===void 0&&(i=0),i===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Aa(i){var s=this;i=i||{},this.h=new Ol({locateFile:i.locateFile,files:function(u){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Ta(u.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Na},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Na},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(u){return u.map(function(c){return Ma(Sa(c))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(u){var c,v,g;return R(function(y){return y.h==1?(c=Ta(u),v="third_party/mediapipe/modules/hand_landmark/"+c,z(y,io(s.h,c),2)):(g=y.i,s.h.overrideFile(v,g),y.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}e=Aa.prototype,e.close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(i){this.h.onResults(i)},e.initialize=function(){var i=this;return R(function(s){return z(s,i.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(i){var s=this;return R(function(u){return z(u,s.h.send(i),0)})},e.setOptions=function(i){this.h.setOptions(i)},Se("Hands",Aa),Se("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),Se("VERSION","0.4.1675469240")}).call(Br);var On={};(function(){function e(k){var R=0;return function(){return R<k.length?{done:!1,value:k[R++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,R,Z){return k==Array.prototype||k==Object.prototype||(k[R]=Z.value),k};function n(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof Br=="object"&&Br];for(var R=0;R<k.length;++R){var Z=k[R];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var r=n(this);function o(k,R){if(R)e:{var Z=r;k=k.split(".");for(var te=0;te<k.length-1;te++){var de=k[te];if(!(de in Z))break e;Z=Z[de]}k=k[k.length-1],te=Z[k],R=R(te),R!=te&&R!=null&&t(Z,k,{configurable:!0,writable:!0,value:R})}}o("Symbol",function(k){function R(Se){if(this instanceof R)throw new TypeError("Symbol is not a constructor");return new Z(te+(Se||"")+"_"+de++,Se)}function Z(Se,Y){this.g=Se,t(this,"description",{configurable:!0,writable:!0,value:Y})}if(k)return k;Z.prototype.toString=function(){return this.g};var te="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",de=0;return R}),o("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var R="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),Z=0;Z<R.length;Z++){var te=r[R[Z]];typeof te=="function"&&typeof te.prototype[k]!="function"&&t(te.prototype,k,{configurable:!0,writable:!0,value:function(){return l(e(this))}})}return k});function l(k){return k={next:k},k[Symbol.iterator]=function(){return this},k}function a(k){var R=typeof Symbol<"u"&&Symbol.iterator&&k[Symbol.iterator];return R?R.call(k):{next:e(k)}}function f(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function d(k){if(k.i)throw new TypeError("Generator is already running");k.i=!0}f.prototype.l=function(k){this.o=k};function x(k,R){k.h={F:R,G:!0},k.j=k.m}f.prototype.return=function(k){this.h={return:k},this.j=this.m};function O(k){this.g=new f,this.h=k}function I(k,R){d(k.g);var Z=k.g.g;return Z?T(k,"return"in Z?Z.return:function(te){return{value:te,done:!0}},R,k.g.return):(k.g.return(R),G(k))}function T(k,R,Z,te){try{var de=R.call(k.g.g,Z);if(!(de instanceof Object))throw new TypeError("Iterator result "+de+" is not an object");if(!de.done)return k.g.i=!1,de;var Se=de.value}catch(Y){return k.g.g=null,x(k.g,Y),G(k)}return k.g.g=null,te.call(k.g,Se),G(k)}function G(k){for(;k.g.j;)try{var R=k.h(k.g);if(R)return k.g.i=!1,{value:R.value,done:!1}}catch(Z){k.g.o=void 0,x(k.g,Z)}if(k.g.i=!1,k.g.h){if(R=k.g.h,k.g.h=null,R.G)throw R.F;return{value:R.return,done:!0}}return{value:void 0,done:!0}}function B(k){this.next=function(R){return d(k.g),k.g.g?R=T(k,k.g.g.next,R,k.g.l):(k.g.l(R),R=G(k)),R},this.throw=function(R){return d(k.g),k.g.g?R=T(k,k.g.g.throw,R,k.g.l):(x(k.g,R),R=G(k)),R},this.return=function(R){return I(k,R)},this[Symbol.iterator]=function(){return this}}function ee(k){function R(te){return k.next(te)}function Z(te){return k.throw(te)}return new Promise(function(te,de){function Se(Y){Y.done?te(Y.value):Promise.resolve(Y.value).then(R,Z).then(Se,de)}Se(k.next())})}o("Promise",function(k){function R(Y){this.h=0,this.i=void 0,this.g=[],this.o=!1;var le=this.j();try{Y(le.resolve,le.reject)}catch(H){le.reject(H)}}function Z(){this.g=null}function te(Y){return Y instanceof R?Y:new R(function(le){le(Y)})}if(k)return k;Z.prototype.h=function(Y){if(this.g==null){this.g=[];var le=this;this.i(function(){le.l()})}this.g.push(Y)};var de=r.setTimeout;Z.prototype.i=function(Y){de(Y,0)},Z.prototype.l=function(){for(;this.g&&this.g.length;){var Y=this.g;this.g=[];for(var le=0;le<Y.length;++le){var H=Y[le];Y[le]=null;try{H()}catch($){this.j($)}}}this.g=null},Z.prototype.j=function(Y){this.i(function(){throw Y})},R.prototype.j=function(){function Y($){return function(re){H||(H=!0,$.call(le,re))}}var le=this,H=!1;return{resolve:Y(this.A),reject:Y(this.l)}},R.prototype.A=function(Y){if(Y===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Y instanceof R)this.C(Y);else{e:switch(typeof Y){case"object":var le=Y!=null;break e;case"function":le=!0;break e;default:le=!1}le?this.v(Y):this.m(Y)}},R.prototype.v=function(Y){var le=void 0;try{le=Y.then}catch(H){this.l(H);return}typeof le=="function"?this.D(le,Y):this.m(Y)},R.prototype.l=function(Y){this.u(2,Y)},R.prototype.m=function(Y){this.u(1,Y)},R.prototype.u=function(Y,le){if(this.h!=0)throw Error("Cannot settle("+Y+", "+le+"): Promise already settled in state"+this.h);this.h=Y,this.i=le,this.h===2&&this.B(),this.H()},R.prototype.B=function(){var Y=this;de(function(){if(Y.I()){var le=r.console;typeof le<"u"&&le.error(Y.i)}},1)},R.prototype.I=function(){if(this.o)return!1;var Y=r.CustomEvent,le=r.Event,H=r.dispatchEvent;return typeof H>"u"?!0:(typeof Y=="function"?Y=new Y("unhandledrejection",{cancelable:!0}):typeof le=="function"?Y=new le("unhandledrejection",{cancelable:!0}):(Y=r.document.createEvent("CustomEvent"),Y.initCustomEvent("unhandledrejection",!1,!0,Y)),Y.promise=this,Y.reason=this.i,H(Y))},R.prototype.H=function(){if(this.g!=null){for(var Y=0;Y<this.g.length;++Y)Se.h(this.g[Y]);this.g=null}};var Se=new Z;return R.prototype.C=function(Y){var le=this.j();Y.s(le.resolve,le.reject)},R.prototype.D=function(Y,le){var H=this.j();try{Y.call(le,H.resolve,H.reject)}catch($){H.reject($)}},R.prototype.then=function(Y,le){function H(ye,Ce){return typeof ye=="function"?function(Ae){try{$(ye(Ae))}catch(J){re(J)}}:Ce}var $,re,ve=new R(function(ye,Ce){$=ye,re=Ce});return this.s(H(Y,$),H(le,re)),ve},R.prototype.catch=function(Y){return this.then(void 0,Y)},R.prototype.s=function(Y,le){function H(){switch($.h){case 1:Y($.i);break;case 2:le($.i);break;default:throw Error("Unexpected state: "+$.h)}}var $=this;this.g==null?Se.h(H):this.g.push(H),this.o=!0},R.resolve=te,R.reject=function(Y){return new R(function(le,H){H(Y)})},R.race=function(Y){return new R(function(le,H){for(var $=a(Y),re=$.next();!re.done;re=$.next())te(re.value).s(le,H)})},R.all=function(Y){var le=a(Y),H=le.next();return H.done?te([]):new R(function($,re){function ve(Ae){return function(J){ye[Ae]=J,Ce--,Ce==0&&$(ye)}}var ye=[],Ce=0;do ye.push(void 0),Ce++,te(H.value).s(ve(ye.length-1),re),H=le.next();while(!H.done)})},R});var ae=typeof Object.assign=="function"?Object.assign:function(k,R){for(var Z=1;Z<arguments.length;Z++){var te=arguments[Z];if(te)for(var de in te)Object.prototype.hasOwnProperty.call(te,de)&&(k[de]=te[de])}return k};o("Object.assign",function(k){return k||ae});var M=this||self,w={facingMode:"user",width:640,height:480};function j(k,R){this.video=k,this.i=0,this.h=Object.assign(Object.assign({},w),R)}j.prototype.stop=function(){var k=this,R,Z,te,de;return ee(new B(new O(function(Se){if(k.g){for(R=k.g.getTracks(),Z=a(R),te=Z.next();!te.done;te=Z.next())de=te.value,de.stop();k.g=void 0}Se.j=0})))},j.prototype.start=function(){var k=this,R;return ee(new B(new O(function(Z){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),R=k.h,Z.return(navigator.mediaDevices.getUserMedia({video:{facingMode:R.facingMode,width:R.width,height:R.height}}).then(function(te){b(k,te)}).catch(function(te){var de="Failed to acquire camera feed: "+te;throw console.error(de),alert(de),te}))})))};function z(k){window.requestAnimationFrame(function(){ne(k)})}function b(k,R){k.g=R,k.video.srcObject=R,k.video.onloadedmetadata=function(){k.video.play(),z(k)}}function ne(k){var R=null;k.video.paused||k.video.currentTime===k.i||(k.i=k.video.currentTime,R=k.h.onFrame()),R?R.then(function(){z(k)}):z(k)}var X=["Camera"],U=M;X[0]in U||typeof U.execScript>"u"||U.execScript("var "+X[0]);for(var pe;X.length&&(pe=X.shift());)X.length||j===void 0?U[pe]&&U[pe]!==Object.prototype[pe]?U=U[pe]:U=U[pe]={}:U[pe]=j}).call(Br);const Ge=(...e)=>{console.log("[Detector]",...e)},yn={red:{lower1:[0,120,70],upper1:[10,255,255],lower2:[170,120,70],upper2:[180,255,255]},blue:{lower:[100,150,70],upper:[130,255,255]}},xt={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Qc(){const e=L.useRef(null),t=L.useRef(null),n=L.useRef(null),r=L.useRef(null),[o,l]=L.useState(!1),[a,f]=L.useState("None"),[d,x]=L.useState([]),[O,I]=L.useState(null),[T,G]=L.useState(null),[B,ee]=L.useState(null),[ae,M]=L.useState({a:null,b:null}),w=L.useRef(null),j=L.useRef(null),z=(h,m)=>{const C=localStorage.getItem(h);if(C===null)return m;const p=parseFloat(C);return Number.isFinite(p)?p:m},[b,ne]=L.useState(()=>({roiSize:(()=>{const h=z(xt.roiSize,44);return h>10?h:44})(),hueWeight:z(xt.hueWeight,4),satWeight:z(xt.satWeight,2),valWeight:z(xt.valWeight,1),sensitivity:z(xt.sensitivity,0)})),X=L.useRef(b),U=L.useRef(null),pe=L.useRef(!1),k=L.useRef(0),R=L.useRef(null),Z=L.useCallback(h=>{Ge("Removing video event listeners (if any were attached).")},[Ge]),te=L.useCallback(async()=>{const h=e.current;if(!h)return;U.current&&(Ge("Stopping existing stream before requesting new one."),U.current.getTracks().forEach(C=>C.stop()),U.current=null),Ae();const m=++k.current;R.current=null,Ge("Requesting getUserMedia...");try{const C=await navigator.mediaDevices.getUserMedia({video:!0});if(!pe.current||m!==k.current){Ge("Stale camera request (unmounted or superseded). Stopping stream."),C.getTracks().forEach(p=>p.stop());return}if(U.current=C,Ge("getUserMedia success. Tracks:",C.getVideoTracks()),h.srcObject=C,await new Promise(p=>{if(h.readyState>=1&&h.videoWidth>0&&h.videoHeight>0)return p();const P=()=>{h.removeEventListener("loadedmetadata",P),p()};h.addEventListener("loadedmetadata",P,{once:!0}),setTimeout(()=>{h.removeEventListener("loadedmetadata",P),p()},1500)}),!pe.current||m!==k.current){Ge("Stale request before play(). Stopping stream."),C.getTracks().forEach(p=>p.stop());return}try{await h.play(),Ge("video.play() promise resolved. Video should be playing.")}catch(p){if(console.error("[Detector] video.play() promise rejected:",p),Ge("video.play() promise rejected:",p.name,p.message),m!==k.current){Ge("play() aborted due to newer request."),C.getTracks().forEach(E=>E.stop());return}}R.current!==m&&(R.current=m,Ge("Initializing MediaPipe for request id",m),H())}catch(C){console.error("[Detector] Error accessing camera:",C),Ge("getUserMedia error:",C.name,C.message)}},[Ge,Z]),de=(h,m,C)=>{const p=(h||0)*2,E=(m||0)/255,P=(C||0)/255,A=P*E,_=A*(1-Math.abs(p/60%2-1)),F=P-A;let W=0,Q=0,V=0;p>=0&&p<60?(W=A,Q=_,V=0):p<120?(W=_,Q=A,V=0):p<180?(W=0,Q=A,V=_):p<240?(W=0,Q=_,V=A):p<300?(W=_,Q=0,V=A):(W=A,Q=0,V=_);const ue=Math.round((W+F)*255),me=Math.round((Q+F)*255),ce=Math.round((V+F)*255);return`rgb(${ue}, ${me}, ${ce})`},Se=h=>h?de(h.h,h.s,h.v):"#ffffff",Y=h=>h==="Player A"&&T?Se(T):h==="Player B"&&B?Se(B):h==="Red"?"#ff0000":h==="Blue"?"#0000ff":"#ffffff";L.useEffect(()=>{pe.current=!0,Ge("Mounting detector. UA:",navigator.userAgent,"Platform:",navigator.platform,"Visibility:",document.visibilityState),te();const h=()=>{try{const C=JSON.parse(localStorage.getItem("calibrationA")||"null"),p=JSON.parse(localStorage.getItem("calibrationB")||"null");C&&G({h:C.h,s:C.s,v:C.v}),p&&ee({h:p.h,s:p.s,v:p.v})}catch{Ge("No existing calibrations")}};h();const m=C=>{!C||!C.key||(["calibrationA","calibrationB"].includes(C.key)&&h(),[xt.roiSize,xt.hueWeight,xt.satWeight,xt.valWeight,xt.sensitivity].includes(C.key)&&ne(p=>({roiSize:(()=>{const E=z(xt.roiSize,(p==null?void 0:p.roiSize)??44);return E>10?E:(p==null?void 0:p.roiSize)??44})(),hueWeight:z(xt.hueWeight,(p==null?void 0:p.hueWeight)??4),satWeight:z(xt.satWeight,(p==null?void 0:p.satWeight)??2),valWeight:z(xt.valWeight,(p==null?void 0:p.valWeight)??1),sensitivity:z(xt.sensitivity,(p==null?void 0:p.sensitivity)??0)})))};return window.addEventListener("storage",m),()=>{pe.current=!1,Ge("Cleanup: Component unmounting."),k.current+=1,R.current=null,r.current&&(Ge("Cleanup: Stopping MediaPipe camera."),r.current.stop(),r.current=null),U.current&&(Ge("Cleanup: Stopping camera stream."),U.current.getTracks().forEach(p=>p.stop()),U.current=null);const C=e.current;C&&(C.srcObject=null,Z(C)),n.current&&(Ge("Cleanup: Closing MediaPipe hands."),n.current.close(),n.current=null),window.removeEventListener("storage",m)}},[te,Z,Ge]),L.useEffect(()=>{w.current=T},[T]),L.useEffect(()=>{j.current=B},[B]),L.useEffect(()=>{X.current=b},[b]),L.useEffect(()=>{const h=setInterval(()=>{f(m=>(le(m),m))},1e3);return()=>clearInterval(h)},[]);const le=h=>{const C={timestamp:new Date().toISOString(),status:h};x(E=>[...E,C]);const p=JSON.parse(localStorage.getItem("braceletDetections")||"[]");p.push(C),localStorage.setItem("braceletDetections",JSON.stringify(p))},H=async()=>{try{const h=await(async()=>{try{if(typeof In.Hands=="function")return In.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((C,p)=>{const E="mp-hands-cdn-script";if(document.getElementById(E))return C();const P=document.createElement("script");P.id=E,P.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",P.async=!0,P.onload=()=>C(),P.onerror=A=>p(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(P)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),m=new h({locateFile:C=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${C}`});if(m.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),m.onResults($),n.current=m,e.current){const C=await(async()=>{try{if(typeof On.Camera=="function")return On.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((E,P)=>{const A="mp-camera-utils-cdn-script";if(document.getElementById(A))return E();const _=document.createElement("script");_.id=A,_.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",_.async=!0,_.onload=()=>E(),_.onerror=F=>P(new Error("Failed to load MediaPipe Camera from CDN")),document.head.appendChild(_)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available after CDN load")})(),p=new C(e.current,{onFrame:async()=>{await m.send({image:e.current})},width:640,height:480});p.start(),r.current=p}}catch(h){console.error("MediaPipe initialization error:",h),I(`MediaPipe error: ${h.message}`)}},$=h=>{var A;const m=t.current,C=e.current;if(!m||!C)return;const p=m.getContext("2d");m.width=C.videoWidth,m.height=C.videoHeight,p.save(),p.scale(-1,1),p.drawImage(C,-m.width,0,m.width,m.height),p.restore();let E="None";if(h.multiHandLandmarks&&h.multiHandLandmarks.length>0){Ge("onResults: hands=",h.multiHandLandmarks.length);let _=null,F=1;if(h.multiHandLandmarks.forEach(W=>{const Q=W[0];Q.y<F&&(F=Q.y,_=W)}),h.multiHandLandmarks.forEach(W=>{re(p,W,m.width,m.height)}),_){const W=_[0],Q=(1-W.x)*m.width,V=W.y*m.height;p.fillStyle="lime",p.beginPath(),p.arc(Q,V,10,0,2*Math.PI),p.fill(),p.fillStyle="lime",p.font="16px Arial",p.fillText("SELECTED",Q-40,V-15);const me=Math.max(10,Math.min(300,Math.floor(((A=X.current)==null?void 0:A.roiSize)||60)))/2,ce=Math.max(0,Q-me),he=Math.max(0,V-me),Me=Math.min(m.width,Q+me),xe=Math.min(m.height,V+me);p.strokeStyle="lime",p.lineWidth=3,p.strokeRect(ce,he,Me-ce,xe-he);const we=p.getImageData(ce,he,Me-ce,xe-he),Te=w.current,Pe=j.current,je=ye(we,Te,Pe);E=je.status,M({a:je.percentA,b:je.percentB}),Ge("Detection result:",E,{roi:{x1:ce,y1:he,w:Me-ce,h:xe-he}})}}let P="#ffffff";E==="Player A"&&w.current?P=Se(w.current):E==="Player B"&&j.current&&(P=Se(j.current)),p.fillStyle=P,p.font="bold 32px Arial",p.fillText(`Status: ${E}`,10,40),f(E)},re=(h,m,C,p)=>{h.strokeStyle="white",h.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([P,A])=>{const _=m[P],F=m[A];h.beginPath(),h.moveTo((1-_.x)*C,_.y*p),h.lineTo((1-F.x)*C,F.y*p),h.stroke()}),m.forEach(P=>{h.fillStyle="red",h.beginPath(),h.arc((1-P.x)*C,P.y*p,5,0,2*Math.PI),h.fill()})},ve=h=>{const m=h.data;let C=0,p=0;for(let E=0;E<m.length;E+=4){const P=m[E],A=m[E+1],_=m[E+2],F=Ce(P,A,_);(F[0]>=yn.red.lower1[0]&&F[0]<=yn.red.upper1[0]||F[0]>=yn.red.lower2[0]&&F[0]<=yn.red.upper2[0])&&F[1]>=yn.red.lower1[1]&&F[2]>=yn.red.lower1[2]&&C++,F[0]>=yn.blue.lower[0]&&F[0]<=yn.blue.upper[0]&&F[1]>=yn.blue.lower[1]&&F[2]>=yn.blue.lower[2]&&p++}return{redCount:C,blueCount:p}},ye=(h,m,C)=>{var me,ce,he,Me;const p=h.data;if(m&&!C)return{status:"Player A",percentA:null,percentB:null};if(C&&!m)return{status:"Player B",percentA:null,percentB:null};const E=((me=X.current)==null?void 0:me.hueWeight)??4,P=((ce=X.current)==null?void 0:ce.satWeight)??2,A=((he=X.current)==null?void 0:he.valWeight)??1,_=((Me=X.current)==null?void 0:Me.sensitivity)??0;if(m&&C){let xe=0,we=0,Te=0;for(let Ie=0;Ie<p.length;Ie+=4){const be=p[Ie],Ze=p[Ie+1],Ne=p[Ie+2],[$e,ot,ut]=Ce(be,Ze,Ne),mt=Math.min(1,Math.max(0,ot/255)),Ht=Math.min(1,Math.max(0,ut/255)),at=Math.max(.05,.5*mt+.5*Ht),$t=Math.min(Math.abs($e-m.h),180-Math.abs($e-m.h)),Cn=Math.min(Math.abs($e-C.h),180-Math.abs($e-C.h)),fn=Math.abs(ot-m.s),qt=Math.abs(ot-C.s),Nt=Math.abs(ut-m.v),St=Math.abs(ut-C.v),Vt=$t*E+fn*P+Nt*A,Gt=Cn*E+qt*P+St*A;Math.min(Vt,Gt)>180||(Vt<=Gt?xe+=at:we+=at,Te+=at)}if(Te===0)return{status:"None",percentA:0,percentB:0};const Pe=xe/Math.max(1e-6,Te),je=we/Math.max(1e-6,Te),De=.12*(1+.8*Math.max(0,Math.min(1,_)));return Pe>=De&&Pe>=je?{status:"Player A",percentA:Pe,percentB:je}:je>=De&&je>Pe?{status:"Player B",percentA:Pe,percentB:je}:{status:"None",percentA:Pe,percentB:je}}const{redCount:F,blueCount:W}=ve(h),Q=F+W;if(Q===0)return{status:"None",percentA:0,percentB:0};const V=F/Q,ue=W/Q;return V>=.15&&V>=ue?{status:"Player A",percentA:V,percentB:ue}:ue>=.15&&ue>V?{status:"Player B",percentA:V,percentB:ue}:{status:"None",percentA:V,percentB:ue}},Ce=(h,m,C)=>{h/=255,m/=255,C/=255;const p=Math.max(h,m,C),E=Math.min(h,m,C),P=p-E;let A=0;P!==0&&(p===h?A=60*((m-C)/P%6):p===m?A=60*((C-h)/P+2):A=60*((h-m)/P+4)),A<0&&(A+=360);const _=p===0?0:P/p*255,F=p*255;return[A/2,_,F]},Ae=h=>{Ge("Adding video event listeners (if needed in the future).")},J=()=>{const h=JSON.parse(localStorage.getItem("braceletDetections")||"[]"),m=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),C=URL.createObjectURL(m),p=document.createElement("a");p.href=C,p.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.json`,p.click();const E=h.map(F=>`${F.timestamp}: ${F.status}`).join(`
`),P=new Blob([E],{type:"text/plain"}),A=URL.createObjectURL(P),_=document.createElement("a");_.href=A,_.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.txt`,_.click()},ie=()=>{localStorage.removeItem("braceletDetections"),x([])};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[S.jsxs("div",{className:"detector-header",children:[S.jsx("span",{children:"Bracelet Detector"}),S.jsxs("div",{className:"detector-controls",children:[S.jsx("button",{onClick:J,title:"Download Logs",children:""}),S.jsx("button",{onClick:ie,title:"Clear Logs",children:""}),S.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),S.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[S.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),S.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),S.jsxs("div",{className:"detector-info",children:[S.jsxs("div",{className:"status-display",children:["Status: ",S.jsx("span",{style:{color:Y(a),fontWeight:700},children:a})]}),S.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),S.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:T?Se(T):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"A confidence",children:ae.a==null?"":`${Math.round(Math.max(0,Math.min(1,ae.a))*100)}%`})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),S.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?Se(B):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"B confidence",children:ae.b==null?"":`${Math.round(Math.max(0,Math.min(1,ae.b))*100)}%`})]})]}),S.jsxs("div",{className:"log-count",children:["Logs: ",d?d.length:0]}),S.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[S.jsxs("div",{children:["A: ",T?`h${Math.round(T.h)} s${Math.round(T.s)} v${Math.round(T.v)}`:""]}),S.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})})}const as=(...e)=>{console.log("[Calibrate]",...e)},gn={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"},Mv=(e,t,n)=>{const r=(e||0)*2,o=(t||0)/255,l=(n||0)/255,a=l*o,f=a*(1-Math.abs(r/60%2-1)),d=l-a;let x=0,O=0,I=0;r>=0&&r<60?(x=a,O=f,I=0):r<120?(x=f,O=a,I=0):r<180?(x=0,O=a,I=f):r<240?(x=0,O=f,I=a):r<300?(x=f,O=0,I=a):(x=a,O=0,I=f);const T=Math.round((x+d)*255),G=Math.round((O+d)*255),B=Math.round((I+d)*255);return`rgb(${T}, ${G}, ${B})`},Xc=e=>e?Mv(e.h,e.s,e.v):"#444";function Pv(){const e=L.useRef(null),t=L.useRef(null),n=L.useRef(null),r=L.useRef(!1),o=L.useRef(0),[l,a]=L.useState(!1),[f,d]=L.useState(""),[x,O]=L.useState(null),[I,T]=L.useState(null),G=(h,m)=>{const C=localStorage.getItem(h);if(C===null)return m;const p=parseFloat(C);return Number.isFinite(p)?p:m},[B,ee]=L.useState(()=>{const h=G(gn.roiSize,44);return h>10?h:44}),[ae,M]=L.useState(()=>G(gn.hueWeight,4)),[w,j]=L.useState(()=>G(gn.satWeight,2)),[z,b]=L.useState(()=>G(gn.valWeight,1)),[ne,X]=L.useState(()=>G(gn.sensitivity,0)),[U,pe]=L.useState(!1),[k,R]=L.useState("idle"),[Z,te]=L.useState(5),de=L.useRef({A:[],B:[]});L.useEffect(()=>{r.current=!0;try{const h=JSON.parse(localStorage.getItem("calibrationA")||"null"),m=JSON.parse(localStorage.getItem("calibrationB")||"null");h&&O(h),m&&T(m)}catch{}return(async()=>await Se())(),()=>{r.current=!1,o.current+=1,n.current&&(n.current.getTracks().forEach(m=>m.stop()),n.current=null);const h=e.current;h&&(h.srcObject=null)}},[]),L.useEffect(()=>{localStorage.setItem(gn.roiSize,String(B))},[B]),L.useEffect(()=>{localStorage.setItem(gn.hueWeight,String(ae))},[ae]),L.useEffect(()=>{localStorage.setItem(gn.satWeight,String(w))},[w]),L.useEffect(()=>{localStorage.setItem(gn.valWeight,String(z))},[z]),L.useEffect(()=>{localStorage.setItem(gn.sensitivity,String(ne))},[ne]);const Se=L.useCallback(async()=>{const h=e.current;if(!h)return;n.current&&(n.current.getTracks().forEach(C=>C.stop()),n.current=null);const m=++o.current;a(!1),d("Requesting camera...");try{const C=await navigator.mediaDevices.getUserMedia({video:!0});if(!r.current||m!==o.current){C.getTracks().forEach(p=>p.stop());return}if(n.current=C,h.srcObject=C,await new Promise(p=>{if(h.readyState>=1&&h.videoWidth>0)return p();const P=()=>{h.removeEventListener("loadedmetadata",P),p()};h.addEventListener("loadedmetadata",P,{once:!0}),setTimeout(()=>{h.removeEventListener("loadedmetadata",P),p()},1500)}),!r.current||m!==o.current){C.getTracks().forEach(p=>p.stop());return}try{await h.play(),as("video.play resolved")}catch(p){as("video.play rejected",p)}a(!0),d("")}catch(C){d(`Camera error: ${(C==null?void 0:C.message)||C}`),as("getUserMedia error",C)}},[]),Y=(h,m,C)=>{h/=255,m/=255,C/=255;const p=Math.max(h,m,C),E=Math.min(h,m,C),P=p-E;let A=0;P!==0&&(p===h?A=60*((m-C)/P%6):p===m?A=60*((C-h)/P+2):A=60*((h-m)/P+4)),A<0&&(A+=360);const _=p===0?0:P/p*255,F=p*255;return[A/2,_,F]},le=()=>{const h=e.current,m=t.current;if(!h||!m||h.videoWidth===0)return null;const C=h.videoWidth,p=h.videoHeight;m.width=C,m.height=p;const E=m.getContext("2d");E.drawImage(h,0,0,C,p);const P=Math.max(10,Math.min(300,Math.floor(B))),A=Math.floor(C/2-P/2),_=Math.floor(p/2-P/2),W=E.getImageData(A,_,P,P).data;let Q=0,V=0,ue=0,me=0,ce=0;for(let De=0;De<W.length;De+=4){const[Ie,be,Ze]=Y(W[De],W[De+1],W[De+2]),Ne=Ie*2*(Math.PI/180);Q+=Math.cos(Ne),V+=Math.sin(Ne),ue+=be,me+=Ze,ce++}if(ce===0)return null;const he=ue/ce,Me=me/ce,xe=Q/ce,we=V/ce;let Pe=Math.atan2(we,xe)*(180/Math.PI);return Pe<0&&(Pe+=360),{h:Pe/2,s:he,v:Me}},H=h=>{const m=le();if(!m){d("Could not sample video frame.");return}h==="A"?(localStorage.setItem("calibrationA",JSON.stringify(m)),O(m),d(`Saved Player A: h${m.h.toFixed(0)}`)):(localStorage.setItem("calibrationB",JSON.stringify(m)),T(m),d(`Saved Player B: h${m.h.toFixed(0)}`))},$=h=>{h==="A"?(localStorage.removeItem("calibrationA"),O(null)):(localStorage.removeItem("calibrationB"),T(null)),d("Cleared")},re=()=>{pe(!0),R("playerA"),te(5),de.current={A:[],B:[]},d("Hold Player A bracelet in center square...")};L.useEffect(()=>{if(!(!U||k==="idle"||k==="optimizing"||k==="complete"))if(Z>0){const h=setTimeout(()=>{te(Z-1)},1e3);return()=>clearTimeout(h)}else k==="playerA"?(R("switching"),te(3),d("Switch to Player B... Get ready!")):k==="switching"?(R("playerB"),te(5),d("Hold Player B bracelet in center square...")):k==="playerB"&&(R("optimizing"),ve())},[U,k,Z]),L.useEffect(()=>{if(!U||k==="idle"||k==="switching"||k==="optimizing"||k==="complete")return;const h=setInterval(()=>{const m=le();m&&(k==="playerA"?de.current.A.push(m):k==="playerB"&&de.current.B.push(m))},200);return()=>clearInterval(h)},[U,k]);const ve=()=>{d("Optimizing parameters...");const h=de.current.A,m=de.current.B;if(h.length===0||m.length===0){d("Error: Not enough samples collected!"),pe(!1),R("idle");return}const C=ye(h),p=ye(m),E=Math.min(Math.abs(C.h-p.h),180-Math.abs(C.h-p.h)),P=Math.abs(C.s-p.s),A=Math.abs(C.v-p.v),_=E/90,F=P/255,W=A/255,Q=Ce(h),V=Ce(m),ue={h:(Q.h+V.h)/2,s:(Q.s+V.s)/2,v:(Q.v+V.v)/2},me=_+F+W,ce=me>0?_/me*(1/(1+ue.h/20))*6:2,he=me>0?F/me*(1/(1+ue.s/50))*4:1,Me=me>0?W/me*(1/(1+ue.v/50))*3:.5;M(Math.max(.5,Math.min(6,ce))),j(Math.max(.1,Math.min(4,he))),b(Math.max(.1,Math.min(3,Me)));const xe=Ae(h,m,C,p),we=Math.max(0,Math.min(.8,xe*.5));X(we),localStorage.setItem("calibrationA",JSON.stringify(C)),localStorage.setItem("calibrationB",JSON.stringify(p)),O(C),T(p),R("complete"),d(` Auto-calibration complete! Collected ${h.length+m.length} samples. Optimized parameters for best separation.`),setTimeout(()=>{pe(!1),R("idle")},3e3)},ye=h=>{const m=h.map(V=>V.h),C=h.map(V=>V.s).sort((V,ue)=>V-ue),p=h.map(V=>V.v).sort((V,ue)=>V-ue);let E=0,P=0;m.forEach(V=>{const ue=V*2*(Math.PI/180);E+=Math.cos(ue),P+=Math.sin(ue)});let _=Math.atan2(P/m.length,E/m.length)*(180/Math.PI);_<0&&(_+=360);const F=_/2,W=C[Math.floor(C.length/2)],Q=p[Math.floor(p.length/2)];return{h:F,s:W,v:Q}},Ce=h=>{const m=h.reduce((p,E)=>({h:p.h+E.h,s:p.s+E.s,v:p.v+E.v}),{h:0,s:0,v:0});m.h/=h.length,m.s/=h.length,m.v/=h.length;const C=h.reduce((p,E)=>({h:p.h+Math.pow(E.h-m.h,2),s:p.s+Math.pow(E.s-m.s,2),v:p.v+Math.pow(E.v-m.v,2)}),{h:0,s:0,v:0});return{h:C.h/h.length,s:C.s/h.length,v:C.v/h.length}},Ae=(h,m,C,p)=>{let E=0;const P=Math.min(h.length,m.length)*2;return h.forEach(A=>{const _=J(A,C);J(A,p)<_*1.5&&E++}),m.forEach(A=>{const _=J(A,C),F=J(A,p);_<F*1.5&&E++}),E/P},J=(h,m)=>{const C=Math.min(Math.abs(h.h-m.h),180-Math.abs(h.h-m.h)),p=Math.abs(h.s-m.s),E=Math.abs(h.v-m.v);return Math.sqrt(C*C+p*p+E*E)},ie=()=>{pe(!1),R("idle"),te(5),d("Generic mode cancelled")};return S.jsxs("div",{className:"calib-root",children:[S.jsxs("div",{className:"calib-header",children:[S.jsx("h2",{children:"Color Calibration"}),S.jsxs("div",{className:"calib-actions",children:[S.jsx("button",{onClick:()=>window.location.hash="",children:"Back"}),S.jsx("button",{onClick:Se,children:"Restart Camera"})]})]}),f&&S.jsx("div",{className:"calib-message",children:f}),S.jsxs("div",{className:"calib-content",children:[S.jsx("div",{children:S.jsxs("div",{className:"calib-block",style:{marginBottom:12},children:[S.jsx("div",{className:"label",children:"Live Preview"}),S.jsx("div",{className:"value",style:{marginBottom:8},children:U?`Generic Mode Active: ${k==="playerA"?"Player A":k==="switching"?"Switching...":k==="playerB"?"Player B":"Processing..."}`:"Place the bracelet color inside the center square to sample accurate HSV."}),S.jsxs("div",{className:"calib-video-wrap",children:[S.jsx("video",{ref:e,className:"calib-video",autoPlay:!0,playsInline:!0,muted:!0}),S.jsx("div",{className:"calib-center-box",style:{width:B,height:B,borderColor:"#22d3ee",borderWidth:U?"4px":"3px",boxShadow:U?"0 0 20px rgba(34, 211, 238, 0.6)":"0 0 0 2000px rgba(0,0,0,0.35)"}}),U&&Z>0&&S.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"72px",fontWeight:"bold",color:"#22d3ee",textShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.5)",pointerEvents:"none",zIndex:10},children:Z})]})]})}),S.jsxs("div",{className:"calib-controls",children:[S.jsxs("div",{className:"calib-block",style:{background:U?"#1a2332":"#0f172a",border:U?"2px solid #22d3ee":"1px solid #1f2937"},children:[S.jsx("div",{className:"label",children:" Generic Mode (Auto-Calibration)"}),S.jsx("div",{className:"value",style:{fontSize:13,marginBottom:8},children:"Automatically calibrate both players with optimized parameters. Hold each bracelet in the center square for 5 seconds."}),U?S.jsxs("div",{style:{marginTop:8},children:[S.jsxs("div",{style:{fontSize:16,fontWeight:"bold",color:"#22d3ee",marginBottom:8},children:[k==="playerA"&&`Player A: Hold bracelet steady... ${Z}s`,k==="switching"&&`Switch hands! Get Player B ready... ${Z}s`,k==="playerB"&&`Player B: Hold bracelet steady... ${Z}s`,k==="optimizing"&&"Optimizing parameters...",k==="complete"&&" Complete!"]}),S.jsxs("div",{style:{fontSize:12,opacity:.7,marginBottom:8},children:[k==="playerA"&&`Samples collected: ${de.current.A.length}`,k==="switching"&&`Player A: ${de.current.A.length} samples collected`,k==="playerB"&&`Samples collected: ${de.current.B.length}`]}),k!=="complete"&&S.jsx("button",{onClick:ie,style:{background:"#ef4444"},children:"Cancel"})]}):S.jsx("div",{className:"buttons",children:S.jsx("button",{onClick:re,disabled:!l,style:{background:"#22d3ee",color:"#000",fontWeight:"bold"},children:"Start Generic Mode"})})]}),S.jsxs("div",{className:"calib-block",children:[S.jsx("div",{className:"label",children:"Detector Settings"}),S.jsxs("div",{className:"value",style:{display:"grid",gap:8},children:[S.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[S.jsx("span",{children:"Detection square size"}),S.jsx("input",{type:"range",min:"20",max:"240",step:"2",value:B,onChange:h=>ee(Number(h.target.value))}),S.jsxs("span",{style:{textAlign:"right"},children:[B,"px"]})]}),S.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[S.jsx("span",{children:"Hue weight"}),S.jsx("input",{type:"range",min:"0",max:"6",step:"0.1",value:ae,onChange:h=>M(Number(h.target.value))}),S.jsx("span",{style:{textAlign:"right"},children:ae.toFixed(1)})]}),S.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[S.jsx("span",{children:"Saturation weight"}),S.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:w,onChange:h=>j(Number(h.target.value))}),S.jsx("span",{style:{textAlign:"right"},children:w.toFixed(1)})]}),S.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[S.jsx("span",{children:"Value weight"}),S.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:z,onChange:h=>b(Number(h.target.value))}),S.jsx("span",{style:{textAlign:"right"},children:z.toFixed(1)})]}),S.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[S.jsx("span",{children:"Sensitivity (lower = more sensitive)"}),S.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:ne,onChange:h=>X(Number(h.target.value))}),S.jsxs("span",{style:{textAlign:"right"},children:[(ne*100).toFixed(0),"%"]})]}),S.jsx("div",{style:{fontSize:12,opacity:.7},children:"These settings are saved to local storage and used by the detector (wrist ROI, A/B decision weights, and sensitivity gate)."})]})]}),S.jsxs("div",{className:"calib-block",children:[S.jsx("div",{className:"label",children:"Player A"}),S.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[S.jsx("span",{title:"Player A color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Xc(x)}}),S.jsx("span",{children:x?`h${x.h.toFixed(0)} s${x.s.toFixed(0)} v${x.v.toFixed(0)}`:""})]}),S.jsxs("div",{className:"buttons",children:[S.jsx("button",{onClick:()=>H("A"),disabled:!l,children:"Save A"}),S.jsx("button",{onClick:()=>$("A"),children:"Clear A"})]})]}),S.jsxs("div",{className:"calib-block",children:[S.jsx("div",{className:"label",children:"Player B"}),S.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[S.jsx("span",{title:"Player B color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Xc(I)}}),S.jsx("span",{children:I?`h${I.h.toFixed(0)} s${I.s.toFixed(0)} v${I.v.toFixed(0)}`:""})]}),S.jsxs("div",{className:"buttons",children:[S.jsx("button",{onClick:()=>H("B"),disabled:!l,children:"Save B"}),S.jsx("button",{onClick:()=>$("B"),children:"Clear B"})]})]})]})]}),S.jsx("canvas",{ref:t,className:"calib-offscreen"})]})}function Nv(){return S.jsxs("div",{style:{padding:12},children:[S.jsx("h2",{style:{margin:"8px 0 12px"},children:"Tests Sandbox"}),S.jsx("p",{style:{marginTop:0,opacity:.8},children:"This is an isolated copy of the Bracelet Detector for experimentation. Changes here won't affect the main detector."}),S.jsx(_v,{})]})}const pi={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function _v(){const e=L.useRef(null),t=L.useRef(null),n=L.useRef(null),r=L.useRef(null),[o,l]=L.useState(!1),[a,f]=L.useState("None"),[d,x]=L.useState([]),[O,I]=L.useState(null),[T,G]=L.useState(null),[B,ee]=L.useState(null),ae=L.useRef(null),M=L.useRef(null),w=(E,P)=>{const A=localStorage.getItem(E);if(A===null)return P;const _=parseFloat(A);return Number.isFinite(_)?_:P},[j,z]=L.useState(()=>({roiSize:(()=>{const E=w(pi.roiSize,44);return E>10?E:44})(),hueWeight:w(pi.hueWeight,4),satWeight:w(pi.satWeight,2),valWeight:w(pi.valWeight,1),sensitivity:w(pi.sensitivity,0)})),b=L.useRef(j);L.useRef(0);const ne=L.useRef({percentA:0,percentB:0,wshareA:null,wshareB:null,considered:0}),X=L.useRef(null),[U]=L.useState({bgDiffThreshold:30,minCompArea:25,maxCompArea:2500,globalRoi:{x:0,y:0,w:1,h:1},morphIterations:1}),pe=L.useRef(U),k=L.useRef(null),R=L.useRef(!1),Z=L.useRef(0),te=L.useRef(null),de=L.useCallback((...E)=>{console.log("[Detector-Test]",...E)},[]),Se=L.useCallback(()=>{},[]),Y=L.useCallback(async()=>{const E=e.current;if(!E)return;k.current&&(de("Stopping existing stream before requesting new one."),k.current.getTracks().forEach(A=>A.stop()),k.current=null);const P=++Z.current;te.current=null;try{const A=await navigator.mediaDevices.getUserMedia({video:!0});if(!R.current||P!==Z.current){A.getTracks().forEach(_=>_.stop());return}if(k.current=A,E.srcObject=A,await new Promise(_=>{if(E.readyState>=1&&E.videoWidth>0&&E.videoHeight>0)return _();const W=()=>{E.removeEventListener("loadedmetadata",W),_()};E.addEventListener("loadedmetadata",W,{once:!0}),setTimeout(()=>{E.removeEventListener("loadedmetadata",W),_()},1500)}),!R.current||P!==Z.current){A.getTracks().forEach(_=>_.stop());return}try{await E.play()}catch{}te.current!==P&&(te.current=P,re())}catch(A){console.error("[Detector-Test] Error accessing camera:",A),I(`MediaPipe error: ${A.message}`)}},[de,Se]),le=(E,P,A)=>{const _=(E||0)*2,F=(P||0)/255,W=(A||0)/255,Q=W*F,V=Q*(1-Math.abs(_/60%2-1)),ue=W-Q;let me=0,ce=0,he=0;_>=0&&_<60?(me=Q,ce=V,he=0):_<120?(me=V,ce=Q,he=0):_<180?(me=0,ce=Q,he=V):_<240?(me=0,ce=V,he=Q):_<300?(me=V,ce=0,he=Q):(me=Q,ce=0,he=V);const Me=Math.round((me+ue)*255),xe=Math.round((ce+ue)*255),we=Math.round((he+ue)*255);return`rgb(${Me}, ${xe}, ${we})`},H=E=>E?le(E.h,E.s,E.v):"#ffffff",$=E=>E==="Player A"&&T?H(T):E==="Player B"&&B?H(B):"#ffffff";L.useEffect(()=>(R.current=!0,(()=>{try{const P=JSON.parse(localStorage.getItem("calibrationA")||"null"),A=JSON.parse(localStorage.getItem("calibrationB")||"null");P&&G({h:P.h,s:P.s,v:P.v}),A&&ee({h:A.h,s:A.s,v:A.v})}catch{}})(),Y(),()=>{R.current=!1,Z.current+=1,r.current&&(r.current.stop(),r.current=null),k.current&&(k.current.getTracks().forEach(A=>A.stop()),k.current=null);const P=e.current;P&&(P.srcObject=null),n.current&&(n.current.close(),n.current=null)}),[Y]),L.useEffect(()=>{ae.current=T},[T]),L.useEffect(()=>{M.current=B},[B]),L.useEffect(()=>{b.current=j},[j]),L.useEffect(()=>{pe.current=U},[U]);const re=async()=>{try{const E=await(async()=>{try{if(typeof In.Hands=="function")return In.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((A,_)=>{const F="mp-hands-cdn-script-test";if(document.getElementById(F))return A();const W=document.createElement("script");W.id=F,W.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",W.async=!0,W.onload=()=>A(),W.onerror=()=>_(new Error("Failed to load MediaPipe Hands")),document.head.appendChild(W)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available")})(),P=new E({locateFile:A=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${A}`});if(P.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),P.onResults(ve),n.current=P,e.current){const A=await(async()=>{try{if(typeof On.Camera=="function")return On.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((F,W)=>{const Q="mp-camera-utils-cdn-script-test";if(document.getElementById(Q))return F();const V=document.createElement("script");V.id=Q,V.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",V.async=!0,V.onload=()=>F(),V.onerror=()=>W(new Error("Failed to load MediaPipe Camera")),document.head.appendChild(V)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available")})(),_=new A(e.current,{onFrame:async()=>{await P.send({image:e.current})},width:640,height:480});_.start(),r.current=_}}catch(E){console.error("[Detector-Test] MediaPipe initialization error:",E),I(`MediaPipe error: ${E.message}`)}},ve=E=>{var V;const P=t.current,A=e.current;if(!P||!A)return;const _=P.getContext("2d");P.width=A.videoWidth,P.height=A.videoHeight,_.save(),_.scale(-1,1),_.drawImage(A,-P.width,0,P.width,P.height),_.restore();const{globalRoi:F}=pe.current;if(F.w<.999||F.h<.999||F.x>0||F.y>0){_.save(),_.strokeStyle="rgba(255,165,0,0.6)",_.setLineDash([6,4]);const ue=F.x*P.width,me=F.y*P.height,ce=F.w*P.width,he=F.h*P.height;_.lineWidth=2,_.strokeRect(ue,me,ce,he),_.restore()}let W="None";if(E.multiHandLandmarks&&E.multiHandLandmarks.length>0){let ue=null,me=1;if(E.multiHandLandmarks.forEach(ce=>{const he=ce[0];he.y<me&&(me=he.y,ue=ce)}),E.multiHandLandmarks.forEach(ce=>{ye(_,ce,P.width,P.height)}),ue){const ce=ue[0],he=(1-ce.x)*P.width,Me=ce.y*P.height,{globalRoi:xe}=pe.current,we=xe.x*P.width,Te=xe.y*P.height,Pe=xe.w*P.width,je=xe.h*P.height;if(!(he>=we&&he<=we+Pe&&Me>=Te&&Me<=Te+je)){f("None"),_.fillStyle="orange",_.font="14px Arial",_.fillText("WRIST OUTSIDE ROI",10,68);return}_.fillStyle="orange",_.beginPath(),_.arc(he,Me,10,0,2*Math.PI),_.fill(),_.fillStyle="orange",_.font="16px Arial",_.fillText("SELECTED (TEST)",he-70,Me-15);const Ie=Math.max(10,Math.min(300,Math.floor(((V=b.current)==null?void 0:V.roiSize)||60)))/2,be=Math.max(0,he-Ie),Ze=Math.max(0,Me-Ie),Ne=Math.min(P.width,he+Ie),$e=Math.min(P.height,Me+Ie);_.strokeStyle="orange",_.lineWidth=3,_.strokeRect(be,Ze,Ne-be,$e-Ze);const ot=_.getImageData(be,Ze,Ne-be,$e-Ze),ut=ae.current,mt=M.current;W=ie(ot,ut,mt,be,Ze)}}let Q="#ffffff";W==="Player A"&&ae.current?Q=H(ae.current):W==="Player B"&&M.current&&(Q=H(M.current)),_.fillStyle=Q,_.font="bold 28px Arial",_.fillText(`Status (TEST): ${W}`,10,40),f(W)},ye=(E,P,A,_)=>{E.strokeStyle="white",E.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([W,Q])=>{const V=P[W],ue=P[Q];E.beginPath(),E.moveTo((1-V.x)*A,V.y*_),E.lineTo((1-ue.x)*A,ue.y*_),E.stroke()}),P.forEach(W=>{E.fillStyle="red",E.beginPath(),E.arc((1-W.x)*A,W.y*_,5,0,2*Math.PI),E.fill()})},Ce=(E,P,A)=>{const _=new Uint8Array(E.length);for(let F=1;F<A-1;F++)for(let W=1;W<P-1;W++){let Q=1;const V=F*P+W;if(!E[V]){_[V]=0;continue}for(let ue=-1;ue<=1&&Q;ue++)for(let me=-1;me<=1;me++)if(!E[(F+ue)*P+(W+me)]){Q=0;break}_[V]=Q}return _},Ae=(E,P,A)=>{const _=new Uint8Array(E.length);for(let F=1;F<A-1;F++)for(let W=1;W<P-1;W++){let Q=0;for(let V=-1;V<=1&&!Q;V++)for(let ue=-1;ue<=1;ue++)if(E[(F+V)*P+(W+ue)]){Q=1;break}_[F*P+W]=Q}return _},J=(E,P,A,_,F)=>{const W=new Uint8Array(E.length),Q=[];for(let V=0;V<E.length;V++){if(!E[V]||W[V])continue;let ue=0;Q.push(V),W[V]=1;const me=[];for(;Q.length;){const he=Q.pop();me.push(he),ue++;const Me=he%P,xe=(he-Me)/P;if(Me>0){const we=he-1;E[we]&&!W[we]&&(W[we]=1,Q.push(we))}if(Me<P-1){const we=he+1;E[we]&&!W[we]&&(W[we]=1,Q.push(we))}if(xe>0){const we=he-P;E[we]&&!W[we]&&(W[we]=1,Q.push(we))}if(xe<A-1){const we=he+P;E[we]&&!W[we]&&(W[we]=1,Q.push(we))}}if(!(ue>=_&&ue<=F))for(const he of me)E[he]=0}},ie=(E,P,A,_,F)=>{var Ze;const W=E.data;if(P&&!A)return"Player A";if(A&&!P)return"Player B";if(!P&&!A)return"None";(Ze=b.current)==null||Ze.hueWeight;const{bgDiffThreshold:Q,minCompArea:V,maxCompArea:ue,morphIterations:me}=pe.current,ce=X.current;let he=0,Me=0,xe=0;const we=E.width,Te=E.height,Pe=new Uint8Array(we*Te);let je=new Uint8Array(we*Te);for(let Ne=0;Ne<W.length;Ne+=4){const $e=W[Ne],ot=W[Ne+1],ut=W[Ne+2],[mt,Ht,at]=h($e,ot,ut);if(Ht<20||at<20)continue;if(ce){const Nt=Ne/4,St=Nt%we,Vt=(Nt-St)/we;if(St+_<ce.width&&Vt+F<ce.height){const Gt=((Vt+F)*ce.width+(St+_))*4,Bn=Math.abs($e-ce.data[Gt]),xr=Math.abs(ot-ce.data[Gt+1]),kl=Math.abs(ut-ce.data[Gt+2]);if(Bn+xr+kl<Q)continue}}const $t=Math.min(Math.abs(mt-P.h),180-Math.abs(mt-P.h)),Cn=Math.min(Math.abs(mt-A.h),180-Math.abs(mt-A.h)),fn=$t<10,qt=Cn<10;if(fn||qt){const Nt=Ne/4;je[Nt]=1,fn&&!qt?Pe[Nt]=1:qt&&!fn?Pe[Nt]=2:Pe[Nt]=$t<Cn?1:2}}for(let Ne=0;Ne<me;Ne++){const $e=Ce(je,we,Te);je=Ae($e,we,Te)}J(je,we,Te,V,ue);for(let Ne=0;Ne<je.length;Ne++)je[Ne]&&(Pe[Ne]===1?he++:Pe[Ne]===2&&Me++,xe++);if(xe<10)return"None";const De=he/xe,Ie=Me/xe;ne.current={percentA:De,percentB:Ie,wshareA:null,wshareB:null,considered:xe};const be=.1;return De>.5+be?"Player A":Ie>.5+be?"Player B":"None"},h=(E,P,A)=>{E/=255,P/=255,A/=255;const _=Math.max(E,P,A),F=Math.min(E,P,A),W=_-F;let Q=0;W!==0&&(_===E?Q=60*((P-A)/W%6):_===P?Q=60*((A-E)/W+2):Q=60*((E-P)/W+4)),Q<0&&(Q+=360);const V=_===0?0:W/_*255,ue=_*255;return[Q/2,V,ue]},m=()=>{const E=JSON.parse(localStorage.getItem("braceletDetectionsTest")||"[]"),P=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),A=URL.createObjectURL(P),_=document.createElement("a");_.href=A,_.download=`bracelet_detections_test_${new Date().toISOString().split("T")[0]}.json`,_.click()},C=()=>{const E=t.current;if(!E)return;const A=E.getContext("2d").getImageData(0,0,E.width,E.height);X.current={width:E.width,height:E.height,data:new Uint8ClampedArray(A.data)},de("Background captured")},p=()=>{X.current=null,de("Background cleared")};return S.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[S.jsxs("div",{className:"detector-header",children:[S.jsx("span",{children:"Bracelet Detector (Tests)"}),S.jsxs("div",{className:"detector-controls",children:[S.jsx("button",{onClick:m,title:"Download Logs",children:""}),S.jsx("button",{onClick:C,title:"Capture Background (no subjects)",children:"BG"}),S.jsx("button",{onClick:p,title:"Clear Background Model",children:"BG"}),S.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),S.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[S.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),S.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),S.jsxs("div",{className:"detector-info",children:[S.jsxs("div",{className:"status-display",children:["Status: ",S.jsx("span",{style:{color:$(a),fontWeight:700},children:a})]}),S.jsxs("div",{style:{fontSize:11,opacity:.75,marginTop:2},children:["BG: ",X.current?" captured":" none"," | CompArea(px): ",U.minCompArea,"-",U.maxCompArea]}),S.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),S.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:T?H(T):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.9},children:(()=>{const{wshareA:E,percentA:P,considered:A}=ne.current||{};if(!A)return"";const _=Number.isFinite(E)?E:P;return`${Math.round(_*100)}%`})()})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),S.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?H(B):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.9},children:(()=>{const{wshareB:E,percentB:P,considered:A}=ne.current||{};if(!A)return"";const _=Number.isFinite(E)?E:P;return`${Math.round(_*100)}%`})()})]})]})]})]})]})}const Yc=(...e)=>{console.log("[Tests2]",...e)},kt={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Rv(){const e=L.useRef(null),t=L.useRef(null),n=L.useRef(null),r=L.useRef(null),[o,l]=L.useState(!1),[a,f]=L.useState("None"),[d,x]=L.useState([]),[O,I]=L.useState(null),[T,G]=L.useState(null),[B,ee]=L.useState(null),[ae,M]=L.useState({a:null,b:null}),w=L.useRef(null),j=L.useRef(null),z=(J,ie)=>{const h=localStorage.getItem(J);if(h===null)return ie;const m=parseFloat(h);return Number.isFinite(m)?m:ie},[b,ne]=L.useState(()=>({roiSize:(()=>{const J=z(kt.roiSize,44);return J>10?J:44})(),hueWeight:z(kt.hueWeight,4),satWeight:z(kt.satWeight,2),valWeight:z(kt.valWeight,1),sensitivity:z(kt.sensitivity,0)})),X=L.useRef(b),U=L.useRef(null),pe=L.useRef(!1),k=L.useRef(0),R=L.useRef(null),Z=L.useCallback(J=>{Yc("Removing video event listeners (Tests2 placeholder).")},[]),te=J=>{Yc("Adding video event listeners (Tests2 placeholder).")};L.useEffect(()=>{w.current=T},[T]),L.useEffect(()=>{j.current=B},[B]),L.useEffect(()=>{X.current=b},[b]),L.useEffect(()=>{pe.current=!0,de();const J=()=>{try{const h=JSON.parse(localStorage.getItem("calibrationA")||"null"),m=JSON.parse(localStorage.getItem("calibrationB")||"null");h&&G({h:h.h,s:h.s,v:h.v}),m&&ee({h:m.h,s:m.s,v:m.v})}catch{}};J();const ie=h=>{!h||!h.key||(["calibrationA","calibrationB"].includes(h.key)&&J(),[kt.roiSize,kt.hueWeight,kt.satWeight,kt.valWeight,kt.sensitivity].includes(h.key)&&ne(m=>({roiSize:(()=>{const C=z(kt.roiSize,(m==null?void 0:m.roiSize)??44);return C>10?C:(m==null?void 0:m.roiSize)??44})(),hueWeight:z(kt.hueWeight,(m==null?void 0:m.hueWeight)??4),satWeight:z(kt.satWeight,(m==null?void 0:m.satWeight)??2),valWeight:z(kt.valWeight,(m==null?void 0:m.valWeight)??1),sensitivity:z(kt.sensitivity,(m==null?void 0:m.sensitivity)??0)})))};return window.addEventListener("storage",ie),()=>{pe.current=!1,k.current+=1,R.current=null,r.current&&(r.current.stop(),r.current=null),U.current&&(U.current.getTracks().forEach(m=>m.stop()),U.current=null);const h=e.current;h&&(h.srcObject=null,Z(h)),n.current&&(n.current.close(),n.current=null),window.removeEventListener("storage",ie)}},[]);const de=L.useCallback(async()=>{const J=e.current;if(!J)return;U.current&&(U.current.getTracks().forEach(h=>h.stop()),U.current=null),te();const ie=++k.current;R.current=null;try{const h=await navigator.mediaDevices.getUserMedia({video:!0});if(!pe.current||ie!==k.current){h.getTracks().forEach(m=>m.stop());return}if(U.current=h,J.srcObject=h,await new Promise(m=>{if(J.readyState>=1&&J.videoWidth>0&&J.videoHeight>0)return m();const p=()=>{J.removeEventListener("loadedmetadata",p),m()};J.addEventListener("loadedmetadata",p,{once:!0}),setTimeout(()=>{J.removeEventListener("loadedmetadata",p),m()},1500)}),!pe.current||ie!==k.current){h.getTracks().forEach(m=>m.stop());return}try{await J.play()}catch{}R.current!==ie&&(R.current=ie,Se())}catch(h){I(h.message)}},[]),Se=async()=>{try{const J=await(async()=>{try{if(typeof In.Hands=="function")return In.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((h,m)=>{const C="mp-hands-cdn-tests2";if(document.getElementById(C))return h();const p=document.createElement("script");p.id=C,p.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",p.async=!0,p.onload=()=>h(),p.onerror=()=>m(new Error("Failed to load MediaPipe Hands")),document.head.appendChild(p)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("Hands constructor unavailable")})(),ie=new J({locateFile:h=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${h}`});if(ie.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),ie.onResults(H),n.current=ie,e.current){const h=await(async()=>{try{if(typeof On.Camera=="function")return On.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((C,p)=>{const E="mp-camera-cdn-tests2";if(document.getElementById(E))return C();const P=document.createElement("script");P.id=E,P.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",P.async=!0,P.onload=()=>C(),P.onerror=()=>p(new Error("Failed to load MediaPipe Camera")),document.head.appendChild(P)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("Camera constructor unavailable")})(),m=new h(e.current,{onFrame:async()=>{await ie.send({image:e.current})},width:640,height:480});m.start(),r.current=m}}catch(J){I(J.message)}},Y=(J,ie,h)=>{const m=(J||0)*2,C=(ie||0)/255,p=(h||0)/255,E=p*C,P=E*(1-Math.abs(m/60%2-1)),A=p-E;let _=0,F=0,W=0;m<60?(_=E,F=P):m<120?(_=P,F=E):m<180?(F=E,W=P):m<240?(F=P,W=E):m<300?(_=P,W=E):(_=E,W=P);const Q=Math.round((_+A)*255),V=Math.round((F+A)*255),ue=Math.round((W+A)*255);return`rgb(${Q}, ${V}, ${ue})`},le=J=>J?Y(J.h,J.s,J.v):"#444",H=J=>{var E;const ie=t.current,h=e.current;if(!ie||!h)return;const m=ie.getContext("2d");ie.width=h.videoWidth,ie.height=h.videoHeight,m.save(),m.scale(-1,1),m.drawImage(h,-ie.width,0,ie.width,ie.height),m.restore();let C="None";if(J.multiHandLandmarks&&J.multiHandLandmarks.length>0){let P=null,A=1;if(J.multiHandLandmarks.forEach(_=>{const F=_[0];F.y<A&&(A=F.y,P=_)}),J.multiHandLandmarks.forEach(_=>{$(m,_,ie.width,ie.height)}),P){const _=P[0],F=P[9],W=(1-_.x)*ie.width,Q=_.y*ie.height,V=(1-F.x)*ie.width,ue=F.y*ie.height,me=W-V,ce=Q-ue,he=Math.sqrt(me*me+ce*ce),Me=(((E=X.current)==null?void 0:E.roiSize)||60)/60,we=Math.max(20,Math.min(300,he*1.5*Me))/2,Te=Math.max(0,W-we),Pe=Math.max(0,Q-we),je=Math.min(ie.width,W+we),De=Math.min(ie.height,Q+we);if(m.strokeStyle="cyan",m.lineWidth=2,m.strokeRect(Te,Pe,je-Te,De-Pe),je-Te>1&&De-Pe>1){const Ie=m.getImageData(Te,Pe,je-Te,De-Pe),be=w.current,Ze=j.current,Ne=re(Ie,be,Ze);C=Ne.status,M({a:Ne.percentA,b:Ne.percentB})}}}let p="#fff";C==="Player A"&&w.current?p=le(w.current):C==="Player B"&&j.current&&(p=le(j.current)),m.fillStyle=p,m.font="bold 28px Arial",m.fillText(`Status (Tests2): ${C}`,10,40),f(C)},$=(J,ie,h,m)=>{J.strokeStyle="white",J.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([p,E])=>{const P=ie[p],A=ie[E];J.beginPath(),J.moveTo((1-P.x)*h,P.y*m),J.lineTo((1-A.x)*h,A.y*m),J.stroke()}),ie.forEach(p=>{J.fillStyle="red",J.beginPath(),J.arc((1-p.x)*h,p.y*m,5,0,2*Math.PI),J.fill()})},re=(J,ie,h)=>{var me,ce,he,Me;const m=J.data;if(ie&&!h)return{status:"Player A",percentA:1,percentB:0};if(h&&!ie)return{status:"Player B",percentA:0,percentB:1};if(!ie&&!h)return{status:"None",percentA:0,percentB:0};const C=((me=X.current)==null?void 0:me.hueWeight)??4,p=((ce=X.current)==null?void 0:ce.satWeight)??2,E=((he=X.current)==null?void 0:he.valWeight)??1,A=60+(((Me=X.current)==null?void 0:Me.sensitivity)??0)*40;let _=0,F=0,W=0;for(let xe=0;xe<m.length;xe+=4){const we=m[xe],Te=m[xe+1],Pe=m[xe+2],[je,De,Ie]=ve(we,Te,Pe);if(Ie<30||De<30)continue;const be=Math.min(Math.abs(je-ie.h),180-Math.abs(je-ie.h)),Ze=Math.min(Math.abs(je-h.h),180-Math.abs(je-h.h)),Ne=Math.abs(De-ie.s),$e=Math.abs(De-h.s),ot=Math.abs(Ie-ie.v),ut=Math.abs(Ie-h.v),mt=Math.sqrt(be*be*C+Ne*Ne*p+ot*ot*E),Ht=Math.sqrt(Ze*Ze*C+$e*$e*p+ut*ut*E);mt>A&&Ht>A||(mt<Ht?_++:F++,W++)}if(W===0)return{status:"None",percentA:0,percentB:0};const Q=_/W,V=F/W,ue=J.width*J.height*.05;return W<ue?{status:"None",percentA:0,percentB:0}:Q>.6?{status:"Player A",percentA:Q,percentB:V}:V>.6?{status:"Player B",percentA:Q,percentB:V}:{status:"None",percentA:Q,percentB:V}},ve=(J,ie,h)=>{J/=255,ie/=255,h/=255;const m=Math.max(J,ie,h),C=Math.min(J,ie,h),p=m-C;let E=0;p!==0&&(m===J?E=60*((ie-h)/p%6):m===ie?E=60*((h-J)/p+2):E=60*((J-ie)/p+4)),E<0&&(E+=360);const P=m===0?0:p/m*255,A=m*255;return[E/2,P,A]},ye=J=>{const h={timestamp:new Date().toISOString(),status:J};x(C=>[...C,h]);const m=JSON.parse(localStorage.getItem("braceletDetectionsTests2")||"[]");m.push(h),localStorage.setItem("braceletDetectionsTests2",JSON.stringify(m))};L.useEffect(()=>{const J=setInterval(()=>{f(ie=>(ye(ie),ie))},1e3);return()=>clearInterval(J)},[]);const Ce=()=>{const J=JSON.parse(localStorage.getItem("braceletDetectionsTests2")||"[]"),ie=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),h=URL.createObjectURL(ie),m=document.createElement("a");m.href=h,m.download="tests2_logs.json",m.click(),URL.revokeObjectURL(h)},Ae=()=>{localStorage.removeItem("braceletDetectionsTests2"),x([])};return S.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[S.jsxs("div",{className:"detector-header",children:[S.jsx("span",{children:"Bracelet Detector (Tests2)"}),S.jsxs("div",{className:"detector-controls",children:[S.jsx("button",{onClick:Ce,title:"Download Logs",children:""}),S.jsx("button",{onClick:Ae,title:"Clear Logs",children:""}),S.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),S.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[S.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),S.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),S.jsxs("div",{className:"detector-info",children:[S.jsxs("div",{className:"status-display",children:["Status: ",S.jsx("span",{style:{color:a==="Player A"&&T?le(T):a==="Player B"&&B?le(B):"#fff",fontWeight:700},children:a})]}),S.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),S.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:T?le(T):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},children:ae.a==null?"":`${Math.round(Math.max(0,Math.min(1,ae.a))*100)}%`})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),S.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?le(B):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},children:ae.b==null?"":`${Math.round(Math.max(0,Math.min(1,ae.b))*100)}%`})]})]}),S.jsxs("div",{className:"log-count",children:["Logs: ",d.length]}),S.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[S.jsxs("div",{children:["A: ",T?`h${Math.round(T.h)} s${Math.round(T.s)} v${Math.round(T.v)}`:""]}),S.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})}const Qe=(...e)=>{console.log("[Detector]",...e)},wn={red:{lower1:[0,120,70],upper1:[10,255,255],lower2:[170,120,70],upper2:[180,255,255]},blue:{lower:[100,150,70],upper:[130,255,255]}},Et={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Tv(){const e=L.useRef(null),t=L.useRef(null),n=L.useRef(null),r=L.useRef(null),[o,l]=L.useState(!1),[a,f]=L.useState("None"),[d,x]=L.useState([]),[O,I]=L.useState(null),[T,G]=L.useState(null),[B,ee]=L.useState(null),[ae,M]=L.useState({a:null,b:null}),w=L.useRef(null),j=L.useRef(null),z=(h,m)=>{const C=localStorage.getItem(h);if(C===null)return m;const p=parseFloat(C);return Number.isFinite(p)?p:m},[b,ne]=L.useState(()=>({roiSize:(()=>{const h=z(Et.roiSize,44);return h>10?h:44})(),hueWeight:z(Et.hueWeight,4),satWeight:z(Et.satWeight,2),valWeight:z(Et.valWeight,1),sensitivity:z(Et.sensitivity,0)})),X=L.useRef(b),U=L.useRef(null),pe=L.useRef(!1),k=L.useRef(0),R=L.useRef(null),Z=L.useCallback(h=>{Qe("Removing video event listeners (if any were attached).")},[Qe]),te=L.useCallback(async()=>{const h=e.current;if(!h)return;U.current&&(Qe("Stopping existing stream before requesting new one."),U.current.getTracks().forEach(C=>C.stop()),U.current=null),Ae();const m=++k.current;R.current=null,Qe("Requesting getUserMedia...");try{const C=await navigator.mediaDevices.getUserMedia({video:!0});if(!pe.current||m!==k.current){Qe("Stale camera request (unmounted or superseded). Stopping stream."),C.getTracks().forEach(p=>p.stop());return}if(U.current=C,Qe("getUserMedia success. Tracks:",C.getVideoTracks()),h.srcObject=C,await new Promise(p=>{if(h.readyState>=1&&h.videoWidth>0&&h.videoHeight>0)return p();const P=()=>{h.removeEventListener("loadedmetadata",P),p()};h.addEventListener("loadedmetadata",P,{once:!0}),setTimeout(()=>{h.removeEventListener("loadedmetadata",P),p()},1500)}),!pe.current||m!==k.current){Qe("Stale request before play(). Stopping stream."),C.getTracks().forEach(p=>p.stop());return}try{await h.play(),Qe("video.play() promise resolved. Video should be playing.")}catch(p){if(console.error("[Detector] video.play() promise rejected:",p),Qe("video.play() promise rejected:",p.name,p.message),m!==k.current){Qe("play() aborted due to newer request."),C.getTracks().forEach(E=>E.stop());return}}R.current!==m&&(R.current=m,Qe("Initializing MediaPipe for request id",m),H())}catch(C){console.error("[Detector] Error accessing camera:",C),Qe("getUserMedia error:",C.name,C.message)}},[Qe,Z]),de=(h,m,C)=>{const p=(h||0)*2,E=(m||0)/255,P=(C||0)/255,A=P*E,_=A*(1-Math.abs(p/60%2-1)),F=P-A;let W=0,Q=0,V=0;p>=0&&p<60?(W=A,Q=_,V=0):p<120?(W=_,Q=A,V=0):p<180?(W=0,Q=A,V=_):p<240?(W=0,Q=_,V=A):p<300?(W=_,Q=0,V=A):(W=A,Q=0,V=_);const ue=Math.round((W+F)*255),me=Math.round((Q+F)*255),ce=Math.round((V+F)*255);return`rgb(${ue}, ${me}, ${ce})`},Se=h=>h?de(h.h,h.s,h.v):"#ffffff",Y=h=>h==="Player A"&&T?Se(T):h==="Player B"&&B?Se(B):h==="Red"?"#ff0000":h==="Blue"?"#0000ff":"#ffffff";L.useEffect(()=>{pe.current=!0,Qe("Mounting detector. UA:",navigator.userAgent,"Platform:",navigator.platform,"Visibility:",document.visibilityState),te();const h=()=>{try{const C=JSON.parse(localStorage.getItem("calibrationA")||"null"),p=JSON.parse(localStorage.getItem("calibrationB")||"null");C&&G({h:C.h,s:C.s,v:C.v}),p&&ee({h:p.h,s:p.s,v:p.v})}catch{Qe("No existing calibrations")}};h();const m=C=>{!C||!C.key||(["calibrationA","calibrationB"].includes(C.key)&&h(),[Et.roiSize,Et.hueWeight,Et.satWeight,Et.valWeight,Et.sensitivity].includes(C.key)&&ne(p=>({roiSize:(()=>{const E=z(Et.roiSize,(p==null?void 0:p.roiSize)??44);return E>10?E:(p==null?void 0:p.roiSize)??44})(),hueWeight:z(Et.hueWeight,(p==null?void 0:p.hueWeight)??4),satWeight:z(Et.satWeight,(p==null?void 0:p.satWeight)??2),valWeight:z(Et.valWeight,(p==null?void 0:p.valWeight)??1),sensitivity:z(Et.sensitivity,(p==null?void 0:p.sensitivity)??0)})))};return window.addEventListener("storage",m),()=>{pe.current=!1,Qe("Cleanup: Component unmounting."),k.current+=1,R.current=null,r.current&&(Qe("Cleanup: Stopping MediaPipe camera."),r.current.stop(),r.current=null),U.current&&(Qe("Cleanup: Stopping camera stream."),U.current.getTracks().forEach(p=>p.stop()),U.current=null);const C=e.current;C&&(C.srcObject=null,Z(C)),n.current&&(Qe("Cleanup: Closing MediaPipe hands."),n.current.close(),n.current=null),window.removeEventListener("storage",m)}},[te,Z,Qe]),L.useEffect(()=>{w.current=T},[T]),L.useEffect(()=>{j.current=B},[B]),L.useEffect(()=>{X.current=b},[b]),L.useEffect(()=>{const h=setInterval(()=>{f(m=>(le(m),m))},1e3);return()=>clearInterval(h)},[]);const le=h=>{const C={timestamp:new Date().toISOString(),status:h};x(E=>[...E,C]);const p=JSON.parse(localStorage.getItem("braceletDetections")||"[]");p.push(C),localStorage.setItem("braceletDetections",JSON.stringify(p))},H=async()=>{try{const h=await(async()=>{try{if(typeof In.Hands=="function")return In.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((C,p)=>{const E="mp-hands-cdn-script";if(document.getElementById(E))return C();const P=document.createElement("script");P.id=E,P.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",P.async=!0,P.onload=()=>C(),P.onerror=A=>p(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(P)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),m=new h({locateFile:C=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${C}`});if(m.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),m.onResults($),n.current=m,e.current){const C=await(async()=>{try{if(typeof On.Camera=="function")return On.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((E,P)=>{const A="mp-camera-utils-cdn-script";if(document.getElementById(A))return E();const _=document.createElement("script");_.id=A,_.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",_.async=!0,_.onload=()=>E(),_.onerror=F=>P(new Error("Failed to load MediaPipe Camera from CDN")),document.head.appendChild(_)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available after CDN load")})(),p=new C(e.current,{onFrame:async()=>{await m.send({image:e.current})},width:640,height:480});p.start(),r.current=p}}catch(h){console.error("MediaPipe initialization error:",h),I(`MediaPipe error: ${h.message}`)}},$=h=>{var A;const m=t.current,C=e.current;if(!m||!C)return;const p=m.getContext("2d");m.width=C.videoWidth,m.height=C.videoHeight,p.save(),p.scale(-1,1),p.drawImage(C,-m.width,0,m.width,m.height),p.restore();let E="None";if(h.multiHandLandmarks&&h.multiHandLandmarks.length>0){Qe("onResults: hands=",h.multiHandLandmarks.length);let _=null,F=1;if(h.multiHandLandmarks.forEach(W=>{const Q=W[0];Q.y<F&&(F=Q.y,_=W)}),h.multiHandLandmarks.forEach(W=>{re(p,W,m.width,m.height)}),_){const W=_[0],Q=(1-W.x)*m.width,V=W.y*m.height;p.fillStyle="lime",p.beginPath(),p.arc(Q,V,10,0,2*Math.PI),p.fill(),p.fillStyle="lime",p.font="16px Arial",p.fillText("SELECTED",Q-40,V-15);const me=Math.max(10,Math.min(300,Math.floor(((A=X.current)==null?void 0:A.roiSize)||60)))/2,ce=Math.max(0,Q-me),he=Math.max(0,V-me),Me=Math.min(m.width,Q+me),xe=Math.min(m.height,V+me);p.strokeStyle="lime",p.lineWidth=3,p.strokeRect(ce,he,Me-ce,xe-he);const we=p.getImageData(ce,he,Me-ce,xe-he),Te=w.current,Pe=j.current,je=ye(we,Te,Pe);E=je.status,M({a:je.percentA,b:je.percentB}),Qe("Detection result:",E,{roi:{x1:ce,y1:he,w:Me-ce,h:xe-he}})}}let P="#ffffff";E==="Player A"&&w.current?P=Se(w.current):E==="Player B"&&j.current&&(P=Se(j.current)),p.fillStyle=P,p.font="bold 32px Arial",p.fillText(`Status: ${E}`,10,40),f(E)},re=(h,m,C,p)=>{h.strokeStyle="white",h.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([P,A])=>{const _=m[P],F=m[A];h.beginPath(),h.moveTo((1-_.x)*C,_.y*p),h.lineTo((1-F.x)*C,F.y*p),h.stroke()}),m.forEach(P=>{h.fillStyle="red",h.beginPath(),h.arc((1-P.x)*C,P.y*p,5,0,2*Math.PI),h.fill()})},ve=h=>{const m=h.data;let C=0,p=0;for(let E=0;E<m.length;E+=4){const P=m[E],A=m[E+1],_=m[E+2],F=Ce(P,A,_);(F[0]>=wn.red.lower1[0]&&F[0]<=wn.red.upper1[0]||F[0]>=wn.red.lower2[0]&&F[0]<=wn.red.upper2[0])&&F[1]>=wn.red.lower1[1]&&F[2]>=wn.red.lower1[2]&&C++,F[0]>=wn.blue.lower[0]&&F[0]<=wn.blue.upper[0]&&F[1]>=wn.blue.lower[1]&&F[2]>=wn.blue.lower[2]&&p++}return{redCount:C,blueCount:p}},ye=(h,m,C)=>{var me,ce,he,Me;const p=h.data;if(m&&!C)return{status:"Player A",percentA:null,percentB:null};if(C&&!m)return{status:"Player B",percentA:null,percentB:null};const E=((me=X.current)==null?void 0:me.hueWeight)??4,P=((ce=X.current)==null?void 0:ce.satWeight)??2,A=((he=X.current)==null?void 0:he.valWeight)??1,_=((Me=X.current)==null?void 0:Me.sensitivity)??0;if(m&&C){let xe=0,we=0,Te=0;for(let Ie=0;Ie<p.length;Ie+=4){const be=p[Ie],Ze=p[Ie+1],Ne=p[Ie+2],[$e,ot,ut]=Ce(be,Ze,Ne),mt=Math.min(1,Math.max(0,ot/255)),Ht=Math.min(1,Math.max(0,ut/255)),at=Math.max(.05,.5*mt+.5*Ht),$t=Math.min(Math.abs($e-m.h),180-Math.abs($e-m.h)),Cn=Math.min(Math.abs($e-C.h),180-Math.abs($e-C.h)),fn=Math.abs(ot-m.s),qt=Math.abs(ot-C.s),Nt=Math.abs(ut-m.v),St=Math.abs(ut-C.v),Vt=$t*E+fn*P+Nt*A,Gt=Cn*E+qt*P+St*A;Math.min(Vt,Gt)>180||(Vt<=Gt?xe+=at:we+=at,Te+=at)}if(Te===0)return{status:"None",percentA:0,percentB:0};const Pe=xe/Math.max(1e-6,Te),je=we/Math.max(1e-6,Te),De=.12*(1+.8*Math.max(0,Math.min(1,_)));return Pe>=De&&Pe>=je?{status:"Player A",percentA:Pe,percentB:je}:je>=De&&je>Pe?{status:"Player B",percentA:Pe,percentB:je}:{status:"None",percentA:Pe,percentB:je}}const{redCount:F,blueCount:W}=ve(h),Q=F+W;if(Q===0)return{status:"None",percentA:0,percentB:0};const V=F/Q,ue=W/Q;return V>=.15&&V>=ue?{status:"Player A",percentA:V,percentB:ue}:ue>=.15&&ue>V?{status:"Player B",percentA:V,percentB:ue}:{status:"None",percentA:V,percentB:ue}},Ce=(h,m,C)=>{h/=255,m/=255,C/=255;const p=Math.max(h,m,C),E=Math.min(h,m,C),P=p-E;let A=0;P!==0&&(p===h?A=60*((m-C)/P%6):p===m?A=60*((C-h)/P+2):A=60*((h-m)/P+4)),A<0&&(A+=360);const _=p===0?0:P/p*255,F=p*255;return[A/2,_,F]},Ae=h=>{Qe("Adding video event listeners (if needed in the future).")},J=()=>{const h=JSON.parse(localStorage.getItem("braceletDetections")||"[]"),m=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),C=URL.createObjectURL(m),p=document.createElement("a");p.href=C,p.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.json`,p.click();const E=h.map(F=>`${F.timestamp}: ${F.status}`).join(`
`),P=new Blob([E],{type:"text/plain"}),A=URL.createObjectURL(P),_=document.createElement("a");_.href=A,_.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.txt`,_.click()},ie=()=>{localStorage.removeItem("braceletDetections"),x([])};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[S.jsxs("div",{className:"detector-header",children:[S.jsx("span",{children:"Bracelet Detector"}),S.jsxs("div",{className:"detector-controls",children:[S.jsx("button",{onClick:J,title:"Download Logs",children:""}),S.jsx("button",{onClick:ie,title:"Clear Logs",children:""}),S.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),S.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[S.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),S.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),S.jsxs("div",{className:"detector-info",children:[S.jsxs("div",{className:"status-display",children:["Status: ",S.jsx("span",{style:{color:Y(a),fontWeight:700},children:a})]}),S.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),S.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:T?Se(T):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"A confidence",children:ae.a==null?"":`${Math.round(Math.max(0,Math.min(1,ae.a))*100)}%`})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[S.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),S.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?Se(B):"#444"}}),S.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"B confidence",children:ae.b==null?"":`${Math.round(Math.max(0,Math.min(1,ae.b))*100)}%`})]})]}),S.jsxs("div",{className:"log-count",children:["Logs: ",d?d.length:0]}),S.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[S.jsxs("div",{children:["A: ",T?`h${Math.round(T.h)} s${Math.round(T.s)} v${Math.round(T.v)}`:""]}),S.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})})}function Av(){const e=L.useRef(null),t=L.useRef(null),n=L.useRef(null),r=L.useRef(null),[o,l]=L.useState(!1),[a,f]=L.useState(null),[d,x]=L.useState({A:0,B:0,hands:[]}),O=L.useRef(null),I=L.useRef(0),T=.1,G=L.useRef(!1);L.useEffect(()=>(G.current=!0,B(),()=>{G.current=!1}),[]);const B=async()=>{const ae=new In.Hands({locateFile:M=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${M}`});if(ae.setOptions({maxNumHands:4,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),ae.onResults(ee),n.current=ae,e.current){const M=new On.Camera(e.current,{onFrame:async()=>{await ae.send({image:e.current})},width:640,height:480});M.start(),r.current=M}},ee=ae=>{const M=t.current,w=e.current;if(!M||!w)return;const j=M.getContext("2d");M.width=w.videoWidth,M.height=w.videoHeight,I.current=M.width,j.save(),j.scale(-1,1),j.drawImage(w,-M.width,0,M.width,M.height),j.restore();const z=[];if(ae.multiHandLandmarks)for(const R of ae.multiHandLandmarks){const Z=R[0],te=R[9],de=(1-Z.x)*M.width,Se=Z.y*M.height,le=(1-te.x)*M.width-de;z.push({x:de,y:Se,vx:le})}let b=0,ne=0;if(z.forEach(R=>{const Z=R.x<(O.current||M.width/2);(Z&&R.vx>0||!Z&&R.vx<0)&&(b+=R.x,ne++)}),ne===0&&z.length>0&&(z.forEach(R=>b+=R.x),ne=z.length),ne>0){const R=M.width*.5*.8+b/ne*.2;O.current==null&&(O.current=M.width*.5),O.current=O.current*(1-T)+R*T}const X=O.current||M.width*.5;let U=0,pe=0;const k=z.map(R=>{let Z=R.x<X?-1:1;const te=20;R.vx<-te&&(Z+=1.5),R.vx>te&&(Z-=1.5);const de=Z>0?"Player A":"Player B";return de==="Player A"?U++:pe++,{...R,player:de,score:Z}});j.strokeStyle="yellow",j.beginPath(),j.moveTo(X,0),j.lineTo(X,M.height),j.stroke(),k.forEach(({x:R,y:Z,vx:te,player:de,score:Se})=>{j.fillStyle=de==="Player A"?"lime":"dodgerblue",j.beginPath(),j.arc(R,Z,10,0,Math.PI*2),j.fill(),j.strokeStyle=de==="Player A"?"lime":"dodgerblue",j.lineWidth=3,j.beginPath(),j.moveTo(R,Z),j.lineTo(R+te*2,Z),j.stroke(),j.font="16px Arial",j.fillStyle="white",j.fillText(`${de} (${Math.round(te)})`,R+15,Z+5)}),x({A:U,B:pe,hands:k})};return S.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[S.jsxs("div",{className:"detector-header",children:[S.jsx("span",{children:"Top-Down Player Classifier"}),S.jsx("div",{className:"detector-controls",children:S.jsx("button",{onClick:()=>l(!o),children:o?"":""})})]}),S.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[S.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),S.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),S.jsxs("div",{className:"detector-info",children:[S.jsxs("div",{className:"status-display",children:["Hands  A: ",d.A," | B: ",d.B]}),S.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4},children:["Midline: ",Math.round(O.current??I.current*.5)," px"]}),a&&S.jsxs("div",{style:{color:"#f55"},children:["Camera error: ",a]})]})]})]})}const Lv=TopDownPlayerClassifierV2,zv=!1;function Iv(){const[e,t]=L.useState(!1),[n,r]=L.useState(null),[o,l]=L.useState(null),[a,f]=L.useState(window.location.hash);L.useEffect(()=>{const O=()=>{f(window.location.hash)};return window.addEventListener("hashchange",O),()=>window.removeEventListener("hashchange",O)},[]);const d=O=>{r(O),t(!0)};L.useEffect(()=>()=>{o&&!o.closed&&o.close()},[o]);let x=null;return a==="#/detector"?x=S.jsx(Qc,{}):a==="#/calibrate"?x=S.jsx(Pv,{}):a==="#/tests"?x=S.jsx(Nv,{}):a==="#/tests2"?x=S.jsx(Rv,{}):a==="#/tests3"?x=S.jsx(Tv,{}):a==="#/topdown"?x=S.jsx(Av,{}):a==="#/topdown2"?x=S.jsx(Lv,{}):x=e?S.jsxs(S.Fragment,{children:[S.jsx(jv,{config:n}),S.jsx(Qc,{}),zv,S.jsxs("div",{style:{position:"fixed",bottom:8,right:8,display:"flex",flexDirection:"column",gap:4,zIndex:9999},children:[S.jsx("a",{href:"#/tests",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Tests"}),S.jsx("a",{href:"#/tests2",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Tests2"}),S.jsx("a",{href:"#/tests3",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Tests3"}),S.jsx("a",{href:"#/topdown",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"TopDown"}),S.jsx("a",{href:"#/topdown2",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"TopDown2"})]})]}):S.jsx(wv,{onStart:d}),S.jsx("div",{className:"App",children:x})}cs.createRoot(document.getElementById("root")).render(S.jsx(sp.StrictMode,{children:S.jsx(Iv,{})}));
