(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kc={exports:{}},ll={},bc={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),Gh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),ep=Symbol.for("react.memo"),tp=Symbol.for("react.lazy"),La=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=La&&e[La]||e["@@iterator"],typeof e=="function"?e:null)}var Jc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zc=Object.assign,qc={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=qc,this.updater=n||Jc}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ef(){}ef.prototype=Zr.prototype;function ru(e,t,n){this.props=e,this.context=t,this.refs=qc,this.updater=n||Jc}var iu=ru.prototype=new ef;iu.constructor=ru;Zc(iu,Zr.prototype);iu.isPureReactComponent=!0;var za=Array.isArray,tf=Object.prototype.hasOwnProperty,ou={current:null},nf={key:!0,ref:!0,__self:!0,__source:!0};function rf(e,t,n){var r,o={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)tf.call(t,r)&&!nf.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var d=Array(f),x=0;x<f;x++)d[x]=arguments[x+2];o.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:Xi,type:e,key:l,ref:a,props:o,_owner:ou.current}}function rp(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function ip(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ia=/\/+/g;function Dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ip(""+e.key):t.toString(36)}function Co(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Xi:case Gh:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Dl(a,0):r,za(o)?(n="",e!=null&&(n=e.replace(Ia,"$&/")+"/"),Co(o,t,n,"",function(x){return x})):o!=null&&(lu(o)&&(o=rp(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Ia,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",za(e))for(var f=0;f<e.length;f++){l=e[f];var d=r+Dl(l,f);a+=Co(l,t,n,d,o)}else if(d=np(e),typeof d=="function")for(e=d.call(e),f=0;!(l=e.next()).done;)l=l.value,d=r+Dl(l,f++),a+=Co(l,t,n,d,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function lo(e,t,n){if(e==null)return e;var r=[],o=0;return Co(e,r,"","",function(l){return t.call(n,l,o++)}),r}function op(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},jo={transition:null},lp={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:jo,ReactCurrentOwner:ou};function of(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:lo,forEach:function(e,t,n){lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lo(e,function(){t++}),t},toArray:function(e){return lo(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Zr;_e.Fragment=Qh;_e.Profiler=Kh;_e.PureComponent=ru;_e.StrictMode=Yh;_e.Suspense=qh;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;_e.act=of;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zc({},e.props),o=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=ou.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(d in t)tf.call(t,d)&&!nf.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&f!==void 0?f[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){f=Array(d);for(var x=0;x<d;x++)f[x]=arguments[x+2];r.children=f}return{$$typeof:Xi,type:e.type,key:o,ref:l,props:r,_owner:a}};_e.createContext=function(e){return e={$$typeof:Jh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bh,_context:e},e.Consumer=e};_e.createElement=rf;_e.createFactory=function(e){var t=rf.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:Zh,render:e}};_e.isValidElement=lu;_e.lazy=function(e){return{$$typeof:tp,_payload:{_status:-1,_result:e},_init:op}};_e.memo=function(e,t){return{$$typeof:ep,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=jo.transition;jo.transition={};try{e()}finally{jo.transition=t}};_e.unstable_act=of;_e.useCallback=function(e,t){return Mt.current.useCallback(e,t)};_e.useContext=function(e){return Mt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Mt.current.useEffect(e,t)};_e.useId=function(){return Mt.current.useId()};_e.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Mt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};_e.useRef=function(e){return Mt.current.useRef(e)};_e.useState=function(e){return Mt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Mt.current.useTransition()};_e.version="18.3.1";bc.exports=_e;var _=bc.exports;const sp=Xh(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=_,ap=Symbol.for("react.element"),cp=Symbol.for("react.fragment"),fp=Object.prototype.hasOwnProperty,dp=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hp={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,o={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)fp.call(t,r)&&!hp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ap,type:e,key:l,ref:a,props:o,_owner:dp.current}}ll.Fragment=cp;ll.jsx=lf;ll.jsxs=lf;Kc.exports=ll;var w=Kc.exports,cs={},sf={exports:{}},Wt={},uf={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,X){var ne=U.length;U.push(X);e:for(;0<ne;){var ve=ne-1>>>1,ge=U[ve];if(0<o(ge,X))U[ve]=X,U[ne]=ge,ne=ve;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var X=U[0],ne=U.pop();if(ne!==X){U[0]=ne;e:for(var ve=0,ge=U.length,Ce=ge>>>1;ve<Ce;){var Ae=2*(ve+1)-1,q=U[Ae],oe=Ae+1,h=U[oe];if(0>o(q,ne))oe<ge&&0>o(h,q)?(U[ve]=h,U[oe]=ne,ve=oe):(U[ve]=q,U[Ae]=ne,ve=Ae);else if(oe<ge&&0>o(h,ne))U[ve]=h,U[oe]=ne,ve=oe;else break e}}return X}function o(U,X){var ne=U.sortIndex-X.sortIndex;return ne!==0?ne:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,f=a.now();e.unstable_now=function(){return a.now()-f}}var d=[],x=[],I=1,O=null,A=3,Q=!1,B=!1,te=!1,se=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var X=n(x);X!==null;){if(X.callback===null)r(x);else if(X.startTime<=U)r(x),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(x)}}function L(U){if(te=!1,C(U),!B)if(n(d)!==null)B=!0,G(W);else{var X=n(x);X!==null&&ie(L,X.startTime-U)}}function W(U,X){B=!1,te&&(te=!1,M(H),H=-1),Q=!0;var ne=A;try{for(C(X),O=n(d);O!==null&&(!(O.expirationTime>X)||U&&!T());){var ve=O.callback;if(typeof ve=="function"){O.callback=null,A=O.priorityLevel;var ge=ve(O.expirationTime<=X);X=e.unstable_now(),typeof ge=="function"?O.callback=ge:O===n(d)&&r(d),C(X)}else r(d);O=n(d)}if(O!==null)var Ce=!0;else{var Ae=n(x);Ae!==null&&ie(L,Ae.startTime-X),Ce=!1}return Ce}finally{O=null,A=ne,Q=!1}}var b=!1,F=null,H=-1,he=5,k=-1;function T(){return!(e.unstable_now()-k<he)}function J(){if(F!==null){var U=e.unstable_now();k=U;var X=!0;try{X=F(!0,U)}finally{X?re():(b=!1,F=null)}}else b=!1}var re;if(typeof S=="function")re=function(){S(J)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ue=fe.port2;fe.port1.onmessage=J,re=function(){ue.postMessage(null)}}else re=function(){se(J,0)};function G(U){F=U,b||(b=!0,re())}function ie(U,X){H=se(function(){U(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){B||Q||(B=!0,G(W))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(U){switch(A){case 1:case 2:case 3:var X=3;break;default:X=A}var ne=A;A=X;try{return U()}finally{A=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=A;A=U;try{return X()}finally{A=ne}},e.unstable_scheduleCallback=function(U,X,ne){var ve=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ve+ne:ve):ne=ve,U){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ne+ge,U={id:I++,callback:X,priorityLevel:U,startTime:ne,expirationTime:ge,sortIndex:-1},ne>ve?(U.sortIndex=ne,t(x,U),n(d)===null&&U===n(x)&&(te?(M(H),H=-1):te=!0,ie(L,ne-ve))):(U.sortIndex=ge,t(d,U),B||Q||(B=!0,G(W))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var X=A;return function(){var ne=A;A=X;try{return U.apply(this,arguments)}finally{A=ne}}}})(af);uf.exports=af;var pp=uf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=_,Ft=pp;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cf=new Set,Ni={};function wr(e,t){Xr(e,t),Xr(e+"Capture",t)}function Xr(e,t){for(Ni[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=Object.prototype.hasOwnProperty,vp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oa={},Da={};function yp(e){return fs.call(Da,e)?!0:fs.call(Oa,e)?!1:vp.test(e)?Da[e]=!0:(Oa[e]=!0,!1)}function gp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wp(e,t,n,r){if(t===null||typeof t>"u"||gp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,o,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(su,uu);pt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(su,uu);pt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(su,uu);pt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function au(e,t,n,r){var o=pt.hasOwnProperty(t)?pt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wp(t,n,o,r)&&(n=null),r||o===null?yp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dn=mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),cu=Symbol.for("react.strict_mode"),ds=Symbol.for("react.profiler"),ff=Symbol.for("react.provider"),df=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),hs=Symbol.for("react.suspense"),ps=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),hf=Symbol.for("react.offscreen"),Ba=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Ba&&e[Ba]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Bl;function mi(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Fl=!1;function Wl(e,t){if(!e||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var o=x.stack.split(`
`),l=r.stack.split(`
`),a=o.length-1,f=l.length-1;1<=a&&0<=f&&o[a]!==l[f];)f--;for(;1<=a&&0<=f;a--,f--)if(o[a]!==l[f]){if(a!==1||f!==1)do if(a--,f--,0>f||o[a]!==l[f]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=f);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function Sp(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function ms(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Mr:return"Portal";case ds:return"Profiler";case cu:return"StrictMode";case hs:return"Suspense";case ps:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case ff:return(e._context.displayName||"Context")+".Provider";case fu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:ms(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return ms(e(t))}catch{}}return null}function xp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ms(t);case 8:return t===cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e){var t=pf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uo(e){e._valueTracker||(e._valueTracker=kp(e))}function mf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vs(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vf(e,t){t=t.checked,t!=null&&au(e,"checked",t,!1)}function ys(e,t){vf(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gs(e,t.type,n):t.hasOwnProperty("defaultValue")&&gs(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gs(e,t,n){(t!=="number"||Oo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function Fr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ws(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ha(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(vi(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function yf(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ua(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ss(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,wf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ep=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){Ep.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function Sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function xf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Sf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Cp=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xs(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function ks(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Wr=null,Hr=null;function $a(e){if(e=Yi(e)){if(typeof Cs!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=fl(t),Cs(e.stateNode,e.type,t))}}function kf(e){Wr?Hr?Hr.push(e):Hr=[e]:Wr=e}function Ef(){if(Wr){var e=Wr,t=Hr;if(Hr=Wr=null,$a(e),t)for(e=0;e<t.length;e++)$a(t[e])}}function Cf(e,t){return e(t)}function jf(){}var Hl=!1;function Mf(e,t,n){if(Hl)return e(t,n);Hl=!0;try{return Cf(e,t,n)}finally{Hl=!1,(Wr!==null||Hr!==null)&&(jf(),Ef())}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var js=!1;if(Ln)try{var si={};Object.defineProperty(si,"passive",{get:function(){js=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{js=!1}function jp(e,t,n,r,o,l,a,f,d){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(I){this.onError(I)}}var Si=!1,Do=null,Bo=!1,Ms=null,Mp={onError:function(e){Si=!0,Do=e}};function Pp(e,t,n,r,o,l,a,f,d){Si=!1,Do=null,jp.apply(Mp,arguments)}function Np(e,t,n,r,o,l,a,f,d){if(Pp.apply(this,arguments),Si){if(Si){var x=Do;Si=!1,Do=null}else throw Error(ee(198));Bo||(Bo=!0,Ms=x)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Va(e){if(Sr(e)!==e)throw Error(ee(188))}function Rp(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Va(o),e;if(l===r)return Va(o),t;l=l.sibling}throw Error(ee(188))}if(n.return!==r.return)n=o,r=l;else{for(var a=!1,f=o.child;f;){if(f===n){a=!0,n=o,r=l;break}if(f===r){a=!0,r=o,n=l;break}f=f.sibling}if(!a){for(f=l.child;f;){if(f===n){a=!0,n=l,r=o;break}if(f===r){a=!0,r=l,n=o;break}f=f.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function Nf(e){return e=Rp(e),e!==null?Rf(e):null}function Rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rf(e);if(t!==null)return t;e=e.sibling}return null}var _f=Ft.unstable_scheduleCallback,Xa=Ft.unstable_cancelCallback,_p=Ft.unstable_shouldYield,Tp=Ft.unstable_requestPaint,tt=Ft.unstable_now,Ap=Ft.unstable_getCurrentPriorityLevel,pu=Ft.unstable_ImmediatePriority,Tf=Ft.unstable_UserBlockingPriority,Fo=Ft.unstable_NormalPriority,Lp=Ft.unstable_LowPriority,Af=Ft.unstable_IdlePriority,sl=null,kn=null;function zp(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(sl,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Dp,Ip=Math.log,Op=Math.LN2;function Dp(e){return e>>>=0,e===0?32:31-(Ip(e)/Op|0)|0}var co=64,fo=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var f=a&~o;f!==0?r=yi(f):(l&=a,l!==0&&(r=yi(l)))}else a=n&~o,a!==0?r=yi(a):l!==0&&(r=yi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),o=1<<n,r|=e[n],t&=~o;return r}function Bp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-un(l),f=1<<a,d=o[a];d===-1?(!(f&n)||f&r)&&(o[a]=Bp(f,t)):d<=t&&(e.expiredLanes|=f),l&=~f}}function Ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lf(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function Ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function Wp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-un(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function mu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Oe=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var If,vu,Of,Df,Bf,Ns=!1,ho=[],Qn=null,Yn=null,Kn=null,Ti=new Map,Ai=new Map,$n=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ga(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function ui(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Yi(t),t!==null&&vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Up(e,t,n,r,o){switch(t){case"focusin":return Qn=ui(Qn,e,t,n,r,o),!0;case"dragenter":return Yn=ui(Yn,e,t,n,r,o),!0;case"mouseover":return Kn=ui(Kn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Ti.set(l,ui(Ti.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Ai.set(l,ui(Ai.get(l)||null,e,t,n,r,o)),!0}return!1}function Ff(e){var t=ar(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=Pf(n),t!==null){e.blockedOn=t,Bf(e.priority,function(){Of(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Es=r,n.target.dispatchEvent(r),Es=null}else return t=Yi(n),t!==null&&vu(t),e.blockedOn=n,!1;t.shift()}return!0}function Qa(e,t,n){Mo(e)&&n.delete(t)}function $p(){Ns=!1,Qn!==null&&Mo(Qn)&&(Qn=null),Yn!==null&&Mo(Yn)&&(Yn=null),Kn!==null&&Mo(Kn)&&(Kn=null),Ti.forEach(Qa),Ai.forEach(Qa)}function ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Ns||(Ns=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,$p)))}function Li(e){function t(o){return ai(o,e)}if(0<ho.length){ai(ho[0],e);for(var n=1;n<ho.length;n++){var r=ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qn!==null&&ai(Qn,e),Yn!==null&&ai(Yn,e),Kn!==null&&ai(Kn,e),Ti.forEach(t),Ai.forEach(t),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)Ff(n),n.blockedOn===null&&$n.shift()}var Ur=Dn.ReactCurrentBatchConfig,Ho=!0;function Vp(e,t,n,r){var o=Oe,l=Ur.transition;Ur.transition=null;try{Oe=1,yu(e,t,n,r)}finally{Oe=o,Ur.transition=l}}function Xp(e,t,n,r){var o=Oe,l=Ur.transition;Ur.transition=null;try{Oe=4,yu(e,t,n,r)}finally{Oe=o,Ur.transition=l}}function yu(e,t,n,r){if(Ho){var o=Rs(e,t,n,r);if(o===null)Zl(e,t,r,Uo,n),Ga(e,r);else if(Up(o,e,t,n,r))r.stopPropagation();else if(Ga(e,r),t&4&&-1<Hp.indexOf(e)){for(;o!==null;){var l=Yi(o);if(l!==null&&If(l),l=Rs(e,t,n,r),l===null&&Zl(e,t,r,Uo,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var Uo=null;function Rs(e,t,n,r){if(Uo=null,e=hu(r),e=ar(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uo=e,null}function Wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case pu:return 1;case Tf:return 4;case Fo:case Lp:return 16;case Af:return 536870912;default:return 16}default:return 16}}var Xn=null,gu=null,Po=null;function Hf(){if(Po)return Po;var e,t=gu,n=t.length,r,o="value"in Xn?Xn.value:Xn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[l-r];r++);return Po=o.slice(e,1<r?1-r:void 0)}function No(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Ya(){return!1}function Ht(e){function t(n,r,o,l,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?po:Ya,this.isPropagationStopped=Ya,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=Ht(qr),Qi=be({},qr,{view:0,detail:0}),Gp=Ht(Qi),$l,Vl,ci,ul=be({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?($l=e.screenX-ci.screenX,Vl=e.screenY-ci.screenY):Vl=$l=0,ci=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),Ka=Ht(ul),Qp=be({},ul,{dataTransfer:0}),Yp=Ht(Qp),Kp=be({},Qi,{relatedTarget:0}),Xl=Ht(Kp),bp=be({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jp=Ht(bp),Zp=be({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=Ht(Zp),em=be({},qr,{data:0}),ba=Ht(em),tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rm[e])?!!t[e]:!1}function Su(){return im}var om=be({},Qi,{key:function(e){if(e.key){var t=tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=No(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?No(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?No(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lm=Ht(om),sm=be({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=Ht(sm),um=be({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),am=Ht(um),cm=be({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Ht(cm),dm=be({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=Ht(dm),pm=[9,13,27,32],xu=Ln&&"CompositionEvent"in window,xi=null;Ln&&"documentMode"in document&&(xi=document.documentMode);var mm=Ln&&"TextEvent"in window&&!xi,Uf=Ln&&(!xu||xi&&8<xi&&11>=xi),Za=" ",qa=!1;function $f(e,t){switch(e){case"keyup":return pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function vm(e,t){switch(e){case"compositionend":return Vf(t);case"keypress":return t.which!==32?null:(qa=!0,Za);case"textInput":return e=t.data,e===Za&&qa?null:e;default:return null}}function ym(e,t){if(Nr)return e==="compositionend"||!xu&&$f(e,t)?(e=Hf(),Po=gu=Xn=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uf&&t.locale!=="ko"?null:t.data;default:return null}}var gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gm[e.type]:t==="textarea"}function Xf(e,t,n,r){kf(r),t=$o(t,"onChange"),0<t.length&&(n=new wu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,zi=null;function wm(e){nd(e,0)}function al(e){var t=Tr(e);if(mf(t))return e}function Sm(e,t){if(e==="change")return t}var Gf=!1;if(Ln){var Gl;if(Ln){var Ql="oninput"in document;if(!Ql){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Ql=typeof tc.oninput=="function"}Gl=Ql}else Gl=!1;Gf=Gl&&(!document.documentMode||9<document.documentMode)}function nc(){ki&&(ki.detachEvent("onpropertychange",Qf),zi=ki=null)}function Qf(e){if(e.propertyName==="value"&&al(zi)){var t=[];Xf(t,zi,e,hu(e)),Mf(wm,t)}}function xm(e,t,n){e==="focusin"?(nc(),ki=t,zi=n,ki.attachEvent("onpropertychange",Qf)):e==="focusout"&&nc()}function km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(zi)}function Em(e,t){if(e==="click")return al(t)}function Cm(e,t){if(e==="input"||e==="change")return al(t)}function jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:jm;function Ii(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!fs.call(t,o)||!cn(e[o],t[o]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ic(e,t){var n=rc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function Yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kf(){for(var e=window,t=Oo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oo(e.document)}return t}function ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mm(e){var t=Kf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yf(n.ownerDocument.documentElement,n)){if(r!==null&&ku(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=ic(n,l);var a=ic(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pm=Ln&&"documentMode"in document&&11>=document.documentMode,Rr=null,_s=null,Ei=null,Ts=!1;function oc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ts||Rr==null||Rr!==Oo(r)||(r=Rr,"selectionStart"in r&&ku(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&Ii(Ei,r)||(Ei=r,r=$o(_s,"onSelect"),0<r.length&&(t=new wu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rr)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Yl={},bf={};Ln&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function cl(e){if(Yl[e])return Yl[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bf)return Yl[e]=t[n];return e}var Jf=cl("animationend"),Zf=cl("animationiteration"),qf=cl("animationstart"),ed=cl("transitionend"),td=new Map,lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){td.set(e,t),wr(t,[e])}for(var Kl=0;Kl<lc.length;Kl++){var bl=lc[Kl],Nm=bl.toLowerCase(),Rm=bl[0].toUpperCase()+bl.slice(1);rr(Nm,"on"+Rm)}rr(Jf,"onAnimationEnd");rr(Zf,"onAnimationIteration");rr(qf,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(ed,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Np(r,t,void 0,e),e.currentTarget=null}function nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var f=r[a],d=f.instance,x=f.currentTarget;if(f=f.listener,d!==l&&o.isPropagationStopped())break e;sc(o,f,x),l=d}else for(a=0;a<r.length;a++){if(f=r[a],d=f.instance,x=f.currentTarget,f=f.listener,d!==l&&o.isPropagationStopped())break e;sc(o,f,x),l=d}}}if(Bo)throw e=Ms,Bo=!1,Ms=null,e}function He(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var r=e+"__bubble";n.has(r)||(rd(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),rd(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[vo]){e[vo]=!0,cf.forEach(function(n){n!=="selectionchange"&&(_m.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,Jl("selectionchange",!1,t))}}function rd(e,t,n,r){switch(Wf(t)){case 1:var o=Vp;break;case 4:o=Xp;break;default:o=yu}n=o.bind(null,t,n,e),o=void 0,!js||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;a=a.return}for(;f!==null;){if(a=ar(f),a===null)return;if(d=a.tag,d===5||d===6){r=l=a;continue e}f=f.parentNode}}r=r.return}Mf(function(){var x=l,I=hu(n),O=[];e:{var A=td.get(e);if(A!==void 0){var Q=wu,B=e;switch(e){case"keypress":if(No(n)===0)break e;case"keydown":case"keyup":Q=lm;break;case"focusin":B="focus",Q=Xl;break;case"focusout":B="blur",Q=Xl;break;case"beforeblur":case"afterblur":Q=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=am;break;case Jf:case Zf:case qf:Q=Jp;break;case ed:Q=fm;break;case"scroll":Q=Gp;break;case"wheel":Q=hm;break;case"copy":case"cut":case"paste":Q=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ja}var te=(t&4)!==0,se=!te&&e==="scroll",M=te?A!==null?A+"Capture":null:A;te=[];for(var S=x,C;S!==null;){C=S;var L=C.stateNode;if(C.tag===5&&L!==null&&(C=L,M!==null&&(L=_i(S,M),L!=null&&te.push(Di(S,L,C)))),se)break;S=S.return}0<te.length&&(A=new Q(A,B,null,n,I),O.push({event:A,listeners:te}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",A&&n!==Es&&(B=n.relatedTarget||n.fromElement)&&(ar(B)||B[zn]))break e;if((Q||A)&&(A=I.window===I?I:(A=I.ownerDocument)?A.defaultView||A.parentWindow:window,Q?(B=n.relatedTarget||n.toElement,Q=x,B=B?ar(B):null,B!==null&&(se=Sr(B),B!==se||B.tag!==5&&B.tag!==6)&&(B=null)):(Q=null,B=x),Q!==B)){if(te=Ka,L="onMouseLeave",M="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(te=Ja,L="onPointerLeave",M="onPointerEnter",S="pointer"),se=Q==null?A:Tr(Q),C=B==null?A:Tr(B),A=new te(L,S+"leave",Q,n,I),A.target=se,A.relatedTarget=C,L=null,ar(I)===x&&(te=new te(M,S+"enter",B,n,I),te.target=C,te.relatedTarget=se,L=te),se=L,Q&&B)t:{for(te=Q,M=B,S=0,C=te;C;C=jr(C))S++;for(C=0,L=M;L;L=jr(L))C++;for(;0<S-C;)te=jr(te),S--;for(;0<C-S;)M=jr(M),C--;for(;S--;){if(te===M||M!==null&&te===M.alternate)break t;te=jr(te),M=jr(M)}te=null}else te=null;Q!==null&&uc(O,A,Q,te,!1),B!==null&&se!==null&&uc(O,se,B,te,!0)}}e:{if(A=x?Tr(x):window,Q=A.nodeName&&A.nodeName.toLowerCase(),Q==="select"||Q==="input"&&A.type==="file")var W=Sm;else if(ec(A))if(Gf)W=Cm;else{W=km;var b=xm}else(Q=A.nodeName)&&Q.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(W=Em);if(W&&(W=W(e,x))){Xf(O,W,n,I);break e}b&&b(e,A,x),e==="focusout"&&(b=A._wrapperState)&&b.controlled&&A.type==="number"&&gs(A,"number",A.value)}switch(b=x?Tr(x):window,e){case"focusin":(ec(b)||b.contentEditable==="true")&&(Rr=b,_s=x,Ei=null);break;case"focusout":Ei=_s=Rr=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,oc(O,n,I);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":oc(O,n,I)}var F;if(xu)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Nr?$f(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(Uf&&n.locale!=="ko"&&(Nr||H!=="onCompositionStart"?H==="onCompositionEnd"&&Nr&&(F=Hf()):(Xn=I,gu="value"in Xn?Xn.value:Xn.textContent,Nr=!0)),b=$o(x,H),0<b.length&&(H=new ba(H,e,null,n,I),O.push({event:H,listeners:b}),F?H.data=F:(F=Vf(n),F!==null&&(H.data=F)))),(F=mm?vm(e,n):ym(e,n))&&(x=$o(x,"onBeforeInput"),0<x.length&&(I=new ba("onBeforeInput","beforeinput",null,n,I),O.push({event:I,listeners:x}),I.data=F))}nd(O,t)})}function Di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=_i(e,n),l!=null&&r.unshift(Di(e,l,o)),l=_i(e,t),l!=null&&r.push(Di(e,l,o))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uc(e,t,n,r,o){for(var l=t._reactName,a=[];n!==null&&n!==r;){var f=n,d=f.alternate,x=f.stateNode;if(d!==null&&d===r)break;f.tag===5&&x!==null&&(f=x,o?(d=_i(n,l),d!=null&&a.unshift(Di(n,d,f))):o||(d=_i(n,l),d!=null&&a.push(Di(n,d,f)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Tm=/\r\n?/g,Am=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Tm,`
`).replace(Am,"")}function yo(e,t,n){if(t=ac(t),ac(e)!==t&&n)throw Error(ee(425))}function Vo(){}var As=null,Ls=null;function zs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Is=typeof setTimeout=="function"?setTimeout:void 0,Lm=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,zm=typeof queueMicrotask=="function"?queueMicrotask:typeof cc<"u"?function(e){return cc.resolve(null).then(e).catch(Im)}:Is;function Im(e){setTimeout(function(){throw e})}function ql(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Li(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),xn="__reactFiber$"+ei,Bi="__reactProps$"+ei,zn="__reactContainer$"+ei,Os="__reactEvents$"+ei,Om="__reactListeners$"+ei,Dm="__reactHandles$"+ei;function ar(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zn]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fc(e);e!==null;){if(n=e[xn])return n;e=fc(e)}return t}e=n,n=e.parentNode}return null}function Yi(e){return e=e[xn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function fl(e){return e[Bi]||null}var Ds=[],Ar=-1;function ir(e){return{current:e}}function Ue(e){0>Ar||(e.current=Ds[Ar],Ds[Ar]=null,Ar--)}function Fe(e,t){Ar++,Ds[Ar]=e.current,e.current=t}var nr={},wt=ir(nr),Lt=ir(!1),pr=nr;function Gr(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zt(e){return e=e.childContextTypes,e!=null}function Xo(){Ue(Lt),Ue(wt)}function dc(e,t,n){if(wt.current!==nr)throw Error(ee(168));Fe(wt,t),Fe(Lt,n)}function id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ee(108,xp(e)||"Unknown",o));return be({},n,r)}function Go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,pr=wt.current,Fe(wt,e),Fe(Lt,Lt.current),!0}function hc(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=id(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,Ue(Lt),Ue(wt),Fe(wt,e)):Ue(Lt),Fe(Lt,n)}var Rn=null,dl=!1,es=!1;function od(e){Rn===null?Rn=[e]:Rn.push(e)}function Bm(e){dl=!0,od(e)}function or(){if(!es&&Rn!==null){es=!0;var e=0,t=Oe;try{var n=Rn;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rn=null,dl=!1}catch(o){throw Rn!==null&&(Rn=Rn.slice(e+1)),_f(pu,or),o}finally{Oe=t,es=!1}}return null}var Lr=[],zr=0,Qo=null,Yo=0,Qt=[],Yt=0,mr=null,_n=1,Tn="";function sr(e,t){Lr[zr++]=Yo,Lr[zr++]=Qo,Qo=e,Yo=t}function ld(e,t,n){Qt[Yt++]=_n,Qt[Yt++]=Tn,Qt[Yt++]=mr,mr=e;var r=_n;e=Tn;var o=32-un(r)-1;r&=~(1<<o),n+=1;var l=32-un(t)+o;if(30<l){var a=o-o%5;l=(r&(1<<a)-1).toString(32),r>>=a,o-=a,_n=1<<32-un(t)+o|n<<o|r,Tn=l+e}else _n=1<<l|n<<o|r,Tn=e}function Eu(e){e.return!==null&&(sr(e,1),ld(e,1,0))}function Cu(e){for(;e===Qo;)Qo=Lr[--zr],Lr[zr]=null,Yo=Lr[--zr],Lr[zr]=null;for(;e===mr;)mr=Qt[--Yt],Qt[Yt]=null,Tn=Qt[--Yt],Qt[Yt]=null,_n=Qt[--Yt],Qt[Yt]=null}var Bt=null,Dt=null,Ve=!1,ln=null;function sd(e,t){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Dt=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:_n,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Dt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fs(e){if(Ve){var t=Dt;if(t){var n=t;if(!pc(e,t)){if(Bs(e))throw Error(ee(418));t=bn(n.nextSibling);var r=Bt;t&&pc(e,t)?sd(r,n):(e.flags=e.flags&-4097|2,Ve=!1,Bt=e)}}else{if(Bs(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ve=!1,Bt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function go(e){if(e!==Bt)return!1;if(!Ve)return mc(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zs(e.type,e.memoizedProps)),t&&(t=Dt)){if(Bs(e))throw ud(),Error(ee(418));for(;t;)sd(e,t),t=bn(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Bt?bn(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=Dt;e;)e=bn(e.nextSibling)}function Qr(){Dt=Bt=null,Ve=!1}function ju(e){ln===null?ln=[e]:ln.push(e)}var Fm=Dn.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var f=o.refs;a===null?delete f[l]:f[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function ad(e){function t(M,S){if(e){var C=M.deletions;C===null?(M.deletions=[S],M.flags|=16):C.push(S)}}function n(M,S){if(!e)return null;for(;S!==null;)t(M,S),S=S.sibling;return null}function r(M,S){for(M=new Map;S!==null;)S.key!==null?M.set(S.key,S):M.set(S.index,S),S=S.sibling;return M}function o(M,S){return M=er(M,S),M.index=0,M.sibling=null,M}function l(M,S,C){return M.index=C,e?(C=M.alternate,C!==null?(C=C.index,C<S?(M.flags|=2,S):C):(M.flags|=2,S)):(M.flags|=1048576,S)}function a(M){return e&&M.alternate===null&&(M.flags|=2),M}function f(M,S,C,L){return S===null||S.tag!==6?(S=ss(C,M.mode,L),S.return=M,S):(S=o(S,C),S.return=M,S)}function d(M,S,C,L){var W=C.type;return W===Pr?I(M,S,C.props.children,L,C.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Hn&&vc(W)===S.type)?(L=o(S,C.props),L.ref=fi(M,S,C),L.return=M,L):(L=Io(C.type,C.key,C.props,null,M.mode,L),L.ref=fi(M,S,C),L.return=M,L)}function x(M,S,C,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=us(C,M.mode,L),S.return=M,S):(S=o(S,C.children||[]),S.return=M,S)}function I(M,S,C,L,W){return S===null||S.tag!==7?(S=hr(C,M.mode,L,W),S.return=M,S):(S=o(S,C),S.return=M,S)}function O(M,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=ss(""+S,M.mode,C),S.return=M,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case so:return C=Io(S.type,S.key,S.props,null,M.mode,C),C.ref=fi(M,null,S),C.return=M,C;case Mr:return S=us(S,M.mode,C),S.return=M,S;case Hn:var L=S._init;return O(M,L(S._payload),C)}if(vi(S)||li(S))return S=hr(S,M.mode,C,null),S.return=M,S;wo(M,S)}return null}function A(M,S,C,L){var W=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return W!==null?null:f(M,S,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case so:return C.key===W?d(M,S,C,L):null;case Mr:return C.key===W?x(M,S,C,L):null;case Hn:return W=C._init,A(M,S,W(C._payload),L)}if(vi(C)||li(C))return W!==null?null:I(M,S,C,L,null);wo(M,C)}return null}function Q(M,S,C,L,W){if(typeof L=="string"&&L!==""||typeof L=="number")return M=M.get(C)||null,f(S,M,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case so:return M=M.get(L.key===null?C:L.key)||null,d(S,M,L,W);case Mr:return M=M.get(L.key===null?C:L.key)||null,x(S,M,L,W);case Hn:var b=L._init;return Q(M,S,C,b(L._payload),W)}if(vi(L)||li(L))return M=M.get(C)||null,I(S,M,L,W,null);wo(S,L)}return null}function B(M,S,C,L){for(var W=null,b=null,F=S,H=S=0,he=null;F!==null&&H<C.length;H++){F.index>H?(he=F,F=null):he=F.sibling;var k=A(M,F,C[H],L);if(k===null){F===null&&(F=he);break}e&&F&&k.alternate===null&&t(M,F),S=l(k,S,H),b===null?W=k:b.sibling=k,b=k,F=he}if(H===C.length)return n(M,F),Ve&&sr(M,H),W;if(F===null){for(;H<C.length;H++)F=O(M,C[H],L),F!==null&&(S=l(F,S,H),b===null?W=F:b.sibling=F,b=F);return Ve&&sr(M,H),W}for(F=r(M,F);H<C.length;H++)he=Q(F,M,H,C[H],L),he!==null&&(e&&he.alternate!==null&&F.delete(he.key===null?H:he.key),S=l(he,S,H),b===null?W=he:b.sibling=he,b=he);return e&&F.forEach(function(T){return t(M,T)}),Ve&&sr(M,H),W}function te(M,S,C,L){var W=li(C);if(typeof W!="function")throw Error(ee(150));if(C=W.call(C),C==null)throw Error(ee(151));for(var b=W=null,F=S,H=S=0,he=null,k=C.next();F!==null&&!k.done;H++,k=C.next()){F.index>H?(he=F,F=null):he=F.sibling;var T=A(M,F,k.value,L);if(T===null){F===null&&(F=he);break}e&&F&&T.alternate===null&&t(M,F),S=l(T,S,H),b===null?W=T:b.sibling=T,b=T,F=he}if(k.done)return n(M,F),Ve&&sr(M,H),W;if(F===null){for(;!k.done;H++,k=C.next())k=O(M,k.value,L),k!==null&&(S=l(k,S,H),b===null?W=k:b.sibling=k,b=k);return Ve&&sr(M,H),W}for(F=r(M,F);!k.done;H++,k=C.next())k=Q(F,M,H,k.value,L),k!==null&&(e&&k.alternate!==null&&F.delete(k.key===null?H:k.key),S=l(k,S,H),b===null?W=k:b.sibling=k,b=k);return e&&F.forEach(function(J){return t(M,J)}),Ve&&sr(M,H),W}function se(M,S,C,L){if(typeof C=="object"&&C!==null&&C.type===Pr&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case so:e:{for(var W=C.key,b=S;b!==null;){if(b.key===W){if(W=C.type,W===Pr){if(b.tag===7){n(M,b.sibling),S=o(b,C.props.children),S.return=M,M=S;break e}}else if(b.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Hn&&vc(W)===b.type){n(M,b.sibling),S=o(b,C.props),S.ref=fi(M,b,C),S.return=M,M=S;break e}n(M,b);break}else t(M,b);b=b.sibling}C.type===Pr?(S=hr(C.props.children,M.mode,L,C.key),S.return=M,M=S):(L=Io(C.type,C.key,C.props,null,M.mode,L),L.ref=fi(M,S,C),L.return=M,M=L)}return a(M);case Mr:e:{for(b=C.key;S!==null;){if(S.key===b)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(M,S.sibling),S=o(S,C.children||[]),S.return=M,M=S;break e}else{n(M,S);break}else t(M,S);S=S.sibling}S=us(C,M.mode,L),S.return=M,M=S}return a(M);case Hn:return b=C._init,se(M,S,b(C._payload),L)}if(vi(C))return B(M,S,C,L);if(li(C))return te(M,S,C,L);wo(M,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(M,S.sibling),S=o(S,C),S.return=M,M=S):(n(M,S),S=ss(C,M.mode,L),S.return=M,M=S),a(M)):n(M,S)}return se}var Yr=ad(!0),cd=ad(!1),Ko=ir(null),bo=null,Ir=null,Mu=null;function Pu(){Mu=Ir=bo=null}function Nu(e){var t=Ko.current;Ue(Ko),e._currentValue=t}function Ws(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $r(e,t){bo=e,Mu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(bo===null)throw Error(ee(308));Ir=e,bo.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var cr=null;function Ru(e){cr===null?cr=[e]:cr.push(e)}function fd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ru(t)):(n.next=o.next,o.next=n),t.interleaved=n,In(e,r)}function In(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,In(e,n)}return o=r.interleaved,o===null?(t.next=t,Ru(r)):(t.next=o.next,o.next=t),r.interleaved=t,In(e,n)}function Ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mu(e,n)}}function yc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jo(e,t,n,r){var o=e.updateQueue;Un=!1;var l=o.firstBaseUpdate,a=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var d=f,x=d.next;d.next=null,a===null?l=x:a.next=x,a=d;var I=e.alternate;I!==null&&(I=I.updateQueue,f=I.lastBaseUpdate,f!==a&&(f===null?I.firstBaseUpdate=x:f.next=x,I.lastBaseUpdate=d))}if(l!==null){var O=o.baseState;a=0,I=x=d=null,f=l;do{var A=f.lane,Q=f.eventTime;if((r&A)===A){I!==null&&(I=I.next={eventTime:Q,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var B=e,te=f;switch(A=t,Q=n,te.tag){case 1:if(B=te.payload,typeof B=="function"){O=B.call(Q,O,A);break e}O=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=te.payload,A=typeof B=="function"?B.call(Q,O,A):B,A==null)break e;O=be({},O,A);break e;case 2:Un=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,A=o.effects,A===null?o.effects=[f]:A.push(f))}else Q={eventTime:Q,lane:A,tag:f.tag,payload:f.payload,callback:f.callback,next:null},I===null?(x=I=Q,d=O):I=I.next=Q,a|=A;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;A=f,f=A.next,A.next=null,o.lastBaseUpdate=A,o.shared.pending=null}}while(!0);if(I===null&&(d=O),o.baseState=d,o.firstBaseUpdate=x,o.lastBaseUpdate=I,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);yr|=a,e.lanes=a,e.memoizedState=O}}function gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ee(191,o));o.call(r)}}}var Ki={},En=ir(Ki),Fi=ir(Ki),Wi=ir(Ki);function fr(e){if(e===Ki)throw Error(ee(174));return e}function Tu(e,t){switch(Fe(Wi,t),Fe(Fi,e),Fe(En,Ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ss(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ss(t,e)}Ue(En),Fe(En,t)}function Kr(){Ue(En),Ue(Fi),Ue(Wi)}function hd(e){fr(Wi.current);var t=fr(En.current),n=Ss(t,e.type);t!==n&&(Fe(Fi,e),Fe(En,n))}function Au(e){Fi.current===e&&(Ue(En),Ue(Fi))}var Ye=ir(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function Lu(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var _o=Dn.ReactCurrentDispatcher,ns=Dn.ReactCurrentBatchConfig,vr=0,Ke=null,rt=null,lt=null,qo=!1,Ci=!1,Hi=0,Wm=0;function vt(){throw Error(ee(321))}function zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Iu(e,t,n,r,o,l){if(vr=l,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_o.current=e===null||e.memoizedState===null?Vm:Xm,e=n(r,o),Ci){l=0;do{if(Ci=!1,Hi=0,25<=l)throw Error(ee(301));l+=1,lt=rt=null,t.updateQueue=null,_o.current=Gm,e=n(r,o)}while(Ci)}if(_o.current=el,t=rt!==null&&rt.next!==null,vr=0,lt=rt=Ke=null,qo=!1,t)throw Error(ee(300));return e}function Ou(){var e=Hi!==0;return Hi=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ke.memoizedState=lt=e:lt=lt.next=e,lt}function Zt(){if(rt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=lt===null?Ke.memoizedState:lt.next;if(t!==null)lt=t,rt=e;else{if(e===null)throw Error(ee(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?Ke.memoizedState=lt=e:lt=lt.next=e}return lt}function Ui(e,t){return typeof t=="function"?t(e):t}function rs(e){var t=Zt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=rt,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var a=o.next;o.next=l.next,l.next=a}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var f=a=null,d=null,x=l;do{var I=x.lane;if((vr&I)===I)d!==null&&(d=d.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var O={lane:I,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};d===null?(f=d=O,a=r):d=d.next=O,Ke.lanes|=I,yr|=I}x=x.next}while(x!==null&&x!==l);d===null?a=r:d.next=f,cn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Ke.lanes|=l,yr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function is(e){var t=Zt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do l=e(l,a.action),a=a.next;while(a!==o);cn(l,t.memoizedState)||(At=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function pd(){}function md(e,t){var n=Ke,r=Zt(),o=t(),l=!cn(r.memoizedState,o);if(l&&(r.memoizedState=o,At=!0),r=r.queue,Du(gd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,$i(9,yd.bind(null,n,r,o,t),void 0,null),st===null)throw Error(ee(349));vr&30||vd(n,t,o)}return o}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&Sd(e)}function gd(e,t,n){return n(function(){wd(t)&&Sd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Sd(e){var t=In(e,1);t!==null&&an(t,e,1,-1)}function wc(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=$m.bind(null,Ke,e),[t.memoizedState,e]}function $i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xd(){return Zt().memoizedState}function To(e,t,n,r){var o=Sn();Ke.flags|=e,o.memoizedState=$i(1|t,n,void 0,r===void 0?null:r)}function hl(e,t,n,r){var o=Zt();r=r===void 0?null:r;var l=void 0;if(rt!==null){var a=rt.memoizedState;if(l=a.destroy,r!==null&&zu(r,a.deps)){o.memoizedState=$i(t,n,l,r);return}}Ke.flags|=e,o.memoizedState=$i(1|t,n,l,r)}function Sc(e,t){return To(8390656,8,e,t)}function Du(e,t){return hl(2048,8,e,t)}function kd(e,t){return hl(4,2,e,t)}function Ed(e,t){return hl(4,4,e,t)}function Cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,n){return n=n!=null?n.concat([e]):null,hl(4,4,Cd.bind(null,t,e),n)}function Bu(){}function Md(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pd(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nd(e,t,n){return vr&21?(cn(n,t)||(n=Lf(),Ke.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function Hm(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=ns.transition;ns.transition={};try{e(!1),t()}finally{Oe=n,ns.transition=r}}function Rd(){return Zt().memoizedState}function Um(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_d(e))Td(t,n);else if(n=fd(e,t,n,r),n!==null){var o=jt();an(n,e,r,o),Ad(n,t,r)}}function $m(e,t,n){var r=qn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_d(e))Td(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,f=l(a,n);if(o.hasEagerState=!0,o.eagerState=f,cn(f,a)){var d=t.interleaved;d===null?(o.next=o,Ru(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=fd(e,t,o,r),n!==null&&(o=jt(),an(n,e,r,o),Ad(n,t,r))}}function _d(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Td(e,t){Ci=qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ad(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mu(e,n)}}var el={readContext:Jt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Vm={readContext:Jt,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:Sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,To(4194308,4,Cd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Um.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:wc,useDebugValue:Bu,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=wc(!1),t=e[0];return e=Hm.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,o=Sn();if(Ve){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),st===null)throw Error(ee(349));vr&30||vd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Sc(gd.bind(null,r,l,e),[e]),r.flags|=2048,$i(9,yd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Sn(),t=st.identifierPrefix;if(Ve){var n=Tn,r=_n;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xm={readContext:Jt,useCallback:Md,useContext:Jt,useEffect:Du,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:Pd,useReducer:rs,useRef:xd,useState:function(){return rs(Ui)},useDebugValue:Bu,useDeferredValue:function(e){var t=Zt();return Nd(t,rt.memoizedState,e)},useTransition:function(){var e=rs(Ui)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Rd,unstable_isNewReconciler:!1},Gm={readContext:Jt,useCallback:Md,useContext:Jt,useEffect:Du,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:Pd,useReducer:is,useRef:xd,useState:function(){return is(Ui)},useDebugValue:Bu,useDeferredValue:function(e){var t=Zt();return rt===null?t.memoizedState=e:Nd(t,rt.memoizedState,e)},useTransition:function(){var e=is(Ui)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Rd,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),o=qn(e),l=An(r,o);l.payload=t,n!=null&&(l.callback=n),t=Jn(e,l,o),t!==null&&(an(t,e,o,r),Ro(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),o=qn(e),l=An(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Jn(e,l,o),t!==null&&(an(t,e,o,r),Ro(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=qn(e),o=An(n,r);o.tag=2,t!=null&&(o.callback=t),t=Jn(e,o,r),t!==null&&(an(t,e,r,n),Ro(t,e,r))}};function xc(e,t,n,r,o,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(o,l):!0}function Ld(e,t,n){var r=!1,o=nr,l=t.contextType;return typeof l=="object"&&l!==null?l=Jt(l):(o=zt(t)?pr:wt.current,r=t.contextTypes,l=(r=r!=null)?Gr(e,o):nr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function kc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Us(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},_u(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Jt(l):(l=zt(t)?pr:wt.current,o.context=Gr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Hs(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&pl.enqueueReplaceState(o,o.state,null),Jo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function br(e,t){try{var n="",r=t;do n+=Sp(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $s(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function zd(e,t,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,qs=r),$s(e,t)},n}function Id(e,t,n){n=An(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){$s(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){$s(e,t),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ec(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=sv.bind(null,e,t,n),t.then(e,e))}function Cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=An(-1,1),t.tag=2,Jn(n,t,1))),n.lanes|=1),e)}var Ym=Dn.ReactCurrentOwner,At=!1;function Ct(e,t,n,r){t.child=e===null?cd(t,null,n,r):Yr(t,e.child,n,r)}function Mc(e,t,n,r,o){n=n.render;var l=t.ref;return $r(t,o),r=Iu(e,t,n,r,l,o),n=Ou(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,On(e,t,o)):(Ve&&n&&Eu(t),t.flags|=1,Ct(e,t,r,o),t.child)}function Pc(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Gu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Od(e,t,l,r,o)):(e=Io(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(a,r)&&e.ref===t.ref)return On(e,t,o)}return t.flags|=1,e=er(l,r),e.ref=t.ref,e.return=t,t.child=e}function Od(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Ii(l,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,On(e,t,o)}return Vs(e,t,n,r,o)}function Dd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Dr,Ot),Ot|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Dr,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Fe(Dr,Ot),Ot|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Fe(Dr,Ot),Ot|=r;return Ct(e,t,o,n),t.child}function Bd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vs(e,t,n,r,o){var l=zt(n)?pr:wt.current;return l=Gr(t,l),$r(t,o),n=Iu(e,t,n,r,l,o),r=Ou(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,On(e,t,o)):(Ve&&r&&Eu(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Nc(e,t,n,r,o){if(zt(n)){var l=!0;Go(t)}else l=!1;if($r(t,o),t.stateNode===null)Ao(e,t),Ld(t,n,r),Us(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,f=t.memoizedProps;a.props=f;var d=a.context,x=n.contextType;typeof x=="object"&&x!==null?x=Jt(x):(x=zt(n)?pr:wt.current,x=Gr(t,x));var I=n.getDerivedStateFromProps,O=typeof I=="function"||typeof a.getSnapshotBeforeUpdate=="function";O||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==r||d!==x)&&kc(t,a,r,x),Un=!1;var A=t.memoizedState;a.state=A,Jo(t,r,a,o),d=t.memoizedState,f!==r||A!==d||Lt.current||Un?(typeof I=="function"&&(Hs(t,n,I,r),d=t.memoizedState),(f=Un||xc(t,n,f,r,A,d,x))?(O||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=x,r=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,dd(e,t),f=t.memoizedProps,x=t.type===t.elementType?f:rn(t.type,f),a.props=x,O=t.pendingProps,A=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Jt(d):(d=zt(n)?pr:wt.current,d=Gr(t,d));var Q=n.getDerivedStateFromProps;(I=typeof Q=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==O||A!==d)&&kc(t,a,r,d),Un=!1,A=t.memoizedState,a.state=A,Jo(t,r,a,o);var B=t.memoizedState;f!==O||A!==B||Lt.current||Un?(typeof Q=="function"&&(Hs(t,n,Q,r),B=t.memoizedState),(x=Un||xc(t,n,x,r,A,B,d)||!1)?(I||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,B,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,B,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),a.props=r,a.state=B,a.context=d,r=x):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return Xs(e,t,n,r,l,o)}function Xs(e,t,n,r,o,l){Bd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&hc(t,n,!1),On(e,t,l);r=t.stateNode,Ym.current=t;var f=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yr(t,e.child,null,l),t.child=Yr(t,null,f,l)):Ct(e,t,f,l),t.memoizedState=r.state,o&&hc(t,n,!0),t.child}function Fd(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),Tu(e,t.containerInfo)}function Rc(e,t,n,r,o){return Qr(),ju(o),t.flags|=256,Ct(e,t,n,r),t.child}var Gs={dehydrated:null,treeContext:null,retryLane:0};function Qs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,n){var r=t.pendingProps,o=Ye.current,l=!1,a=(t.flags&128)!==0,f;if((f=a)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Fe(Ye,o&1),e===null)return Fs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=yl(a,r,0,null),e=hr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Qs(n),t.memoizedState=Gs,e):Fu(t,a));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return Km(e,t,a,r,f,o,n);if(l){l=r.fallback,a=t.mode,o=e.child,f=o.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=er(o,d),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?l=er(f,l):(l=hr(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Qs(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Gs,r}return l=e.child,e=l.sibling,r=er(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fu(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function So(e,t,n,r){return r!==null&&ju(r),Yr(t,e.child,null,n),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,n,r,o,l,a){if(n)return t.flags&256?(t.flags&=-257,r=os(Error(ee(422))),So(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=yl({mode:"visible",children:r.children},o,0,null),l=hr(l,o,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Yr(t,e.child,null,a),t.child.memoizedState=Qs(a),t.memoizedState=Gs,l);if(!(t.mode&1))return So(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,l=Error(ee(419)),r=os(l,r,void 0),So(e,t,a,r)}if(f=(a&e.childLanes)!==0,At||f){if(r=st,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,In(e,o),an(r,e,o,-1))}return Xu(),r=os(Error(ee(421))),So(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=uv.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Dt=bn(o.nextSibling),Bt=t,Ve=!0,ln=null,e!==null&&(Qt[Yt++]=_n,Qt[Yt++]=Tn,Qt[Yt++]=mr,_n=e.id,Tn=e.overflow,mr=t),t=Fu(t,r.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ws(e.return,t,n)}function ls(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Hd(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Ct(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ls(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ls(t,!0,n,null,l);break;case"together":ls(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bm(e,t,n){switch(t.tag){case 3:Fd(t),Qr();break;case 5:hd(t);break;case 1:zt(t.type)&&Go(t);break;case 4:Tu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Fe(Ko,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?Wd(e,t,n):(Fe(Ye,Ye.current&1),e=On(e,t,n),e!==null?e.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Dd(e,t,n)}return On(e,t,n)}var Ud,Ys,$d,Vd;Ud=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ys=function(){};$d=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,fr(En.current);var l=null;switch(n){case"input":o=vs(e,o),r=vs(e,r),l=[];break;case"select":o=be({},o,{value:void 0}),r=be({},r,{value:void 0}),l=[];break;case"textarea":o=ws(e,o),r=ws(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vo)}xs(n,r);var a;n=null;for(x in o)if(!r.hasOwnProperty(x)&&o.hasOwnProperty(x)&&o[x]!=null)if(x==="style"){var f=o[x];for(a in f)f.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Ni.hasOwnProperty(x)?l||(l=[]):(l=l||[]).push(x,null));for(x in r){var d=r[x];if(f=o!=null?o[x]:void 0,r.hasOwnProperty(x)&&d!==f&&(d!=null||f!=null))if(x==="style")if(f){for(a in f)!f.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&f[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(l||(l=[]),l.push(x,n)),n=d;else x==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,f=f?f.__html:void 0,d!=null&&f!==d&&(l=l||[]).push(x,d)):x==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(x,""+d):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(x)?(d!=null&&x==="onScroll"&&He("scroll",e),l||f===d||(l=[])):(l=l||[]).push(x,d))}n&&(l=l||[]).push("style",n);var x=l;(t.updateQueue=x)&&(t.flags|=4)}};Vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function di(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jm(e,t,n){var r=t.pendingProps;switch(Cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return zt(t.type)&&Xo(),yt(t),null;case 3:return r=t.stateNode,Kr(),Ue(Lt),Ue(wt),Lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(nu(ln),ln=null))),Ys(e,t),yt(t),null;case 5:Au(t);var o=fr(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)$d(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return yt(t),null}if(e=fr(En.current),go(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[xn]=t,r[Bi]=l,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<gi.length;o++)He(gi[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Fa(r,l),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},He("invalid",r);break;case"textarea":Ha(r,l),He("invalid",r)}xs(n,l),o=null;for(var a in l)if(l.hasOwnProperty(a)){var f=l[a];a==="children"?typeof f=="string"?r.textContent!==f&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,f,e),o=["children",""+f]):Ni.hasOwnProperty(a)&&f!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":uo(r),Wa(r,l,!0);break;case"textarea":uo(r),Ua(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Vo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xn]=t,e[Bi]=r,Ud(e,t,!1,!1),t.stateNode=e;e:{switch(a=ks(n,r),n){case"dialog":He("cancel",e),He("close",e),o=r;break;case"iframe":case"object":case"embed":He("load",e),o=r;break;case"video":case"audio":for(o=0;o<gi.length;o++)He(gi[o],e);o=r;break;case"source":He("error",e),o=r;break;case"img":case"image":case"link":He("error",e),He("load",e),o=r;break;case"details":He("toggle",e),o=r;break;case"input":Fa(e,r),o=vs(e,r),He("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=be({},r,{value:void 0}),He("invalid",e);break;case"textarea":Ha(e,r),o=ws(e,r),He("invalid",e);break;default:o=r}xs(n,o),f=o;for(l in f)if(f.hasOwnProperty(l)){var d=f[l];l==="style"?xf(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&wf(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ri(e,d):typeof d=="number"&&Ri(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ni.hasOwnProperty(l)?d!=null&&l==="onScroll"&&He("scroll",e):d!=null&&au(e,l,d,a))}switch(n){case"input":uo(e),Wa(e,r,!1);break;case"textarea":uo(e),Ua(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Fr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Fr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=fr(Wi.current),fr(En.current),go(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(l=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return yt(t),null;case 13:if(Ue(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Dt!==null&&t.mode&1&&!(t.flags&128))ud(),Qr(),t.flags|=98560,l=!1;else if(l=go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(ee(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ee(317));l[xn]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),l=!1}else ln!==null&&(nu(ln),ln=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?it===0&&(it=3):Xu())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Kr(),Ys(e,t),e===null&&Oi(t.stateNode.containerInfo),yt(t),null;case 10:return Nu(t.type._context),yt(t),null;case 17:return zt(t.type)&&Xo(),yt(t),null;case 19:if(Ue(Ye),l=t.memoizedState,l===null)return yt(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)di(l,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zo(e),a!==null){for(t.flags|=128,di(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&tt()>Jr&&(t.flags|=128,r=!0,di(l,!1),t.lanes=4194304)}else{if(!r)if(e=Zo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),di(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!Ve)return yt(t),null}else 2*tt()-l.renderingStartTime>Jr&&n!==1073741824&&(t.flags|=128,r=!0,di(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tt(),t.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return Vu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Zm(e,t){switch(Cu(t),t.tag){case 1:return zt(t.type)&&Xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),Ue(Lt),Ue(wt),Lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Au(t),null;case 13:if(Ue(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ye),null;case 4:return Kr(),null;case 10:return Nu(t.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var xo=!1,gt=!1,qm=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Ks(e,t,n){try{n()}catch(r){qe(e,t,r)}}var Tc=!1;function ev(e,t){if(As=Ho,e=Kf(),ku(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,f=-1,d=-1,x=0,I=0,O=e,A=null;t:for(;;){for(var Q;O!==n||o!==0&&O.nodeType!==3||(f=a+o),O!==l||r!==0&&O.nodeType!==3||(d=a+r),O.nodeType===3&&(a+=O.nodeValue.length),(Q=O.firstChild)!==null;)A=O,O=Q;for(;;){if(O===e)break t;if(A===n&&++x===o&&(f=a),A===l&&++I===r&&(d=a),(Q=O.nextSibling)!==null)break;O=A,A=O.parentNode}O=Q}n=f===-1||d===-1?null:{start:f,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ls={focusedElem:e,selectionRange:n},Ho=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var te=B.memoizedProps,se=B.memoizedState,M=t.stateNode,S=M.getSnapshotBeforeUpdate(t.elementType===t.type?te:rn(t.type,te),se);M.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(L){qe(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return B=Tc,Tc=!1,B}function ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ks(t,n,l)}o=o.next}while(o!==r)}}function ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xd(e){var t=e.alternate;t!==null&&(e.alternate=null,Xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Bi],delete t[Os],delete t[Om],delete t[Dm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gd(e){return e.tag===5||e.tag===3||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vo));else if(r!==4&&(e=e.child,e!==null))for(Js(e,t,n),e=e.sibling;e!==null;)Js(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zs(e,t,n),e=e.sibling;e!==null;)Zs(e,t,n),e=e.sibling}var dt=null,on=!1;function Wn(e,t,n){for(n=n.child;n!==null;)Qd(e,t,n),n=n.sibling}function Qd(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(sl,n)}catch{}switch(n.tag){case 5:gt||Or(n,t);case 6:var r=dt,o=on;dt=null,Wn(e,t,n),dt=r,on=o,dt!==null&&(on?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(on?(e=dt,n=n.stateNode,e.nodeType===8?ql(e.parentNode,n):e.nodeType===1&&ql(e,n),Li(e)):ql(dt,n.stateNode));break;case 4:r=dt,o=on,dt=n.stateNode.containerInfo,on=!0,Wn(e,t,n),dt=r,on=o;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Ks(n,t,a),o=o.next}while(o!==r)}Wn(e,t,n);break;case 1:if(!gt&&(Or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){qe(n,t,f)}Wn(e,t,n);break;case 21:Wn(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Wn(e,t,n),gt=r):Wn(e,t,n);break;default:Wn(e,t,n)}}function Lc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qm),t.forEach(function(r){var o=av.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,a=t,f=a;e:for(;f!==null;){switch(f.tag){case 5:dt=f.stateNode,on=!1;break e;case 3:dt=f.stateNode.containerInfo,on=!0;break e;case 4:dt=f.stateNode.containerInfo,on=!0;break e}f=f.return}if(dt===null)throw Error(ee(160));Qd(l,a,o),dt=null,on=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(x){qe(o,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}function Yd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),vn(e),r&4){try{ji(3,e,e.return),ml(3,e)}catch(te){qe(e,e.return,te)}try{ji(5,e,e.return)}catch(te){qe(e,e.return,te)}}break;case 1:nn(t,e),vn(e),r&512&&n!==null&&Or(n,n.return);break;case 5:if(nn(t,e),vn(e),r&512&&n!==null&&Or(n,n.return),e.flags&32){var o=e.stateNode;try{Ri(o,"")}catch(te){qe(e,e.return,te)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,f=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&vf(o,l),ks(f,a);var x=ks(f,l);for(a=0;a<d.length;a+=2){var I=d[a],O=d[a+1];I==="style"?xf(o,O):I==="dangerouslySetInnerHTML"?wf(o,O):I==="children"?Ri(o,O):au(o,I,O,x)}switch(f){case"input":ys(o,l);break;case"textarea":yf(o,l);break;case"select":var A=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var Q=l.value;Q!=null?Fr(o,!!l.multiple,Q,!1):A!==!!l.multiple&&(l.defaultValue!=null?Fr(o,!!l.multiple,l.defaultValue,!0):Fr(o,!!l.multiple,l.multiple?[]:"",!1))}o[Bi]=l}catch(te){qe(e,e.return,te)}}break;case 6:if(nn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(ee(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(te){qe(e,e.return,te)}}break;case 3:if(nn(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(te){qe(e,e.return,te)}break;case 4:nn(t,e),vn(e);break;case 13:nn(t,e),vn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Uu=tt())),r&4&&Lc(e);break;case 22:if(I=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(x=gt)||I,nn(t,e),gt=x):nn(t,e),vn(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!I&&e.mode&1)for(pe=e,I=e.child;I!==null;){for(O=pe=I;pe!==null;){switch(A=pe,Q=A.child,A.tag){case 0:case 11:case 14:case 15:ji(4,A,A.return);break;case 1:Or(A,A.return);var B=A.stateNode;if(typeof B.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(te){qe(r,n,te)}}break;case 5:Or(A,A.return);break;case 22:if(A.memoizedState!==null){Ic(O);continue}}Q!==null?(Q.return=A,pe=Q):Ic(O)}I=I.sibling}e:for(I=null,O=e;;){if(O.tag===5){if(I===null){I=O;try{o=O.stateNode,x?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=O.stateNode,d=O.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,f.style.display=Sf("display",a))}catch(te){qe(e,e.return,te)}}}else if(O.tag===6){if(I===null)try{O.stateNode.nodeValue=x?"":O.memoizedProps}catch(te){qe(e,e.return,te)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;I===O&&(I=null),O=O.return}I===O&&(I=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:nn(t,e),vn(e),r&4&&Lc(e);break;case 21:break;default:nn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gd(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ri(o,""),r.flags&=-33);var l=Ac(e);Zs(e,l,o);break;case 3:case 4:var a=r.stateNode.containerInfo,f=Ac(e);Js(e,f,a);break;default:throw Error(ee(161))}}catch(d){qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tv(e,t,n){pe=e,Kd(e)}function Kd(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var o=pe,l=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||xo;if(!a){var f=o.alternate,d=f!==null&&f.memoizedState!==null||gt;f=xo;var x=gt;if(xo=a,(gt=d)&&!x)for(pe=o;pe!==null;)a=pe,d=a.child,a.tag===22&&a.memoizedState!==null?Oc(o):d!==null?(d.return=a,pe=d):Oc(o);for(;l!==null;)pe=l,Kd(l),l=l.sibling;pe=o,xo=f,gt=x}zc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,pe=l):zc(e)}}function zc(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&gc(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gc(t,a,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var I=x.memoizedState;if(I!==null){var O=I.dehydrated;O!==null&&Li(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}gt||t.flags&512&&bs(t)}catch(A){qe(t,t.return,A)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Ic(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Oc(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ml(4,t)}catch(d){qe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){qe(t,o,d)}}var l=t.return;try{bs(t)}catch(d){qe(t,l,d)}break;case 5:var a=t.return;try{bs(t)}catch(d){qe(t,a,d)}}}catch(d){qe(t,t.return,d)}if(t===e){pe=null;break}var f=t.sibling;if(f!==null){f.return=t.return,pe=f;break}pe=t.return}}var nv=Math.ceil,tl=Dn.ReactCurrentDispatcher,Wu=Dn.ReactCurrentOwner,bt=Dn.ReactCurrentBatchConfig,Le=0,st=null,nt=null,ht=0,Ot=0,Dr=ir(0),it=0,Vi=null,yr=0,vl=0,Hu=0,Mi=null,Tt=null,Uu=0,Jr=1/0,Nn=null,nl=!1,qs=null,Zn=null,ko=!1,Gn=null,rl=0,Pi=0,eu=null,Lo=-1,zo=0;function jt(){return Le&6?tt():Lo!==-1?Lo:Lo=tt()}function qn(e){return e.mode&1?Le&2&&ht!==0?ht&-ht:Fm.transition!==null?(zo===0&&(zo=Lf()),zo):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Wf(e.type)),e):1}function an(e,t,n,r){if(50<Pi)throw Pi=0,eu=null,Error(ee(185));Gi(e,n,r),(!(Le&2)||e!==st)&&(e===st&&(!(Le&2)&&(vl|=n),it===4&&Vn(e,ht)),It(e,r),n===1&&Le===0&&!(t.mode&1)&&(Jr=tt()+500,dl&&or()))}function It(e,t){var n=e.callbackNode;Fp(e,t);var r=Wo(e,e===st?ht:0);if(r===0)n!==null&&Xa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xa(n),t===1)e.tag===0?Bm(Dc.bind(null,e)):od(Dc.bind(null,e)),zm(function(){!(Le&6)&&or()}),n=null;else{switch(zf(r)){case 1:n=pu;break;case 4:n=Tf;break;case 16:n=Fo;break;case 536870912:n=Af;break;default:n=Fo}n=rh(n,bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bd(e,t){if(Lo=-1,zo=0,Le&6)throw Error(ee(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var r=Wo(e,e===st?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var o=Le;Le|=2;var l=Zd();(st!==e||ht!==t)&&(Nn=null,Jr=tt()+500,dr(e,t));do try{ov();break}catch(f){Jd(e,f)}while(!0);Pu(),tl.current=l,Le=o,nt!==null?t=0:(st=null,ht=0,t=it)}if(t!==0){if(t===2&&(o=Ps(e),o!==0&&(r=o,t=tu(e,o))),t===1)throw n=Vi,dr(e,0),Vn(e,r),It(e,tt()),n;if(t===6)Vn(e,r);else{if(o=e.current.alternate,!(r&30)&&!rv(o)&&(t=il(e,r),t===2&&(l=Ps(e),l!==0&&(r=l,t=tu(e,l))),t===1))throw n=Vi,dr(e,0),Vn(e,r),It(e,tt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:ur(e,Tt,Nn);break;case 3:if(Vn(e,r),(r&130023424)===r&&(t=Uu+500-tt(),10<t)){if(Wo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Is(ur.bind(null,e,Tt,Nn),t);break}ur(e,Tt,Nn);break;case 4:if(Vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-un(r);l=1<<a,a=t[a],a>o&&(o=a),r&=~l}if(r=o,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nv(r/1960))-r,10<r){e.timeoutHandle=Is(ur.bind(null,e,Tt,Nn),r);break}ur(e,Tt,Nn);break;case 5:ur(e,Tt,Nn);break;default:throw Error(ee(329))}}}return It(e,tt()),e.callbackNode===n?bd.bind(null,e):null}function tu(e,t){var n=Mi;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=il(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&nu(t)),e}function nu(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function rv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!cn(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~Hu,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function Dc(e){if(Le&6)throw Error(ee(327));Vr();var t=Wo(e,0);if(!(t&1))return It(e,tt()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Ps(e);r!==0&&(t=r,n=tu(e,r))}if(n===1)throw n=Vi,dr(e,0),Vn(e,t),It(e,tt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ur(e,Tt,Nn),It(e,tt()),null}function $u(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(Jr=tt()+500,dl&&or())}}function gr(e){Gn!==null&&Gn.tag===0&&!(Le&6)&&Vr();var t=Le;Le|=1;var n=bt.transition,r=Oe;try{if(bt.transition=null,Oe=1,e)return e()}finally{Oe=r,bt.transition=n,Le=t,!(Le&6)&&or()}}function Vu(){Ot=Dr.current,Ue(Dr)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lm(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xo();break;case 3:Kr(),Ue(Lt),Ue(wt),Lu();break;case 5:Au(r);break;case 4:Kr();break;case 13:Ue(Ye);break;case 19:Ue(Ye);break;case 10:Nu(r.type._context);break;case 22:case 23:Vu()}n=n.return}if(st=e,nt=e=er(e.current,null),ht=Ot=t,it=0,Vi=null,Hu=vl=yr=0,Tt=Mi=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=o,r.next=a}n.pending=r}cr=null}return e}function Jd(e,t){do{var n=nt;try{if(Pu(),_o.current=el,qo){for(var r=Ke.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qo=!1}if(vr=0,lt=rt=Ke=null,Ci=!1,Hi=0,Wu.current=null,n===null||n.return===null){it=1,Vi=t,nt=null;break}e:{var l=e,a=n.return,f=n,d=t;if(t=ht,f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var x=d,I=f,O=I.tag;if(!(I.mode&1)&&(O===0||O===11||O===15)){var A=I.alternate;A?(I.updateQueue=A.updateQueue,I.memoizedState=A.memoizedState,I.lanes=A.lanes):(I.updateQueue=null,I.memoizedState=null)}var Q=Cc(a);if(Q!==null){Q.flags&=-257,jc(Q,a,f,l,t),Q.mode&1&&Ec(l,x,t),t=Q,d=x;var B=t.updateQueue;if(B===null){var te=new Set;te.add(d),t.updateQueue=te}else B.add(d);break e}else{if(!(t&1)){Ec(l,x,t),Xu();break e}d=Error(ee(426))}}else if(Ve&&f.mode&1){var se=Cc(a);if(se!==null){!(se.flags&65536)&&(se.flags|=256),jc(se,a,f,l,t),ju(br(d,f));break e}}l=d=br(d,f),it!==4&&(it=2),Mi===null?Mi=[l]:Mi.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var M=zd(l,d,t);yc(l,M);break e;case 1:f=d;var S=l.type,C=l.stateNode;if(!(l.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zn===null||!Zn.has(C)))){l.flags|=65536,t&=-t,l.lanes|=t;var L=Id(l,f,t);yc(l,L);break e}}l=l.return}while(l!==null)}eh(n)}catch(W){t=W,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Zd(){var e=tl.current;return tl.current=el,e===null?el:e}function Xu(){(it===0||it===3||it===2)&&(it=4),st===null||!(yr&268435455)&&!(vl&268435455)||Vn(st,ht)}function il(e,t){var n=Le;Le|=2;var r=Zd();(st!==e||ht!==t)&&(Nn=null,dr(e,t));do try{iv();break}catch(o){Jd(e,o)}while(!0);if(Pu(),Le=n,tl.current=r,nt!==null)throw Error(ee(261));return st=null,ht=0,it}function iv(){for(;nt!==null;)qd(nt)}function ov(){for(;nt!==null&&!_p();)qd(nt)}function qd(e){var t=nh(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?eh(e):nt=t,Wu.current=null}function eh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zm(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,nt=null;return}}else if(n=Jm(n,t,Ot),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);it===0&&(it=5)}function ur(e,t,n){var r=Oe,o=bt.transition;try{bt.transition=null,Oe=1,lv(e,t,n,r)}finally{bt.transition=o,Oe=r}return null}function lv(e,t,n,r){do Vr();while(Gn!==null);if(Le&6)throw Error(ee(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Wp(e,l),e===st&&(nt=st=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ko||(ko=!0,rh(Fo,function(){return Vr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var a=Oe;Oe=1;var f=Le;Le|=4,Wu.current=null,ev(e,n),Yd(n,e),Mm(Ls),Ho=!!As,Ls=As=null,e.current=n,tv(n),Tp(),Le=f,Oe=a,bt.transition=l}else e.current=n;if(ko&&(ko=!1,Gn=e,rl=o),l=e.pendingLanes,l===0&&(Zn=null),zp(n.stateNode),It(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(nl)throw nl=!1,e=qs,qs=null,e;return rl&1&&e.tag!==0&&Vr(),l=e.pendingLanes,l&1?e===eu?Pi++:(Pi=0,eu=e):Pi=0,or(),null}function Vr(){if(Gn!==null){var e=zf(rl),t=bt.transition,n=Oe;try{if(bt.transition=null,Oe=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,rl=0,Le&6)throw Error(ee(331));var o=Le;for(Le|=4,pe=e.current;pe!==null;){var l=pe,a=l.child;if(pe.flags&16){var f=l.deletions;if(f!==null){for(var d=0;d<f.length;d++){var x=f[d];for(pe=x;pe!==null;){var I=pe;switch(I.tag){case 0:case 11:case 15:ji(8,I,l)}var O=I.child;if(O!==null)O.return=I,pe=O;else for(;pe!==null;){I=pe;var A=I.sibling,Q=I.return;if(Xd(I),I===x){pe=null;break}if(A!==null){A.return=Q,pe=A;break}pe=Q}}}var B=l.alternate;if(B!==null){var te=B.child;if(te!==null){B.child=null;do{var se=te.sibling;te.sibling=null,te=se}while(te!==null)}}pe=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,pe=a;else e:for(;pe!==null;){if(l=pe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ji(9,l,l.return)}var M=l.sibling;if(M!==null){M.return=l.return,pe=M;break e}pe=l.return}}var S=e.current;for(pe=S;pe!==null;){a=pe;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,pe=C;else e:for(a=S;pe!==null;){if(f=pe,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:ml(9,f)}}catch(W){qe(f,f.return,W)}if(f===a){pe=null;break e}var L=f.sibling;if(L!==null){L.return=f.return,pe=L;break e}pe=f.return}}if(Le=o,or(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(sl,e)}catch{}r=!0}return r}finally{Oe=n,bt.transition=t}}return!1}function Bc(e,t,n){t=br(n,t),t=zd(e,t,1),e=Jn(e,t,1),t=jt(),e!==null&&(Gi(e,1,t),It(e,t))}function qe(e,t,n){if(e.tag===3)Bc(e,e,n);else for(;t!==null;){if(t.tag===3){Bc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=br(n,e),e=Id(t,e,1),t=Jn(t,e,1),e=jt(),t!==null&&(Gi(t,1,e),It(t,e));break}}t=t.return}}function sv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(ht&n)===n&&(it===4||it===3&&(ht&130023424)===ht&&500>tt()-Uu?dr(e,0):Hu|=n),It(e,t)}function th(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=jt();e=In(e,t),e!==null&&(Gi(e,t,n),It(e,n))}function uv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),th(e,n)}function av(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),th(e,n)}var nh;nh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,bm(e,t,n);At=!!(e.flags&131072)}else At=!1,Ve&&t.flags&1048576&&ld(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var o=Gr(t,wt.current);$r(t,n),o=Iu(null,t,r,e,o,n);var l=Ou();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(l=!0,Go(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_u(t),o.updater=pl,t.stateNode=o,o._reactInternals=t,Us(t,r,e,n),t=Xs(null,t,r,!0,l,n)):(t.tag=0,Ve&&l&&Eu(t),Ct(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=fv(r),e=rn(r,e),o){case 0:t=Vs(null,t,r,e,n);break e;case 1:t=Nc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=Pc(null,t,r,rn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Vs(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Nc(e,t,r,o,n);case 3:e:{if(Fd(t),e===null)throw Error(ee(387));r=t.pendingProps,l=t.memoizedState,o=l.element,dd(e,t),Jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=br(Error(ee(423)),t),t=Rc(e,t,r,n,o);break e}else if(r!==o){o=br(Error(ee(424)),t),t=Rc(e,t,r,n,o);break e}else for(Dt=bn(t.stateNode.containerInfo.firstChild),Bt=t,Ve=!0,ln=null,n=cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),r===o){t=On(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&Fs(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,a=o.children,zs(r,o)?a=null:l!==null&&zs(r,l)&&(t.flags|=32),Bd(e,t),Ct(e,t,a,n),t.child;case 6:return e===null&&Fs(t),null;case 13:return Wd(e,t,n);case 4:return Tu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Mc(e,t,r,o,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value,Fe(Ko,r._currentValue),r._currentValue=a,l!==null)if(cn(l.value,a)){if(l.children===o.children&&!Lt.current){t=On(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){a=l.child;for(var d=f.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=An(-1,n&-n),d.tag=2;var x=l.updateQueue;if(x!==null){x=x.shared;var I=x.pending;I===null?d.next=d:(d.next=I.next,I.next=d),x.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Ws(l.return,n,t),f.lanes|=n;break}d=d.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(ee(341));a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Ws(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Ct(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$r(t,n),o=Jt(o),r=r(o),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,o=rn(r,t.pendingProps),o=rn(r.type,o),Pc(e,t,r,o,n);case 15:return Od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rn(r,o),Ao(e,t),t.tag=1,zt(r)?(e=!0,Go(t)):e=!1,$r(t,n),Ld(t,r,o),Us(t,r,o,n),Xs(null,t,r,!0,e,n);case 19:return Hd(e,t,n);case 22:return Dd(e,t,n)}throw Error(ee(156,t.tag))};function rh(e,t){return _f(e,t)}function cv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,n,r){return new cv(e,t,n,r)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fv(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fu)return 11;if(e===du)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=Kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Io(e,t,n,r,o,l){var a=2;if(r=e,typeof e=="function")Gu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pr:return hr(n.children,o,l,t);case cu:a=8,o|=8;break;case ds:return e=Kt(12,n,t,o|2),e.elementType=ds,e.lanes=l,e;case hs:return e=Kt(13,n,t,o),e.elementType=hs,e.lanes=l,e;case ps:return e=Kt(19,n,t,o),e.elementType=ps,e.lanes=l,e;case hf:return yl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ff:a=10;break e;case df:a=9;break e;case fu:a=11;break e;case du:a=14;break e;case Hn:a=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Kt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function hr(e,t,n,r){return e=Kt(7,e,r,t),e.lanes=n,e}function yl(e,t,n,r){return e=Kt(22,e,r,t),e.elementType=hf,e.lanes=n,e.stateNode={isHidden:!1},e}function ss(e,t,n){return e=Kt(6,e,null,t),e.lanes=n,e}function us(e,t,n){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Qu(e,t,n,r,o,l,a,f,d){return e=new dv(e,t,n,f,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Kt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_u(l),e}function hv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ih(e){if(!e)return nr;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(zt(n))return id(e,n,t)}return t}function oh(e,t,n,r,o,l,a,f,d){return e=Qu(n,r,!0,e,o,l,a,f,d),e.context=ih(null),n=e.current,r=jt(),o=qn(n),l=An(r,o),l.callback=t??null,Jn(n,l,o),e.current.lanes=o,Gi(e,o,r),It(e,r),e}function gl(e,t,n,r){var o=t.current,l=jt(),a=qn(o);return n=ih(n),t.context===null?t.context=n:t.pendingContext=n,t=An(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jn(o,t,a),e!==null&&(an(e,o,a,l),Ro(e,o,a)),a}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yu(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function pv(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}wl.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));gl(e,t,null,null)};wl.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){gl(null,e,null,null)}),t[zn]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Df();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&Ff(e)}};function bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function mv(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var x=ol(a);l.call(x)}}var a=oh(t,r,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=a,e[zn]=a.current,Oi(e.nodeType===8?e.parentNode:e),gr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var x=ol(d);f.call(x)}}var d=Qu(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=d,e[zn]=d.current,Oi(e.nodeType===8?e.parentNode:e),gr(function(){gl(t,d,n,r)}),d}function xl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var a=l;if(typeof o=="function"){var f=o;o=function(){var d=ol(a);f.call(d)}}gl(t,a,e,o)}else a=mv(n,t,e,o,r);return ol(a)}If=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(mu(t,n|1),It(t,tt()),!(Le&6)&&(Jr=tt()+500,or()))}break;case 13:gr(function(){var r=In(e,1);if(r!==null){var o=jt();an(r,e,1,o)}}),Yu(e,1)}};vu=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var n=jt();an(t,e,134217728,n)}Yu(e,134217728)}};Of=function(e){if(e.tag===13){var t=qn(e),n=In(e,t);if(n!==null){var r=jt();an(n,e,t,r)}Yu(e,t)}};Df=function(){return Oe};Bf=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Cs=function(e,t,n){switch(t){case"input":if(ys(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fl(r);if(!o)throw Error(ee(90));mf(r),ys(r,o)}}}break;case"textarea":yf(e,n);break;case"select":t=n.value,t!=null&&Fr(e,!!n.multiple,t,!1)}};Cf=$u;jf=gr;var vv={usingClientEntryPoint:!1,Events:[Yi,Tr,fl,kf,Ef,$u]},hi={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yv={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nf(e),e===null?null:e.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{sl=Eo.inject(yv),kn=Eo}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(t))throw Error(ee(200));return hv(e,t,null,n)};Wt.createRoot=function(e,t){if(!bu(e))throw Error(ee(299));var n=!1,r="",o=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Qu(e,1,!1,null,null,n,!1,r,o),e[zn]=t.current,Oi(e.nodeType===8?e.parentNode:e),new Ku(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Nf(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return gr(e)};Wt.hydrate=function(e,t,n){if(!Sl(t))throw Error(ee(200));return xl(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!bu(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",a=lh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=oh(t,null,e,1,n??null,o,!1,l,a),e[zn]=t.current,Oi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new wl(t)};Wt.render=function(e,t,n){if(!Sl(t))throw Error(ee(200));return xl(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(ee(40));return e._reactRootContainer?(gr(function(){xl(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};Wt.unstable_batchedUpdates=$u;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return xl(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(e){console.error(e)}}sh(),sf.exports=Wt;var gv=sf.exports,Hc=gv;cs.createRoot=Hc.createRoot,cs.hydrateRoot=Hc.hydrateRoot;function wv({onStart:e}){const[t,n]=_.useState("1"),[r,o]=_.useState("individual"),[l,a]=_.useState("5"),f=()=>{if(!t||!l){alert("Please fill in all fields");return}const x={id:t,condition:r,timeSeconds:parseInt(l)*60,date:new Date().toISOString().replace("T"," ").substring(0,19)};e(x)},d=()=>{window.close()};return w.jsx("div",{className:"dialog-overlay",children:w.jsxs("div",{className:"dialog-box",children:[w.jsx("h2",{children:"The Creative Game"}),w.jsxs("div",{className:"dialog-field",children:[w.jsx("label",{children:"ID:"}),w.jsx("input",{type:"text",value:t,onChange:x=>n(x.target.value)})]}),w.jsxs("div",{className:"dialog-field",children:[w.jsx("label",{children:"Condition:"}),w.jsxs("select",{value:r,onChange:x=>o(x.target.value),children:[w.jsx("option",{value:"individual",children:"individual"}),w.jsx("option",{value:"group",children:"group"})]})]}),w.jsxs("div",{className:"dialog-field",children:[w.jsx("label",{children:"Time (in minutes):"}),w.jsx("input",{type:"number",value:l,onChange:x=>a(x.target.value),min:"1"})]}),w.jsxs("div",{className:"dialog-buttons",children:[w.jsx("button",{className:"dialog-button",onClick:()=>{window.location.hash="/calibrate"},children:"Calibrate Colors"}),w.jsx("button",{className:"dialog-button ok",onClick:f,children:"OK"}),w.jsx("button",{className:"dialog-button cancel",onClick:d,children:"Cancel"})]})]})})}class Sv{constructor(t){this.subjectId=t,this.logs=[],this.header=["date","id","condition","phase","type","time","unit","end_position","all_positions","gallery_shape_number","gallery","gallery_normalized"]}write(t){this.logs.push(t),this.saveToLocalStorage()}saveToLocalStorage(){const t=`creativeForaging_${this.subjectId}`;localStorage.setItem(t,JSON.stringify(this.logs))}loadFromLocalStorage(){const t=`creativeForaging_${this.subjectId}`,n=localStorage.getItem(t);n&&(this.logs=JSON.parse(n))}downloadCSV(){const t=[this.header.join(",")];this.logs.forEach(d=>{const x=this.header.map(I=>{const O=d[I];return O==null||O===""?"":Array.isArray(O)||typeof O=="object"?`"${JSON.stringify(O).replace(/"/g,'""')}"`:`"${String(O).replace(/"/g,'""')}"`});t.push(x.join(","))});const n=t.join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(r),f=new Date().toISOString().replace("T"," ").substring(0,19);o.setAttribute("href",l),o.setAttribute("download",`${this.subjectId} (${f}).csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}clear(){this.logs=[];const t=`creativeForaging_${this.subjectId}`;localStorage.removeItem(t)}}const sn=.07,Uc=()=>[[-.315,0],[-.245,0],[-.175,0],[-.105,0],[-.035,0],[.035,0],[.105,0],[.175,0],[.245,0],[.315,0]].map((t,n)=>({id:n,position:[...t],neighbors:[],canMove:!1})),Qe=e=>Math.round(e*1e3)/1e3,xv=(e,t)=>{let n=[];e.forEach(l=>{if(l.id!==t){const a=[[Qe(l.position[0]-sn),Qe(l.position[1])],[Qe(l.position[0]+sn),Qe(l.position[1])],[Qe(l.position[0]),Qe(l.position[1]-sn)],[Qe(l.position[0]),Qe(l.position[1]+sn)]];n.push(...a)}});const r=new Set(n.map(l=>`${l[0]},${l[1]}`));n=Array.from(r).map(l=>l.split(",").map(Number));const o=e.map(l=>`${l.position[0]},${l.position[1]}`);return n=n.filter(l=>!o.includes(`${l[0]},${l[1]}`)),n=n.filter(l=>l[0]<.735&&l[0]>-.735&&l[1]<.49&&l[1]>-.49),n},kv=(e,t)=>{if(e.length===0)return t;let n=1/0,r=e[0];return e.forEach(o=>{const l=Math.sqrt(Math.pow(o[0]-t[0],2)+Math.pow(o[1]-t[1],2));l<n&&(n=l,r=o)}),r},$c=e=>e.map(t=>{const n=[],r=[[Qe(t.position[0]-sn),Qe(t.position[1])],[Qe(t.position[0]+sn),Qe(t.position[1])],[Qe(t.position[0]),Qe(t.position[1]-sn)],[Qe(t.position[0]),Qe(t.position[1]+sn)]];return e.forEach(o=>{r.forEach(l=>{Qe(o.position[0])===l[0]&&Qe(o.position[1])===l[1]&&n.push(o.position)})}),{...t,neighbors:n}}),Ev=e=>{const t=new Set;if(e.forEach((a,f)=>{a.forEach((d,x)=>{d&&t.add(`${f},${x}`)})}),t.size===0)return!0;const n=[[0,1],[1,0],[-1,0],[0,-1]],r=Array.from(t)[0].split(",").map(Number),o=new Set,l=[r];for(;l.length>0;){const[a,f]=l.shift(),d=`${a},${f}`;o.has(d)||(o.add(d),n.forEach(([x,I])=>{const O=`${a+x},${f+I}`;t.has(O)&&!o.has(O)&&l.push([a+x,f+I])}))}return o.size===t.size},Cv=(e,t)=>{const n=[];for(let l=-.945;l<=1.015;l+=sn)n.push(Qe(l));const r=[];for(let l=-.7;l<0;l+=sn)r.push(Qe(l));for(let l=0;l<=.77;l+=sn)r.push(Qe(l));const o=Array(r.length).fill(null).map(()=>Array(n.length).fill(!1));return e.forEach((l,a)=>{if(a!==t){const f=n.findIndex(x=>Math.abs(x-l[0])<.001),d=r.findIndex(x=>Math.abs(x-l[1])<.001);f!==-1&&d!==-1&&(o[d][f]=!0)}}),Ev(o)},Vc=(e,t)=>{const n=e.map(r=>r.position);return e.map((r,o)=>{const l=Cv(n,o);return{...r,canMove:l,color:t&&l?"blue":"green"}})},Xc=e=>{if(e.length===0)return null;try{const t=e.map(I=>I[0]),n=e.map(I=>I[1]),r=(Math.max(...t)+Math.min(...t))/2,o=(Math.max(...n)+Math.min(...n))/2;let l=1/0,a=e[0];e.forEach(I=>{const O=Math.sqrt(Math.pow(I[0]-r,2)+Math.pow(I[1]-o,2));O<l&&(l=O,a=I)});const f=-a[0],d=-a[1],x=e.map(I=>[Qe(I[0]+f),Qe(I[1]+d)]);return x.sort((I,O)=>I[0]-O[0]||I[1]-O[1]),x}catch{return null}};function jv({config:e}){const[t,n]=_.useState(Uc()),[r,o]=_.useState(null),[l,a]=_.useState({x:0,y:0}),[f,d]=_.useState(!0),[x,I]=_.useState(e.timeSeconds),[O,A]=_.useState(0),[Q,B]=_.useState(null),[te,se]=_.useState(!0),[M,S]=_.useState(""),C=_.useRef(null),L=_.useRef(new Sv(e.id)),W=_.useRef(Date.now()),b=`Welcome to the creative game!

Your task is to move around blocks to create interesting and beautiful figures.

Everytime you have created a figure you like, tap on the gallery in the upper right corner in order to save your figure to the gallery.

The experiment proceeds through ${e.timeSeconds/60} minutes.

Tell the experimenter when you are ready for the practice round.`,F=`This was the end of the practice round.

Let the experimenter know when you are ready to begin the actual experiment.`,H="The experiment is done. Thank you very much for your participation!";_.useEffect(()=>{S(b)},[]),_.useEffect(()=>{if(!f&&x>0){const X=setInterval(()=>{I(ne=>ne<=1?(clearInterval(X),se(!0),S(H),setTimeout(()=>{L.current.downloadCSV()},1e3),0):ne-1)},1e3);return()=>clearInterval(X)}},[f,x]),_.useEffect(()=>{n(X=>Vc($c(X),f))},[f]);const he=()=>(Date.now()-W.current)/1e3,k=(X,ne)=>{const ve=C.current;if(!ve)return 0;const ge=ve.offsetHeight;return X/ge-.5},T=(X,ne)=>{const ve=C.current;if(!ve)return 0;const ge=ve.offsetHeight;return(X+.5)*ge},J=(X,ne)=>{const ve=t.find(h=>h.id===ne);if(!ve||!ve.canMove)return;const ge=C.current.getBoundingClientRect(),Ce=X.clientX-ge.left,Ae=X.clientY-ge.top,q=T(ve.position[0]),oe=T(ve.position[1]);o(ne),a({x:Ce-q,y:Ae-oe})},re=X=>{if(r===null)return;const ne=C.current.getBoundingClientRect(),ve=X.clientX-ne.left,ge=X.clientY-ne.top,Ce=k(ve-l.x),Ae=k(ge-l.y);n(q=>q.map(oe=>oe.id===r?{...oe,position:[Ce,Ae]}:oe))},fe=()=>{if(r===null)return;const X=t.find(Ce=>Ce.id===r),ne=xv(t,r),ve=kv(ne,X.position),ge={date:e.date,id:e.id,condition:e.condition,phase:f?"practice":"experiment",type:"moveblock",time:he(),unit:r,end_position:ve,all_positions:t.map(Ce=>Ce.position),gallery_shape_number:null,gallery:null,gallery_normalized:null};L.current.write(ge),n(Ce=>{const Ae=Ce.map(q=>q.id===r?{...q,position:ve}:q);return Vc($c(Ae),f)}),o(null)},ue=()=>{const X=t.map(Ae=>Ae.position),ne=Xc(X),ve=O+1,ge={date:e.date,id:e.id,condition:e.condition,phase:f?"practice":"experiment",type:"added shape to gallery",time:he(),unit:null,end_position:null,all_positions:null,gallery_shape_number:ve,gallery:X,gallery_normalized:ne};L.current.write(ge);const Ce=G();B(Ce),A(ve)},G=()=>{const X=document.createElement("canvas");X.width=400,X.height=400;const ne=X.getContext("2d");ne.fillStyle="#000",ne.fillRect(0,0,400,400);const ve=t.map(Ce=>Ce.position),ge=Xc(ve);return ge&&ge.forEach(Ce=>{const Ae=(Ce[0]+.5)*400,q=(Ce[1]+.5)*400;ne.fillStyle="green",ne.fillRect(Ae-15,q-15,30,30)}),X.toDataURL()},ie=_.useCallback(X=>{X.key==="p"&&f?(d(!1),se(!0),S(F),W.current=Date.now(),n(Uc()),B(null),A(0)):X.key==="q"&&!f&&(se(!0),S(H),setTimeout(()=>{L.current.downloadCSV()},1e3))},[f]);_.useEffect(()=>(window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)),[ie]);const U=()=>{se(!1)};return w.jsxs("div",{className:"game-canvas",ref:C,onMouseMove:re,onMouseUp:fe,onMouseLeave:fe,children:[w.jsx("div",{className:"gallery",onClick:ue,children:w.jsx("div",{className:"gallery-frame",children:Q?w.jsx("img",{src:Q,alt:"Gallery",className:"gallery-image"}):w.jsx("div",{className:"gallery-placeholder",children:"Gallery"})})}),!f&&w.jsxs("div",{className:"timer",children:["Time: ",Math.floor(x/60),":",(x%60).toString().padStart(2,"0")]}),t.map(X=>w.jsx("div",{className:`block ${X.canMove?"movable":""}`,style:{left:`${T(X.position[0])}px`,top:`${T(X.position[1])}px`,backgroundColor:X.color||"green",cursor:X.canMove?"grab":"default"},onMouseDown:ne=>J(ne,X.id)},X.id)),te&&w.jsx("div",{className:"message-overlay",onClick:U,children:w.jsxs("div",{className:"message-box",children:[M,w.jsx("div",{className:"message-hint",children:"(Click to continue)"})]})})]})}var Cn={};(function(){var e;function t(i){var s=0;return function(){return s<i.length?{done:!1,value:i[s++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,u){return i==Array.prototype||i==Object.prototype||(i[s]=u.value),i};function r(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof Br=="object"&&Br];for(var s=0;s<i.length;++s){var u=i[s];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var o=r(this);function l(i,s){if(s)e:{var u=o;i=i.split(".");for(var c=0;c<i.length-1;c++){var v=i[c];if(!(v in u))break e;u=u[v]}i=i[i.length-1],c=u[i],s=s(c),s!=c&&s!=null&&n(u,i,{configurable:!0,writable:!0,value:s})}}l("Symbol",function(i){function s(g){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return new u(c+(g||"")+"_"+v++,g)}function u(g,y){this.h=g,n(this,"description",{configurable:!0,writable:!0,value:y})}if(i)return i;u.prototype.toString=function(){return this.h};var c="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",v=0;return s}),l("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var s="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),u=0;u<s.length;u++){var c=o[s[u]];typeof c=="function"&&typeof c.prototype[i]!="function"&&n(c.prototype,i,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return i});function a(i){return i={next:i},i[Symbol.iterator]=function(){return this},i}function f(i){var s=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return s?s.call(i):{next:t(i)}}function d(i){if(!(i instanceof Array)){i=f(i);for(var s,u=[];!(s=i.next()).done;)u.push(s.value);i=u}return i}var x=typeof Object.assign=="function"?Object.assign:function(i,s){for(var u=1;u<arguments.length;u++){var c=arguments[u];if(c)for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(i[v]=c[v])}return i};l("Object.assign",function(i){return i||x});var I=typeof Object.create=="function"?Object.create:function(i){function s(){}return s.prototype=i,new s},O;if(typeof Object.setPrototypeOf=="function")O=Object.setPrototypeOf;else{var A;e:{var Q={a:!0},B={};try{B.__proto__=Q,A=B.a;break e}catch{}A=!1}O=A?function(i,s){if(i.__proto__=s,i.__proto__!==s)throw new TypeError(i+" is not extensible");return i}:null}var te=O;function se(i,s){if(i.prototype=I(s.prototype),i.prototype.constructor=i,te)te(i,s);else for(var u in s)if(u!="prototype")if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(i,u,c)}else i[u]=s[u];i.ya=s.prototype}function M(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function S(i){if(i.m)throw new TypeError("Generator is already running");i.m=!0}M.prototype.u=function(i){this.i=i};function C(i,s){i.l={ma:s,na:!0},i.h=i.s||i.v}M.prototype.return=function(i){this.l={return:i},this.h=this.v};function L(i,s,u){return i.h=u,{value:s}}function W(i){this.h=new M,this.i=i}function b(i,s){S(i.h);var u=i.h.j;return u?F(i,"return"in u?u.return:function(c){return{value:c,done:!0}},s,i.h.return):(i.h.return(s),H(i))}function F(i,s,u,c){try{var v=s.call(i.h.j,u);if(!(v instanceof Object))throw new TypeError("Iterator result "+v+" is not an object");if(!v.done)return i.h.m=!1,v;var g=v.value}catch(y){return i.h.j=null,C(i.h,y),H(i)}return i.h.j=null,c.call(i.h,g),H(i)}function H(i){for(;i.h.h;)try{var s=i.i(i.h);if(s)return i.h.m=!1,{value:s.value,done:!1}}catch(u){i.h.i=void 0,C(i.h,u)}if(i.h.m=!1,i.h.l){if(s=i.h.l,i.h.l=null,s.na)throw s.ma;return{value:s.return,done:!0}}return{value:void 0,done:!0}}function he(i){this.next=function(s){return S(i.h),i.h.j?s=F(i,i.h.j.next,s,i.h.u):(i.h.u(s),s=H(i)),s},this.throw=function(s){return S(i.h),i.h.j?s=F(i,i.h.j.throw,s,i.h.u):(C(i.h,s),s=H(i)),s},this.return=function(s){return b(i,s)},this[Symbol.iterator]=function(){return this}}function k(i){function s(c){return i.next(c)}function u(c){return i.throw(c)}return new Promise(function(c,v){function g(y){y.done?c(y.value):Promise.resolve(y.value).then(s,u).then(g,v)}g(i.next())})}function T(i){return k(new he(new W(i)))}l("Promise",function(i){function s(y){this.i=0,this.j=void 0,this.h=[],this.u=!1;var N=this.l();try{y(N.resolve,N.reject)}catch(D){N.reject(D)}}function u(){this.h=null}function c(y){return y instanceof s?y:new s(function(N){N(y)})}if(i)return i;u.prototype.i=function(y){if(this.h==null){this.h=[];var N=this;this.j(function(){N.m()})}this.h.push(y)};var v=o.setTimeout;u.prototype.j=function(y){v(y,0)},u.prototype.m=function(){for(;this.h&&this.h.length;){var y=this.h;this.h=[];for(var N=0;N<y.length;++N){var D=y[N];y[N]=null;try{D()}catch(Z){this.l(Z)}}}this.h=null},u.prototype.l=function(y){this.j(function(){throw y})},s.prototype.l=function(){function y(Z){return function(le){D||(D=!0,Z.call(N,le))}}var N=this,D=!1;return{resolve:y(this.I),reject:y(this.m)}},s.prototype.I=function(y){if(y===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(y instanceof s)this.L(y);else{e:switch(typeof y){case"object":var N=y!=null;break e;case"function":N=!0;break e;default:N=!1}N?this.F(y):this.s(y)}},s.prototype.F=function(y){var N=void 0;try{N=y.then}catch(D){this.m(D);return}typeof N=="function"?this.M(N,y):this.s(y)},s.prototype.m=function(y){this.v(2,y)},s.prototype.s=function(y){this.v(1,y)},s.prototype.v=function(y,N){if(this.i!=0)throw Error("Cannot settle("+y+", "+N+"): Promise already settled in state"+this.i);this.i=y,this.j=N,this.i===2&&this.K(),this.H()},s.prototype.K=function(){var y=this;v(function(){if(y.D()){var N=o.console;typeof N<"u"&&N.error(y.j)}},1)},s.prototype.D=function(){if(this.u)return!1;var y=o.CustomEvent,N=o.Event,D=o.dispatchEvent;return typeof D>"u"?!0:(typeof y=="function"?y=new y("unhandledrejection",{cancelable:!0}):typeof N=="function"?y=new N("unhandledrejection",{cancelable:!0}):(y=o.document.createEvent("CustomEvent"),y.initCustomEvent("unhandledrejection",!1,!0,y)),y.promise=this,y.reason=this.j,D(y))},s.prototype.H=function(){if(this.h!=null){for(var y=0;y<this.h.length;++y)g.i(this.h[y]);this.h=null}};var g=new u;return s.prototype.L=function(y){var N=this.l();y.T(N.resolve,N.reject)},s.prototype.M=function(y,N){var D=this.l();try{y.call(N,D.resolve,D.reject)}catch(Z){D.reject(Z)}},s.prototype.then=function(y,N){function D(we,ae){return typeof we=="function"?function(Ee){try{Z(we(Ee))}catch(Re){le(Re)}}:ae}var Z,le,ke=new s(function(we,ae){Z=we,le=ae});return this.T(D(y,Z),D(N,le)),ke},s.prototype.catch=function(y){return this.then(void 0,y)},s.prototype.T=function(y,N){function D(){switch(Z.i){case 1:y(Z.j);break;case 2:N(Z.j);break;default:throw Error("Unexpected state: "+Z.i)}}var Z=this;this.h==null?g.i(D):this.h.push(D),this.u=!0},s.resolve=c,s.reject=function(y){return new s(function(N,D){D(y)})},s.race=function(y){return new s(function(N,D){for(var Z=f(y),le=Z.next();!le.done;le=Z.next())c(le.value).T(N,D)})},s.all=function(y){var N=f(y),D=N.next();return D.done?c([]):new s(function(Z,le){function ke(Ee){return function(Re){we[Ee]=Re,ae--,ae==0&&Z(we)}}var we=[],ae=0;do we.push(void 0),ae++,c(D.value).T(ke(we.length-1),le),D=N.next();while(!D.done)})},s});function J(i,s){i instanceof String&&(i+="");var u=0,c=!1,v={next:function(){if(!c&&u<i.length){var g=u++;return{value:s(g,i[g]),done:!1}}return c=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v}l("Array.prototype.keys",function(i){return i||function(){return J(this,function(s){return s})}}),l("Array.prototype.fill",function(i){return i||function(s,u,c){var v=this.length||0;for(0>u&&(u=Math.max(0,v+u)),(c==null||c>v)&&(c=v),c=Number(c),0>c&&(c=Math.max(0,v+c)),u=Number(u||0);u<c;u++)this[u]=s;return this}});function re(i){return i||Array.prototype.fill}l("Int8Array.prototype.fill",re),l("Uint8Array.prototype.fill",re),l("Uint8ClampedArray.prototype.fill",re),l("Int16Array.prototype.fill",re),l("Uint16Array.prototype.fill",re),l("Int32Array.prototype.fill",re),l("Uint32Array.prototype.fill",re),l("Float32Array.prototype.fill",re),l("Float64Array.prototype.fill",re),l("Object.is",function(i){return i||function(s,u){return s===u?s!==0||1/s===1/u:s!==s&&u!==u}}),l("Array.prototype.includes",function(i){return i||function(s,u){var c=this;c instanceof String&&(c=String(c));var v=c.length;for(u=u||0,0>u&&(u=Math.max(u+v,0));u<v;u++){var g=c[u];if(g===s||Object.is(g,s))return!0}return!1}}),l("String.prototype.includes",function(i){return i||function(s,u){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(s instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(s,u||0)!==-1}});var fe=this||self;function ue(i,s){i=i.split(".");var u=fe;i[0]in u||typeof u.execScript>"u"||u.execScript("var "+i[0]);for(var c;i.length&&(c=i.shift());)i.length||s===void 0?u[c]&&u[c]!==Object.prototype[c]?u=u[c]:u=u[c]={}:u[c]=s}function G(i){var s;e:{if((s=fe.navigator)&&(s=s.userAgent))break e;s=""}return s.indexOf(i)!=-1}var ie=Array.prototype.map?function(i,s){return Array.prototype.map.call(i,s,void 0)}:function(i,s){for(var u=i.length,c=Array(u),v=typeof i=="string"?i.split(""):i,g=0;g<u;g++)g in v&&(c[g]=s.call(void 0,v[g],g,i));return c},U={},X=null;function ne(i){var s=i.length,u=3*s/4;u%3?u=Math.floor(u):"=.".indexOf(i[s-1])!=-1&&(u="=.".indexOf(i[s-2])!=-1?u-2:u-1);var c=new Uint8Array(u),v=0;return ve(i,function(g){c[v++]=g}),v!==u?c.subarray(0,v):c}function ve(i,s){function u(D){for(;c<i.length;){var Z=i.charAt(c++),le=X[Z];if(le!=null)return le;if(!/^[\s\xa0]*$/.test(Z))throw Error("Unknown base64 encoding at char: "+Z)}return D}ge();for(var c=0;;){var v=u(-1),g=u(0),y=u(64),N=u(64);if(N===64&&v===-1)break;s(v<<2|g>>4),y!=64&&(s(g<<4&240|y>>2),N!=64&&s(y<<6&192|N))}}function ge(){if(!X){X={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],u=0;5>u;u++){var c=i.concat(s[u].split(""));U[u]=c;for(var v=0;v<c.length;v++){var g=c[v];X[g]===void 0&&(X[g]=v)}}}}var Ce=typeof Uint8Array<"u",Ae=!(G("Trident")||G("MSIE"))&&typeof fe.btoa=="function";function q(i){if(!Ae){var s;s===void 0&&(s=0),ge(),s=U[s];for(var u=Array(Math.floor(i.length/3)),c=s[64]||"",v=0,g=0;v<i.length-2;v+=3){var y=i[v],N=i[v+1],D=i[v+2],Z=s[y>>2];y=s[(y&3)<<4|N>>4],N=s[(N&15)<<2|D>>6],D=s[D&63],u[g++]=Z+y+N+D}switch(Z=0,D=c,i.length-v){case 2:Z=i[v+1],D=s[(Z&15)<<2]||c;case 1:i=i[v],u[g]=s[i>>2]+s[(i&3)<<4|Z>>4]+D+c}return u.join("")}for(s="";10240<i.length;)s+=String.fromCharCode.apply(null,i.subarray(0,10240)),i=i.subarray(10240);return s+=String.fromCharCode.apply(null,i),btoa(s)}var oe=RegExp("[-_.]","g");function h(i){switch(i){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function m(i){if(!Ae)return ne(i);oe.test(i)&&(i=i.replace(oe,h)),i=atob(i);for(var s=new Uint8Array(i.length),u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}var j;function p(){return j||(j=new Uint8Array(0))}var E={},P=typeof Uint8Array.prototype.slice=="function",z=0,R=0;function $(i){var s=0>i;i=Math.abs(i);var u=i>>>0;i=Math.floor((i-u)/4294967296),s&&(u=f(K(u,i)),s=u.next().value,i=u.next().value,u=s),z=u>>>0,R=i>>>0}var V=typeof BigInt=="function";function K(i,s){return s=~s,i?i=~i+1:s+=1,[i,s]}function Y(i,s){this.i=i>>>0,this.h=s>>>0}function ce(i){if(!i)return ye||(ye=new Y(0,0));if(!/^-?\d+$/.test(i))return null;if(16>i.length)$(Number(i));else if(V)i=BigInt(i),z=Number(i&BigInt(4294967295))>>>0,R=Number(i>>BigInt(32)&BigInt(4294967295));else{var s=+(i[0]==="-");R=z=0;for(var u=i.length,c=s,v=(u-s)%6+s;v<=u;c=v,v+=6)c=Number(i.slice(c,v)),R*=1e6,z=1e6*z+c,4294967296<=z&&(R+=z/4294967296|0,z%=4294967296);s&&(s=f(K(z,R)),i=s.next().value,s=s.next().value,z=i,R=s)}return new Y(z,R)}var ye;function de(i,s){return Error("Invalid wire type: "+i+" (at position "+s+")")}function me(){return Error("Failed to read varint, encoding is invalid.")}function Me(i,s){return Error("Tried to read past the end of the data "+s+" > "+i)}function xe(){throw Error("Invalid UTF8")}function Se(i,s){return s=String.fromCharCode.apply(null,s),i==null?s:i+s}var Te=void 0,Pe,je=typeof TextDecoder<"u",De,Ie=typeof TextEncoder<"u",Je;function Ze(i){if(i!==E)throw Error("illegal external caller")}function Ne(i,s){if(Ze(s),this.V=i,i!=null&&i.length===0)throw Error("ByteString should be constructed with non-empty values")}function $e(){return Je||(Je=new Ne(null,E))}function ot(i){Ze(E);var s=i.V;return s=s==null||Ce&&s!=null&&s instanceof Uint8Array?s:typeof s=="string"?m(s):null,s==null?s:i.V=s}function ut(i){if(typeof i=="string")return{buffer:m(i),C:!1};if(Array.isArray(i))return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Uint8Array)return{buffer:i,C:!1};if(i.constructor===ArrayBuffer)return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Ne)return{buffer:ot(i)||p(),C:!0};if(i instanceof Uint8Array)return{buffer:new Uint8Array(i.buffer,i.byteOffset,i.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function mt(i,s){this.i=null,this.m=!1,this.h=this.j=this.l=0,Ut(this,i,s)}function Ut(i,s,u){u=u===void 0?{}:u,i.S=u.S===void 0?!1:u.S,s&&(s=ut(s),i.i=s.buffer,i.m=s.C,i.l=0,i.j=i.i.length,i.h=i.l)}mt.prototype.reset=function(){this.h=this.l};function at(i,s){if(i.h=s,s>i.j)throw Me(i.j,s)}function $t(i){var s=i.i,u=i.h,c=s[u++],v=c&127;if(c&128&&(c=s[u++],v|=(c&127)<<7,c&128&&(c=s[u++],v|=(c&127)<<14,c&128&&(c=s[u++],v|=(c&127)<<21,c&128&&(c=s[u++],v|=c<<28,c&128&&s[u++]&128&&s[u++]&128&&s[u++]&128&&s[u++]&128&&s[u++]&128)))))throw me();return at(i,u),v}function Mn(i,s){if(0>s)throw Error("Tried to read a negative byte length: "+s);var u=i.h,c=u+s;if(c>i.j)throw Me(s,i.j-u);return i.h=c,u}var fn=[];function qt(){this.h=[]}qt.prototype.length=function(){return this.h.length},qt.prototype.end=function(){var i=this.h;return this.h=[],i};function Nt(i,s,u){for(;0<u||127<s;)i.h.push(s&127|128),s=(s>>>7|u<<25)>>>0,u>>>=7;i.h.push(s)}function St(i,s){for(;127<s;)i.h.push(s&127|128),s>>>=7;i.h.push(s)}function Vt(i,s){if(fn.length){var u=fn.pop();Ut(u,i,s),i=u}else i=new mt(i,s);this.h=i,this.j=this.h.h,this.i=this.l=-1,this.setOptions(s)}Vt.prototype.setOptions=function(i){i=i===void 0?{}:i,this.ca=i.ca===void 0?!1:i.ca},Vt.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function Xt(i){var s=i.h;if(s.h==s.j)return!1;i.j=i.h.h;var u=$t(i.h)>>>0;if(s=u>>>3,u&=7,!(0<=u&&5>=u))throw de(u,i.j);if(1>s)throw Error("Invalid field number: "+s+" (at position "+i.j+")");return i.l=s,i.i=u,!0}function Bn(i){switch(i.i){case 0:if(i.i!=0)Bn(i);else e:{i=i.h;for(var s=i.h,u=s+10,c=i.i;s<u;)if(!(c[s++]&128)){at(i,s);break e}throw me()}break;case 1:i=i.h,at(i,i.h+8);break;case 2:i.i!=2?Bn(i):(s=$t(i.h)>>>0,i=i.h,at(i,i.h+s));break;case 5:i=i.h,at(i,i.h+4);break;case 3:s=i.l;do{if(!Xt(i))throw Error("Unmatched start-group tag: stream EOF");if(i.i==4){if(i.l!=s)throw Error("Unmatched end-group tag");break}Bn(i)}while(!0);break;default:throw de(i.i,i.j)}}var xr=[];function kl(){this.j=[],this.i=0,this.h=new qt}function kr(i,s){s.length!==0&&(i.j.push(s),i.i+=s.length)}function uh(i,s){if(s=s.R){kr(i,i.h.end());for(var u=0;u<s.length;u++)kr(i,ot(s[u])||p())}}var Pn=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function lr(i,s){return Pn?i[Pn]|=s:i.A!==void 0?i.A|=s:(Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}}),s)}function Ju(i,s){Pn?i[Pn]&&(i[Pn]&=~s):i.A!==void 0&&(i.A&=~s)}function et(i){var s;return Pn?s=i[Pn]:s=i.A,s??0}function dn(i,s){Pn?i[Pn]=s:i.A!==void 0?i.A=s:Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}})}function El(i){return lr(i,1),i}function ah(i,s){dn(s,(i|0)&-51)}function bi(i,s){dn(s,(i|18)&-41)}var Cl={};function Ji(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)&&i.constructor===Object}var ti,Zu=[];dn(Zu,23),ti=Object.freeze(Zu);function jl(i){if(et(i.o)&2)throw Error("Cannot mutate an immutable Message")}function Ml(i){var s=i.length;(s=s?i[s-1]:void 0)&&Ji(s)?s.g=1:(s={},i.push((s.g=1,s)))}function qu(i){var s=i.i+i.G;return i.B||(i.B=i.o[s]={})}function en(i,s){return s===-1?null:s>=i.i?i.B?i.B[s]:void 0:i.o[s+i.G]}function hn(i,s,u,c){jl(i),ni(i,s,u,c)}function ni(i,s,u,c){i.j&&(i.j=void 0),s>=i.i||c?qu(i)[s]=u:(i.o[s+i.G]=u,(i=i.B)&&s in i&&delete i[s])}function Pl(i,s,u,c){var v=en(i,s);Array.isArray(v)||(v=ti);var g=et(v);if(g&1||El(v),c)g&2||lr(v,2),u&1||Object.freeze(v);else{c=!(u&2);var y=g&2;u&1||!y?c&&g&16&&!y&&Ju(v,16):(v=El(Array.prototype.slice.call(v)),ni(i,s,v))}return v}function Nl(i,s){var u=en(i,s),c=u==null?u:typeof u=="number"||u==="NaN"||u==="Infinity"||u==="-Infinity"?Number(u):void 0;return c!=null&&c!==u&&ni(i,s,c),c}function ea(i,s,u,c,v){i.h||(i.h={});var g=i.h[u],y=Pl(i,u,3,v);if(!g){var N=y;g=[];var D=!!(et(i.o)&16);y=!!(et(N)&2);var Z=N;!v&&y&&(N=Array.prototype.slice.call(N));for(var le=y,ke=0;ke<N.length;ke++){var we=N[ke],ae=s,Ee=!1;if(Ee=Ee===void 0?!1:Ee,we=Array.isArray(we)?new ae(we):Ee?new ae:void 0,we!==void 0){ae=we.o;var Re=Ee=et(ae);y&&(Re|=2),D&&(Re|=16),Re!=Ee&&dn(ae,Re),ae=Re,le=le||!!(2&ae),g.push(we)}}return i.h[u]=g,D=et(N),s=D|33,s=le?s&-9:s|8,D!=s&&(le=N,Object.isFrozen(le)&&(le=Array.prototype.slice.call(le)),dn(le,s),N=le),Z!==N&&ni(i,u,N),(v||c&&y)&&lr(g,2),c&&Object.freeze(g),g}return v||(v=Object.isFrozen(g),c&&!v?Object.freeze(g):!c&&v&&(g=Array.prototype.slice.call(g),i.h[u]=g)),g}function Zi(i,s,u){var c=!!(et(i.o)&2);if(s=ea(i,s,u,c,c),i=Pl(i,u,3,c),!(c||et(i)&8)){for(c=0;c<s.length;c++){if(u=s[c],et(u.o)&2){var v=la(u,!1);v.j=u}else v=u;u!==v&&(s[c]=v,i[c]=v.o)}lr(i,8)}return s}function pn(i,s,u){if(u!=null&&typeof u!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof u+": "+u);hn(i,s,u)}function ta(i,s,u,c,v){jl(i);var g=ea(i,u,s,!1,!1);return u=c??new u,i=Pl(i,s,2,!1),v!=null?(g.splice(v,0,u),i.splice(v,0,u.o)):(g.push(u),i.push(u.o)),u.C()&&Ju(i,8),u}function qi(i,s){return i??s}function mn(i,s,u){return u=u===void 0?0:u,qi(Nl(i,s),u)}var eo;function ch(i){switch(typeof i){case"number":return isFinite(i)?i:String(i);case"object":if(i)if(Array.isArray(i)){if(et(i)&128)return i=Array.prototype.slice.call(i),Ml(i),i}else{if(Ce&&i!=null&&i instanceof Uint8Array)return q(i);if(i instanceof Ne){var s=i.V;return s==null?"":typeof s=="string"?s:i.V=q(s)}}}return i}function na(i,s,u,c){if(i!=null){if(Array.isArray(i))i=Rl(i,s,u,c!==void 0);else if(Ji(i)){var v={},g;for(g in i)v[g]=na(i[g],s,u,c);i=v}else i=s(i,c);return i}}function Rl(i,s,u,c){var v=et(i);c=c?!!(v&16):void 0,i=Array.prototype.slice.call(i);for(var g=0;g<i.length;g++)i[g]=na(i[g],s,u,c);return u(v,i),i}function fh(i){return i.ja===Cl?i.toJSON():ch(i)}function dh(i,s){i&128&&Ml(s)}function ra(i,s,u){if(u=u===void 0?bi:u,i!=null){if(Ce&&i instanceof Uint8Array)return i.length?new Ne(new Uint8Array(i),E):$e();if(Array.isArray(i)){var c=et(i);return c&2?i:s&&!(c&32)&&(c&16||c===0)?(dn(i,c|2),i):(i=Rl(i,ra,c&4?bi:u,!0),s=et(i),s&4&&s&2&&Object.freeze(i),i)}return i.ja===Cl?oa(i):i}}function ia(i,s,u,c,v,g,y){if(i=i.h&&i.h[u]){if(c=et(i),c&2?c=i:(g=ie(i,oa),bi(c,g),Object.freeze(g),c=g),jl(s),y=c==null?ti:El([]),c!=null){for(g=!!c.length,i=0;i<c.length;i++){var N=c[i];g=g&&!(et(N.o)&2),y[i]=N.o}g=(g?8:0)|1,i=et(y),(i&g)!==g&&(Object.isFrozen(y)&&(y=Array.prototype.slice.call(y)),dn(y,i|g)),s.h||(s.h={}),s.h[u]=c}else s.h&&(s.h[u]=void 0);ni(s,u,y,v)}else hn(s,u,ra(c,g,y),v)}function oa(i){return et(i.o)&2||(i=la(i,!0),lr(i.o,2)),i}function la(i,s){var u=i.o,c=[];lr(c,16);var v=i.constructor.h;if(v&&c.push(v),v=i.B,v){c.length=u.length,c.fill(void 0,c.length,u.length);var g={};c[c.length-1]=g}et(u)&128&&Ml(c),s=s||i.C()?bi:ah,g=i.constructor,eo=c,c=new g(c),eo=void 0,i.R&&(c.R=i.R.slice()),g=!!(et(u)&16);for(var y=v?u.length-1:u.length,N=0;N<y;N++)ia(i,c,N-i.G,u[N],!1,g,s);if(v)for(var D in v)ia(i,c,+D,v[D],!0,g,s);return c}function Rt(i,s,u){i==null&&(i=eo),eo=void 0;var c=this.constructor.i||0,v=0<c,g=this.constructor.h,y=!1;if(i==null){i=g?[g]:[];var N=48,D=!0;v&&(c=0,N|=128),dn(i,N)}else{if(!Array.isArray(i)||g&&g!==i[0])throw Error();var Z=N=lr(i,0);if((D=(16&Z)!==0)&&((y=(32&Z)!==0)||(Z|=32)),v){if(128&Z)c=0;else if(0<i.length){var le=i[i.length-1];if(Ji(le)&&"g"in le){c=0,Z|=128,delete le.g;var ke=!0,we;for(we in le){ke=!1;break}ke&&i.pop()}}}else if(128&Z)throw Error();N!==Z&&dn(i,Z)}this.G=(g?0:-1)-c,this.h=void 0,this.o=i;e:{if(g=this.o.length,c=g-1,g&&(g=this.o[c],Ji(g))){this.B=g,this.i=c-this.G;break e}s!==void 0&&-1<s?(this.i=Math.max(s,c+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!v&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(u){s=D&&!y&&!0,v=this.i;var ae;for(D=0;D<u.length;D++)y=u[D],y<v?(y+=this.G,(c=i[y])?sa(c,s):i[y]=ti):(ae||(ae=qu(this)),(c=ae[y])?sa(c,s):ae[y]=ti)}}Rt.prototype.toJSON=function(){return Rl(this.o,fh,dh)},Rt.prototype.C=function(){return!!(et(this.o)&2)};function sa(i,s){if(Array.isArray(i)){var u=et(i),c=1;!s||u&2||(c|=16),(u&c)!==c&&dn(i,u|c)}}Rt.prototype.ja=Cl,Rt.prototype.toString=function(){return this.o.toString()};function ua(i,s,u){if(u){var c={},v;for(v in u){var g=u[v],y=g.qa;y||(c.J=g.wa||g.oa.W,g.ia?(c.aa=ha(g.ia),y=function(N){return function(D,Z,le){return N.J(D,Z,le,N.aa)}}(c)):g.ka?(c.Z=pa(g.da.P,g.ka),y=function(N){return function(D,Z,le){return N.J(D,Z,le,N.Z)}}(c)):y=c.J,g.qa=y),y(s,i,g.da),c={J:c.J,aa:c.aa,Z:c.Z}}}uh(s,i)}var to=Symbol();function aa(i,s,u){return i[to]||(i[to]=function(c,v){return s(c,v,u)})}function ca(i){var s=i[to];if(!s){var u=Tl(i);s=function(c,v){return ma(c,v,u)},i[to]=s}return s}function hh(i){var s=i.ia;if(s)return ca(s);if(s=i.va)return aa(i.da.P,s,i.ka)}function ph(i){var s=hh(i),u=i.da,c=i.oa.U;return s?function(v,g){return c(v,g,u,s)}:function(v,g){return c(v,g,u)}}function fa(i,s){var u=i[s];return typeof u=="function"&&u.length===0&&(u=u(),i[s]=u),Array.isArray(u)&&(ii in u||ri in u||0<u.length&&typeof u[0]=="function")?u:void 0}function da(i,s,u,c,v,g){s.P=i[0];var y=1;if(i.length>y&&typeof i[y]!="number"){var N=i[y++];u(s,N)}for(;y<i.length;){u=i[y++];for(var D=y+1;D<i.length&&typeof i[D]!="number";)D++;switch(N=i[y++],D-=y,D){case 0:c(s,u,N);break;case 1:(D=fa(i,y))?(y++,v(s,u,N,D)):c(s,u,N,i[y++]);break;case 2:D=y++,D=fa(i,D),v(s,u,N,D,i[y++]);break;case 3:g(s,u,N,i[y++],i[y++],i[y++]);break;case 4:g(s,u,N,i[y++],i[y++],i[y++],i[y++]);break;default:throw Error("unexpected number of binary field arguments: "+D)}}return s}var no=Symbol();function ha(i){var s=i[no];if(!s){var u=_l(i);s=function(c,v){return va(c,v,u)},i[no]=s}return s}function pa(i,s){var u=i[no];return u||(u=function(c,v){return ua(c,v,s)},i[no]=u),u}var ri=Symbol();function mh(i,s){i.push(s)}function vh(i,s,u){i.push(s,u.W)}function yh(i,s,u,c){var v=ha(c),g=_l(c).P,y=u.W;i.push(s,function(N,D,Z){return y(N,D,Z,g,v)})}function gh(i,s,u,c,v,g){var y=pa(c,g),N=u.W;i.push(s,function(D,Z,le){return N(D,Z,le,c,y)})}function _l(i){var s=i[ri];return s||(s=da(i,i[ri]=[],mh,vh,yh,gh),ii in i&&ri in i&&(i.length=0),s)}var ii=Symbol();function wh(i,s){i[0]=s}function Sh(i,s,u,c){var v=u.U;i[s]=c?function(g,y,N){return v(g,y,N,c)}:v}function xh(i,s,u,c,v){var g=u.U,y=ca(c),N=Tl(c).P;i[s]=function(D,Z,le){return g(D,Z,le,N,y,v)}}function kh(i,s,u,c,v,g,y){var N=u.U,D=aa(c,v,g);i[s]=function(Z,le,ke){return N(Z,le,ke,c,D,y)}}function Tl(i){var s=i[ii];return s||(s=da(i,i[ii]={},wh,Sh,xh,kh),ii in i&&ri in i&&(i.length=0),s)}function ma(i,s,u){for(;Xt(s)&&s.i!=4;){var c=s.l,v=u[c];if(!v){var g=u[0];g&&(g=g[c])&&(v=u[c]=ph(g))}if(!v||!v(s,i,c)){v=s,c=i,g=v.j,Bn(v);var y=v;if(!y.ca){if(v=y.h.h-g,y.h.h=g,y=y.h,v==0)v=$e();else{if(g=Mn(y,v),y.S&&y.m)v=y.i.subarray(g,g+v);else{y=y.i;var N=g;v=g+v,v=N===v?p():P?y.slice(N,v):new Uint8Array(y.subarray(N,v))}v=v.length==0?$e():new Ne(v,E)}(g=c.R)?g.push(v):c.R=[v]}}}return i}function va(i,s,u){for(var c=u.length,v=c%2==1,g=v?1:0;g<c;g+=2)(0,u[g+1])(s,i,u[g]);ua(i,s,v?u[0]:void 0)}function oi(i,s){return{U:i,W:s}}var tn=oi(function(i,s,u){if(i.i!==5)return!1;i=i.h;var c=i.i,v=i.h,g=c[v],y=c[v+1],N=c[v+2];return c=c[v+3],at(i,i.h+4),y=(g<<0|y<<8|N<<16|c<<24)>>>0,i=2*(y>>31)+1,g=y>>>23&255,y&=8388607,hn(s,u,g==255?y?NaN:1/0*i:g==0?i*Math.pow(2,-149)*y:i*Math.pow(2,g-150)*(y+Math.pow(2,23))),!0},function(i,s,u){if(s=Nl(s,u),s!=null){St(i.h,8*u+5),i=i.h;var c=+s;c===0?0<1/c?z=R=0:(R=0,z=2147483648):isNaN(c)?(R=0,z=2147483647):(c=(u=0>c?-2147483648:0)?-c:c,34028234663852886e22<c?(R=0,z=(u|2139095040)>>>0):11754943508222875e-54>c?(c=Math.round(c/Math.pow(2,-149)),R=0,z=(u|c)>>>0):(s=Math.floor(Math.log(c)/Math.LN2),c*=Math.pow(2,-s),c=Math.round(8388608*c),16777216<=c&&++s,R=0,z=(u|s+127<<23|c&8388607)>>>0)),u=z,i.h.push(u>>>0&255),i.h.push(u>>>8&255),i.h.push(u>>>16&255),i.h.push(u>>>24&255)}}),Eh=oi(function(i,s,u){if(i.i!==0)return!1;var c=i.h,v=0,g=i=0,y=c.i,N=c.h;do{var D=y[N++];v|=(D&127)<<g,g+=7}while(32>g&&D&128);for(32<g&&(i|=(D&127)>>4),g=3;32>g&&D&128;g+=7)D=y[N++],i|=(D&127)<<g;if(at(c,N),128>D)c=v>>>0,D=i>>>0,(i=D&2147483648)&&(c=~c+1>>>0,D=~D>>>0,c==0&&(D=D+1>>>0)),c=4294967296*D+(c>>>0);else throw me();return hn(s,u,i?-c:c),!0},function(i,s,u){s=en(s,u),s!=null&&(typeof s=="string"&&ce(s),s!=null&&(St(i.h,8*u),typeof s=="number"?(i=i.h,$(s),Nt(i,z,R)):(u=ce(s),Nt(i.h,u.i,u.h))))}),Ch=oi(function(i,s,u){return i.i!==0?!1:(hn(s,u,$t(i.h)),!0)},function(i,s,u){if(s=en(s,u),s!=null&&s!=null)if(St(i.h,8*u),i=i.h,u=s,0<=u)St(i,u);else{for(s=0;9>s;s++)i.h.push(u&127|128),u>>=7;i.h.push(1)}}),ya=oi(function(i,s,u){if(i.i!==2)return!1;var c=$t(i.h)>>>0;i=i.h;var v=Mn(i,c);if(i=i.i,je){var g=i,y;(y=Pe)||(y=Pe=new TextDecoder("utf-8",{fatal:!0})),i=v+c,g=v===0&&i===g.length?g:g.subarray(v,i);try{var N=y.decode(g)}catch(ke){if(Te===void 0){try{y.decode(new Uint8Array([128]))}catch{}try{y.decode(new Uint8Array([97])),Te=!0}catch{Te=!1}}throw!Te&&(Pe=void 0),ke}}else{N=v,c=N+c,v=[];for(var D=null,Z,le;N<c;)Z=i[N++],128>Z?v.push(Z):224>Z?N>=c?xe():(le=i[N++],194>Z||(le&192)!==128?(N--,xe()):v.push((Z&31)<<6|le&63)):240>Z?N>=c-1?xe():(le=i[N++],(le&192)!==128||Z===224&&160>le||Z===237&&160<=le||((g=i[N++])&192)!==128?(N--,xe()):v.push((Z&15)<<12|(le&63)<<6|g&63)):244>=Z?N>=c-2?xe():(le=i[N++],(le&192)!==128||(Z<<28)+(le-144)>>30||((g=i[N++])&192)!==128||((y=i[N++])&192)!==128?(N--,xe()):(Z=(Z&7)<<18|(le&63)<<12|(g&63)<<6|y&63,Z-=65536,v.push((Z>>10&1023)+55296,(Z&1023)+56320))):xe(),8192<=v.length&&(D=Se(D,v),v.length=0);N=Se(D,v)}return hn(s,u,N),!0},function(i,s,u){if(s=en(s,u),s!=null){var c=!1;if(c=c===void 0?!1:c,Ie){if(c&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(s))throw Error("Found an unpaired surrogate");s=(De||(De=new TextEncoder)).encode(s)}else{for(var v=0,g=new Uint8Array(3*s.length),y=0;y<s.length;y++){var N=s.charCodeAt(y);if(128>N)g[v++]=N;else{if(2048>N)g[v++]=N>>6|192;else{if(55296<=N&&57343>=N){if(56319>=N&&y<s.length){var D=s.charCodeAt(++y);if(56320<=D&&57343>=D){N=1024*(N-55296)+D-56320+65536,g[v++]=N>>18|240,g[v++]=N>>12&63|128,g[v++]=N>>6&63|128,g[v++]=N&63|128;continue}else y--}if(c)throw Error("Found an unpaired surrogate");N=65533}g[v++]=N>>12|224,g[v++]=N>>6&63|128}g[v++]=N&63|128}}s=v===g.length?g:g.subarray(0,v)}St(i.h,8*u+2),St(i.h,s.length),kr(i,i.h.end()),kr(i,s)}}),ga=oi(function(i,s,u,c,v){if(i.i!==2)return!1;s=ta(s,u,c),u=i.h.j,c=$t(i.h)>>>0;var g=i.h.h+c,y=g-u;if(0>=y&&(i.h.j=g,v(s,i,void 0,void 0,void 0),y=g-i.h.h),y)throw Error("Message parsing ended unexpectedly. Expected to read "+(c+" bytes, instead read "+(c-y)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return i.h.h=g,i.h.j=u,!0},function(i,s,u,c,v){if(s=Zi(s,c,u),s!=null)for(c=0;c<s.length;c++){var g=i;St(g.h,8*u+2);var y=g.h.end();kr(g,y),y.push(g.i),g=y,v(s[c],i),y=i;var N=g.pop();for(N=y.i+y.h.length()-N;127<N;)g.push(N&127|128),N>>>=7,y.i++;g.push(N),y.i++}});function Al(i){return function(s,u){e:{if(xr.length){var c=xr.pop();c.setOptions(u),Ut(c.h,s,u),s=c}else s=new Vt(s,u);try{var v=Tl(i),g=ma(new v.P,s,v);break e}finally{v=s.h,v.i=null,v.m=!1,v.l=0,v.j=0,v.h=0,v.S=!1,s.l=-1,s.i=-1,100>xr.length&&xr.push(s)}g=void 0}return g}}function Ll(i){return function(){var s=new kl;va(this,s,_l(i)),kr(s,s.h.end());for(var u=new Uint8Array(s.i),c=s.j,v=c.length,g=0,y=0;y<v;y++){var N=c[y];u.set(N,g),g+=N.length}return s.j=[u],u}}function Er(i){Rt.call(this,i)}se(Er,Rt);var wa=[Er,1,Ch,2,tn,3,ya,4,ya];Er.prototype.l=Ll(wa);function zl(i){Rt.call(this,i,-1,jh)}se(zl,Rt),zl.prototype.addClassification=function(i,s){return ta(this,1,Er,i,s),this};var jh=[1],Sa=Al([zl,1,ga,wa]);function Cr(i){Rt.call(this,i)}se(Cr,Rt);var xa=[Cr,1,tn,2,tn,3,tn,4,tn,5,tn];Cr.prototype.l=Ll(xa);function ka(i){Rt.call(this,i,-1,Mh)}se(ka,Rt);var Mh=[1],Ea=Al([ka,1,ga,xa]);function ro(i){Rt.call(this,i)}se(ro,Rt);var Ca=[ro,1,tn,2,tn,3,tn,4,tn,5,tn,6,Eh],Ph=Al(Ca);ro.prototype.l=Ll(Ca);function ja(i,s,u){if(u=i.createShader(u===0?i.VERTEX_SHADER:i.FRAGMENT_SHADER),i.shaderSource(u,s),i.compileShader(u),!i.getShaderParameter(u,i.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+i.getShaderInfoLog(u));return u}function Ma(i){return Zi(i,Er,1).map(function(s){var u=en(s,1);return{index:u??0,score:mn(s,2),label:en(s,3)!=null?qi(en(s,3),""):void 0,displayName:en(s,4)!=null?qi(en(s,4),""):void 0}})}function Pa(i){return{x:mn(i,1),y:mn(i,2),z:mn(i,3),visibility:Nl(i,4)!=null?mn(i,4):void 0}}function Na(i){return i.map(function(s){return Zi(Ea(s),Cr,1).map(Pa)})}function Il(i,s){this.i=i,this.h=s,this.m=0}function Ra(i,s,u){return Nh(i,s),typeof i.h.canvas.transferToImageBitmap=="function"?Promise.resolve(i.h.canvas.transferToImageBitmap()):u?Promise.resolve(i.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(i.h.canvas):(i.j===void 0&&(i.j=document.createElement("canvas")),new Promise(function(c){i.j.height=i.h.canvas.height,i.j.width=i.h.canvas.width,i.j.getContext("2d",{}).drawImage(i.h.canvas,0,0,i.h.canvas.width,i.h.canvas.height),c(i.j)}))}function Nh(i,s){var u=i.h;if(i.s===void 0){var c=ja(u,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),v=ja(u,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),g=u.createProgram();if(u.attachShader(g,c),u.attachShader(g,v),u.linkProgram(g),!u.getProgramParameter(g,u.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+u.getProgramInfoLog(g));c=i.s=g,u.useProgram(c),v=u.getUniformLocation(c,"sampler0"),i.l={O:u.getAttribLocation(c,"aVertex"),N:u.getAttribLocation(c,"aTex"),xa:v},i.v=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i.v),u.enableVertexAttribArray(i.l.O),u.vertexAttribPointer(i.l.O,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null),i.u=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i.u),u.enableVertexAttribArray(i.l.N),u.vertexAttribPointer(i.l.N,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniform1i(v,0)}c=i.l,u.useProgram(i.s),u.canvas.width=s.width,u.canvas.height=s.height,u.viewport(0,0,s.width,s.height),u.activeTexture(u.TEXTURE0),i.i.bindTexture2d(s.glName),u.enableVertexAttribArray(c.O),u.bindBuffer(u.ARRAY_BUFFER,i.v),u.vertexAttribPointer(c.O,2,u.FLOAT,!1,0,0),u.enableVertexAttribArray(c.N),u.bindBuffer(u.ARRAY_BUFFER,i.u),u.vertexAttribPointer(c.N,2,u.FLOAT,!1,0,0),u.bindFramebuffer(u.DRAW_FRAMEBUFFER?u.DRAW_FRAMEBUFFER:u.FRAMEBUFFER,null),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.colorMask(!0,!0,!0,!0),u.drawArrays(u.TRIANGLE_FAN,0,4),u.disableVertexAttribArray(c.O),u.disableVertexAttribArray(c.N),u.bindBuffer(u.ARRAY_BUFFER,null),i.i.bindTexture2d(0)}function Rh(i){this.h=i}var _h=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Th(i,s){return s+i}function _a(i,s){window[i]=s}function Ah(i){var s=document.createElement("script");return s.setAttribute("src",i),s.setAttribute("crossorigin","anonymous"),new Promise(function(u){s.addEventListener("load",function(){u()},!1),s.addEventListener("error",function(){u()},!1),document.body.appendChild(s)})}function Lh(){return T(function(i){switch(i.h){case 1:return i.s=2,L(i,WebAssembly.instantiate(_h),4);case 4:i.h=3,i.s=0;break;case 2:return i.s=0,i.l=null,i.return(!1);case 3:return i.return(!0)}})}function Ol(i){if(this.h=i,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=i&&i.locateFile||Th,typeof window=="object")var s=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")s=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=s,i.options){s=f(Object.keys(i.options));for(var u=s.next();!u.done;u=s.next()){u=u.value;var c=i.options[u].default;c!==void 0&&(this.l[u]=typeof c=="function"?c():c)}}}e=Ol.prototype,e.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function zh(i){var s,u,c,v,g,y,N,D,Z,le,ke;return T(function(we){switch(we.h){case 1:return i.ga?(s=i.h.files===void 0?[]:typeof i.h.files=="function"?i.h.files(i.l):i.h.files,L(we,Lh(),2)):we.return();case 2:if(u=we.i,typeof window=="object")return _a("createMediapipeSolutionsWasm",{locateFile:i.locateFile}),_a("createMediapipeSolutionsPackedAssets",{locateFile:i.locateFile}),y=s.filter(function(ae){return ae.data!==void 0}),N=s.filter(function(ae){return ae.data===void 0}),D=Promise.all(y.map(function(ae){var Ee=io(i,ae.url);if(ae.path!==void 0){var Re=ae.path;Ee=Ee.then(function(We){return i.overrideFile(Re,We),Promise.resolve(We)})}return Ee})),Z=Promise.all(N.map(function(ae){return ae.simd===void 0||ae.simd&&u||!ae.simd&&!u?Ah(i.locateFile(ae.url,i.ha)):Promise.resolve()})).then(function(){var ae,Ee,Re;return T(function(We){if(We.h==1)return ae=window.createMediapipeSolutionsWasm,Ee=window.createMediapipeSolutionsPackedAssets,Re=i,L(We,ae(Ee),2);Re.i=We.i,We.h=0})}),le=function(){return T(function(ae){return i.h.graph&&i.h.graph.url?ae=L(ae,io(i,i.h.graph.url),0):(ae.h=0,ae=void 0),ae})}(),L(we,Promise.all([Z,D,le]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return c=s.filter(function(ae){return ae.simd===void 0||ae.simd&&u||!ae.simd&&!u}).map(function(ae){return i.locateFile(ae.url,i.ha)}),importScripts.apply(null,d(c)),v=i,L(we,createMediapipeSolutionsWasm(Module),6);case 6:v.i=we.i,i.m=new OffscreenCanvas(1,1),i.i.canvas=i.m,g=i.i.GL.createContext(i.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),i.i.GL.makeContextCurrent(g),we.h=4;break;case 7:if(i.m=document.createElement("canvas"),ke=i.m.getContext("webgl2",{}),!ke&&(ke=i.m.getContext("webgl",{}),!ke))return alert("Failed to create WebGL canvas context when passing video frame."),we.return();i.K=ke,i.i.canvas=i.m,i.i.createContext(i.m,!0,!0,{});case 4:i.j=new i.i.SolutionWasm,i.ga=!1,we.h=0}})}function Ih(i){var s,u,c,v,g,y,N,D;return T(function(Z){if(Z.h==1){if(i.h.graph&&i.h.graph.url&&i.fa===i.h.graph.url)return Z.return();if(i.u=!0,!i.h.graph||!i.h.graph.url){Z.h=2;return}return i.fa=i.h.graph.url,L(Z,io(i,i.h.graph.url),3)}for(Z.h!=2&&(s=Z.i,i.j.loadGraph(s)),u=f(Object.keys(i.D)),c=u.next();!c.done;c=u.next())v=c.value,i.j.overrideFile(v,i.D[v]);if(i.D={},i.h.listeners)for(g=f(i.h.listeners),y=g.next();!y.done;y=g.next())N=y.value,Fh(i,N);D=i.l,i.l={},i.setOptions(D),Z.h=0})}e.reset=function(){var i=this;return T(function(s){i.j&&(i.j.reset(),i.s={},i.v={}),s.h=0})},e.setOptions=function(i,s){var u=this;if(s=s||this.h.options){for(var c=[],v=[],g={},y=f(Object.keys(i)),N=y.next();!N.done;g={X:g.X,Y:g.Y},N=y.next())if(N=N.value,!(N in this.l&&this.l[N]===i[N])){this.l[N]=i[N];var D=s[N];D!==void 0&&(D.onChange&&(g.X=D.onChange,g.Y=i[N],c.push(function(Z){return function(){var le;return T(function(ke){if(ke.h==1)return L(ke,Z.X(Z.Y),2);le=ke.i,le===!0&&(u.u=!0),ke.h=0})}}(g))),D.graphOptionXref&&(N=Object.assign({},{calculatorName:"",calculatorIndex:0},D.graphOptionXref,{valueNumber:D.type===1?i[N]:0,valueBoolean:D.type===0?i[N]:!1,valueString:D.type===2?i[N]:""}),v.push(N)))}(c.length!==0||v.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(v),this.F=(this.F===void 0?[]:this.F).concat(c))}};function Oh(i){var s,u,c,v,g,y,N;return T(function(D){switch(D.h){case 1:if(!i.u)return D.return();if(!i.F){D.h=2;break}s=f(i.F),u=s.next();case 3:if(u.done){D.h=5;break}return c=u.value,L(D,c(),4);case 4:u=s.next(),D.h=3;break;case 5:i.F=void 0;case 2:if(i.H){for(v=new i.i.GraphOptionChangeRequestList,g=f(i.H),y=g.next();!y.done;y=g.next())N=y.value,v.push_back(N);i.j.changeOptions(v),v.delete(),i.H=void 0}i.u=!1,D.h=0}})}e.initialize=function(){var i=this;return T(function(s){return s.h==1?L(s,zh(i),2):s.h!=3?L(s,Ih(i),3):L(s,Oh(i),0)})};function io(i,s){var u,c;return T(function(v){return s in i.L?v.return(i.L[s]):(u=i.locateFile(s,""),c=fetch(u).then(function(g){return g.arrayBuffer()}),i.L[s]=c,v.return(c))})}e.overrideFile=function(i,s){this.j?this.j.overrideFile(i,s):this.D[i]=s},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(i,s){var u=this,c,v,g,y,N,D,Z,le,ke;return T(function(we){switch(we.h){case 1:return u.h.inputs?(c=1e3*(s??performance.now()),L(we,u.I,2)):we.return();case 2:return L(we,u.initialize(),3);case 3:for(v=new u.i.PacketDataList,g=f(Object.keys(i)),y=g.next();!y.done;y=g.next())if(N=y.value,D=u.h.inputs[N]){e:{var ae=i[N];switch(D.type){case"video":var Ee=u.s[D.stream];if(Ee||(Ee=new Il(u.i,u.K),u.s[D.stream]=Ee),Ee.m===0&&(Ee.m=Ee.i.createTexture()),typeof HTMLVideoElement<"u"&&ae instanceof HTMLVideoElement)var Re=ae.videoWidth,We=ae.videoHeight;else typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(Re=ae.naturalWidth,We=ae.naturalHeight):(Re=ae.width,We=ae.height);We={glName:Ee.m,width:Re,height:We},Re=Ee.h,Re.canvas.width=We.width,Re.canvas.height=We.height,Re.activeTexture(Re.TEXTURE0),Ee.i.bindTexture2d(Ee.m),Re.texImage2D(Re.TEXTURE_2D,0,Re.RGBA,Re.RGBA,Re.UNSIGNED_BYTE,ae),Ee.i.bindTexture2d(0),Ee=We;break e;case"detections":for(Ee=u.s[D.stream],Ee||(Ee=new Rh(u.i),u.s[D.stream]=Ee),Ee.data||(Ee.data=new Ee.h.DetectionListData),Ee.data.reset(ae.length),We=0;We<ae.length;++We){Re=ae[We];var Be=Ee.data,ct=Be.setBoundingBox,Gt=We,_t=Re.la,ze=new ro;if(pn(ze,1,_t.ra),pn(ze,2,_t.sa),pn(ze,3,_t.height),pn(ze,4,_t.width),pn(ze,5,_t.rotation),hn(ze,6,_t.pa),_t=ze.l(),ct.call(Be,Gt,_t),Re.ea)for(Be=0;Be<Re.ea.length;++Be){ze=Re.ea[Be],ct=Ee.data,Gt=ct.addNormalizedLandmark,_t=We,ze=Object.assign({},ze,{visibility:ze.visibility?ze.visibility:0});var ft=new Cr;pn(ft,1,ze.x),pn(ft,2,ze.y),pn(ft,3,ze.z),ze.visibility&&pn(ft,4,ze.visibility),ze=ft.l(),Gt.call(ct,_t,ze)}if(Re.ba)for(Be=0;Be<Re.ba.length;++Be)ct=Ee.data,Gt=ct.addClassification,_t=We,ze=Re.ba[Be],ft=new Er,pn(ft,2,ze.score),ze.index&&hn(ft,1,ze.index),ze.label&&hn(ft,3,ze.label),ze.displayName&&hn(ft,4,ze.displayName),ze=ft.l(),Gt.call(ct,_t,ze)}Ee=Ee.data;break e;default:Ee={}}}switch(Z=Ee,le=D.stream,D.type){case"video":v.pushTexture2d(Object.assign({},Z,{stream:le,timestamp:c}));break;case"detections":ke=Z,ke.stream=le,ke.timestamp=c,v.pushDetectionList(ke);break;default:throw Error("Unknown input config type: '"+D.type+"'")}}return u.j.send(v),L(we,u.I,4);case 4:v.delete(),we.h=0}})};function Dh(i,s,u){var c,v,g,y,N,D,Z,le,ke,we,ae,Ee,Re,We;return T(function(Be){switch(Be.h){case 1:if(!u)return Be.return(s);for(c={},v=0,g=f(Object.keys(u)),y=g.next();!y.done;y=g.next())N=y.value,D=u[N],typeof D!="string"&&D.type==="texture"&&s[D.stream]!==void 0&&++v;1<v&&(i.M=!1),Z=f(Object.keys(u)),y=Z.next();case 2:if(y.done){Be.h=4;break}if(le=y.value,ke=u[le],typeof ke=="string")return Re=c,We=le,L(Be,Bh(i,le,s[ke]),14);if(we=s[ke.stream],ke.type==="detection_list"){if(we){for(var ct=we.getRectList(),Gt=we.getLandmarksList(),_t=we.getClassificationsList(),ze=[],ft=0;ft<ct.size();++ft){var Fn=Ph(ct.get(ft)),Wh=mn(Fn,1),Hh=mn(Fn,2),Uh=mn(Fn,3),$h=mn(Fn,4),Vh=mn(Fn,5,0),oo=void 0;oo=oo===void 0?0:oo,Fn={la:{ra:Wh,sa:Hh,height:Uh,width:$h,rotation:Vh,pa:qi(en(Fn,6),oo)},ea:Zi(Ea(Gt.get(ft)),Cr,1).map(Pa),ba:Ma(Sa(_t.get(ft)))},ze.push(Fn)}ct=ze}else ct=[];c[le]=ct,Be.h=7;break}if(ke.type==="proto_list"){if(we){for(ct=Array(we.size()),Gt=0;Gt<we.size();Gt++)ct[Gt]=we.get(Gt);we.delete()}else ct=[];c[le]=ct,Be.h=7;break}if(we===void 0){Be.h=3;break}if(ke.type==="float_list"){c[le]=we,Be.h=7;break}if(ke.type==="proto"){c[le]=we,Be.h=7;break}if(ke.type!=="texture")throw Error("Unknown output config type: '"+ke.type+"'");return ae=i.v[le],ae||(ae=new Il(i.i,i.K),i.v[le]=ae),L(Be,Ra(ae,we,i.M),13);case 13:Ee=Be.i,c[le]=Ee;case 7:ke.transform&&c[le]&&(c[le]=ke.transform(c[le])),Be.h=3;break;case 14:Re[We]=Be.i;case 3:y=Z.next(),Be.h=2;break;case 4:return Be.return(c)}})}function Bh(i,s,u){var c;return T(function(v){return typeof u=="number"||u instanceof Uint8Array||u instanceof i.i.Uint8BlobList?v.return(u):u instanceof i.i.Texture2dDataOut?(c=i.v[s],c||(c=new Il(i.i,i.K),i.v[s]=c),v.return(Ra(c,u,i.M))):v.return(void 0)})}function Fh(i,s){for(var u=s.name||"$",c=[].concat(d(s.wants)),v=new i.i.StringList,g=f(s.wants),y=g.next();!y.done;y=g.next())v.push_back(y.value);g=i.i.PacketListener.implement({onResults:function(N){for(var D={},Z=0;Z<s.wants.length;++Z)D[c[Z]]=N.get(Z);var le=i.listeners[u];le&&(i.I=Dh(i,D,s.outs).then(function(ke){ke=le(ke);for(var we=0;we<s.wants.length;++we){var ae=D[c[we]];typeof ae=="object"&&ae.hasOwnProperty&&ae.hasOwnProperty("delete")&&ae.delete()}ke&&(i.I=ke)}))}}),i.j.attachMultiListener(v,g),v.delete()}e.onResults=function(i,s){this.listeners[s||"$"]=i},ue("Solution",Ol),ue("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ta(i){return i===void 0&&(i=0),i===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Aa(i){var s=this;i=i||{},this.h=new Ol({locateFile:i.locateFile,files:function(u){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Ta(u.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Na},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Na},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(u){return u.map(function(c){return Ma(Sa(c))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(u){var c,v,g;return T(function(y){return y.h==1?(c=Ta(u),v="third_party/mediapipe/modules/hand_landmark/"+c,L(y,io(s.h,c),2)):(g=y.i,s.h.overrideFile(v,g),y.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}e=Aa.prototype,e.close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(i){this.h.onResults(i)},e.initialize=function(){var i=this;return T(function(s){return L(s,i.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(i){var s=this;return T(function(u){return L(u,s.h.send(i),0)})},e.setOptions=function(i){this.h.setOptions(i)},ue("Hands",Aa),ue("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),ue("VERSION","0.4.1675469240")}).call(Br);var jn={};(function(){function e(k){var T=0;return function(){return T<k.length?{done:!1,value:k[T++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,T,J){return k==Array.prototype||k==Object.prototype||(k[T]=J.value),k};function n(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof Br=="object"&&Br];for(var T=0;T<k.length;++T){var J=k[T];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var r=n(this);function o(k,T){if(T)e:{var J=r;k=k.split(".");for(var re=0;re<k.length-1;re++){var fe=k[re];if(!(fe in J))break e;J=J[fe]}k=k[k.length-1],re=J[k],T=T(re),T!=re&&T!=null&&t(J,k,{configurable:!0,writable:!0,value:T})}}o("Symbol",function(k){function T(ue){if(this instanceof T)throw new TypeError("Symbol is not a constructor");return new J(re+(ue||"")+"_"+fe++,ue)}function J(ue,G){this.g=ue,t(this,"description",{configurable:!0,writable:!0,value:G})}if(k)return k;J.prototype.toString=function(){return this.g};var re="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",fe=0;return T}),o("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var T="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),J=0;J<T.length;J++){var re=r[T[J]];typeof re=="function"&&typeof re.prototype[k]!="function"&&t(re.prototype,k,{configurable:!0,writable:!0,value:function(){return l(e(this))}})}return k});function l(k){return k={next:k},k[Symbol.iterator]=function(){return this},k}function a(k){var T=typeof Symbol<"u"&&Symbol.iterator&&k[Symbol.iterator];return T?T.call(k):{next:e(k)}}function f(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function d(k){if(k.i)throw new TypeError("Generator is already running");k.i=!0}f.prototype.l=function(k){this.o=k};function x(k,T){k.h={F:T,G:!0},k.j=k.m}f.prototype.return=function(k){this.h={return:k},this.j=this.m};function I(k){this.g=new f,this.h=k}function O(k,T){d(k.g);var J=k.g.g;return J?A(k,"return"in J?J.return:function(re){return{value:re,done:!0}},T,k.g.return):(k.g.return(T),Q(k))}function A(k,T,J,re){try{var fe=T.call(k.g.g,J);if(!(fe instanceof Object))throw new TypeError("Iterator result "+fe+" is not an object");if(!fe.done)return k.g.i=!1,fe;var ue=fe.value}catch(G){return k.g.g=null,x(k.g,G),Q(k)}return k.g.g=null,re.call(k.g,ue),Q(k)}function Q(k){for(;k.g.j;)try{var T=k.h(k.g);if(T)return k.g.i=!1,{value:T.value,done:!1}}catch(J){k.g.o=void 0,x(k.g,J)}if(k.g.i=!1,k.g.h){if(T=k.g.h,k.g.h=null,T.G)throw T.F;return{value:T.return,done:!0}}return{value:void 0,done:!0}}function B(k){this.next=function(T){return d(k.g),k.g.g?T=A(k,k.g.g.next,T,k.g.l):(k.g.l(T),T=Q(k)),T},this.throw=function(T){return d(k.g),k.g.g?T=A(k,k.g.g.throw,T,k.g.l):(x(k.g,T),T=Q(k)),T},this.return=function(T){return O(k,T)},this[Symbol.iterator]=function(){return this}}function te(k){function T(re){return k.next(re)}function J(re){return k.throw(re)}return new Promise(function(re,fe){function ue(G){G.done?re(G.value):Promise.resolve(G.value).then(T,J).then(ue,fe)}ue(k.next())})}o("Promise",function(k){function T(G){this.h=0,this.i=void 0,this.g=[],this.o=!1;var ie=this.j();try{G(ie.resolve,ie.reject)}catch(U){ie.reject(U)}}function J(){this.g=null}function re(G){return G instanceof T?G:new T(function(ie){ie(G)})}if(k)return k;J.prototype.h=function(G){if(this.g==null){this.g=[];var ie=this;this.i(function(){ie.l()})}this.g.push(G)};var fe=r.setTimeout;J.prototype.i=function(G){fe(G,0)},J.prototype.l=function(){for(;this.g&&this.g.length;){var G=this.g;this.g=[];for(var ie=0;ie<G.length;++ie){var U=G[ie];G[ie]=null;try{U()}catch(X){this.j(X)}}}this.g=null},J.prototype.j=function(G){this.i(function(){throw G})},T.prototype.j=function(){function G(X){return function(ne){U||(U=!0,X.call(ie,ne))}}var ie=this,U=!1;return{resolve:G(this.A),reject:G(this.l)}},T.prototype.A=function(G){if(G===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(G instanceof T)this.C(G);else{e:switch(typeof G){case"object":var ie=G!=null;break e;case"function":ie=!0;break e;default:ie=!1}ie?this.v(G):this.m(G)}},T.prototype.v=function(G){var ie=void 0;try{ie=G.then}catch(U){this.l(U);return}typeof ie=="function"?this.D(ie,G):this.m(G)},T.prototype.l=function(G){this.u(2,G)},T.prototype.m=function(G){this.u(1,G)},T.prototype.u=function(G,ie){if(this.h!=0)throw Error("Cannot settle("+G+", "+ie+"): Promise already settled in state"+this.h);this.h=G,this.i=ie,this.h===2&&this.B(),this.H()},T.prototype.B=function(){var G=this;fe(function(){if(G.I()){var ie=r.console;typeof ie<"u"&&ie.error(G.i)}},1)},T.prototype.I=function(){if(this.o)return!1;var G=r.CustomEvent,ie=r.Event,U=r.dispatchEvent;return typeof U>"u"?!0:(typeof G=="function"?G=new G("unhandledrejection",{cancelable:!0}):typeof ie=="function"?G=new ie("unhandledrejection",{cancelable:!0}):(G=r.document.createEvent("CustomEvent"),G.initCustomEvent("unhandledrejection",!1,!0,G)),G.promise=this,G.reason=this.i,U(G))},T.prototype.H=function(){if(this.g!=null){for(var G=0;G<this.g.length;++G)ue.h(this.g[G]);this.g=null}};var ue=new J;return T.prototype.C=function(G){var ie=this.j();G.s(ie.resolve,ie.reject)},T.prototype.D=function(G,ie){var U=this.j();try{G.call(ie,U.resolve,U.reject)}catch(X){U.reject(X)}},T.prototype.then=function(G,ie){function U(ge,Ce){return typeof ge=="function"?function(Ae){try{X(ge(Ae))}catch(q){ne(q)}}:Ce}var X,ne,ve=new T(function(ge,Ce){X=ge,ne=Ce});return this.s(U(G,X),U(ie,ne)),ve},T.prototype.catch=function(G){return this.then(void 0,G)},T.prototype.s=function(G,ie){function U(){switch(X.h){case 1:G(X.i);break;case 2:ie(X.i);break;default:throw Error("Unexpected state: "+X.h)}}var X=this;this.g==null?ue.h(U):this.g.push(U),this.o=!0},T.resolve=re,T.reject=function(G){return new T(function(ie,U){U(G)})},T.race=function(G){return new T(function(ie,U){for(var X=a(G),ne=X.next();!ne.done;ne=X.next())re(ne.value).s(ie,U)})},T.all=function(G){var ie=a(G),U=ie.next();return U.done?re([]):new T(function(X,ne){function ve(Ae){return function(q){ge[Ae]=q,Ce--,Ce==0&&X(ge)}}var ge=[],Ce=0;do ge.push(void 0),Ce++,re(U.value).s(ve(ge.length-1),ne),U=ie.next();while(!U.done)})},T});var se=typeof Object.assign=="function"?Object.assign:function(k,T){for(var J=1;J<arguments.length;J++){var re=arguments[J];if(re)for(var fe in re)Object.prototype.hasOwnProperty.call(re,fe)&&(k[fe]=re[fe])}return k};o("Object.assign",function(k){return k||se});var M=this||self,S={facingMode:"user",width:640,height:480};function C(k,T){this.video=k,this.i=0,this.h=Object.assign(Object.assign({},S),T)}C.prototype.stop=function(){var k=this,T,J,re,fe;return te(new B(new I(function(ue){if(k.g){for(T=k.g.getTracks(),J=a(T),re=J.next();!re.done;re=J.next())fe=re.value,fe.stop();k.g=void 0}ue.j=0})))},C.prototype.start=function(){var k=this,T;return te(new B(new I(function(J){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),T=k.h,J.return(navigator.mediaDevices.getUserMedia({video:{facingMode:T.facingMode,width:T.width,height:T.height}}).then(function(re){W(k,re)}).catch(function(re){var fe="Failed to acquire camera feed: "+re;throw console.error(fe),alert(fe),re}))})))};function L(k){window.requestAnimationFrame(function(){b(k)})}function W(k,T){k.g=T,k.video.srcObject=T,k.video.onloadedmetadata=function(){k.video.play(),L(k)}}function b(k){var T=null;k.video.paused||k.video.currentTime===k.i||(k.i=k.video.currentTime,T=k.h.onFrame()),T?T.then(function(){L(k)}):L(k)}var F=["Camera"],H=M;F[0]in H||typeof H.execScript>"u"||H.execScript("var "+F[0]);for(var he;F.length&&(he=F.shift());)F.length||C===void 0?H[he]&&H[he]!==Object.prototype[he]?H=H[he]:H=H[he]={}:H[he]=C}).call(Br);const Xe=(...e)=>{console.log("[Detector]",...e)},yn={red:{lower1:[0,120,70],upper1:[10,255,255],lower2:[170,120,70],upper2:[180,255,255]},blue:{lower:[100,150,70],upper:[130,255,255]}},xt={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Gc(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),[o,l]=_.useState(!1),[a,f]=_.useState("None"),[d,x]=_.useState([]),[I,O]=_.useState(null),[A,Q]=_.useState(null),[B,te]=_.useState(null),[se,M]=_.useState({a:null,b:null}),S=_.useRef(null),C=_.useRef(null),L=(h,m)=>{const j=localStorage.getItem(h);if(j===null)return m;const p=parseFloat(j);return Number.isFinite(p)?p:m},[W,b]=_.useState(()=>({roiSize:(()=>{const h=L(xt.roiSize,44);return h>10?h:44})(),hueWeight:L(xt.hueWeight,4),satWeight:L(xt.satWeight,2),valWeight:L(xt.valWeight,1),sensitivity:L(xt.sensitivity,0)})),F=_.useRef(W),H=_.useRef(null),he=_.useRef(!1),k=_.useRef(0),T=_.useRef(null),J=_.useCallback(h=>{Xe("Removing video event listeners (if any were attached).")},[Xe]),re=_.useCallback(async()=>{const h=e.current;if(!h)return;H.current&&(Xe("Stopping existing stream before requesting new one."),H.current.getTracks().forEach(j=>j.stop()),H.current=null),Ae();const m=++k.current;T.current=null,Xe("Requesting getUserMedia...");try{const j=await navigator.mediaDevices.getUserMedia({video:!0});if(!he.current||m!==k.current){Xe("Stale camera request (unmounted or superseded). Stopping stream."),j.getTracks().forEach(p=>p.stop());return}if(H.current=j,Xe("getUserMedia success. Tracks:",j.getVideoTracks()),h.srcObject=j,await new Promise(p=>{if(h.readyState>=1&&h.videoWidth>0&&h.videoHeight>0)return p();const P=()=>{h.removeEventListener("loadedmetadata",P),p()};h.addEventListener("loadedmetadata",P,{once:!0}),setTimeout(()=>{h.removeEventListener("loadedmetadata",P),p()},1500)}),!he.current||m!==k.current){Xe("Stale request before play(). Stopping stream."),j.getTracks().forEach(p=>p.stop());return}try{await h.play(),Xe("video.play() promise resolved. Video should be playing.")}catch(p){if(console.error("[Detector] video.play() promise rejected:",p),Xe("video.play() promise rejected:",p.name,p.message),m!==k.current){Xe("play() aborted due to newer request."),j.getTracks().forEach(E=>E.stop());return}}T.current!==m&&(T.current=m,Xe("Initializing MediaPipe for request id",m),U())}catch(j){console.error("[Detector] Error accessing camera:",j),Xe("getUserMedia error:",j.name,j.message)}},[Xe,J]),fe=(h,m,j)=>{const p=(h||0)*2,E=(m||0)/255,P=(j||0)/255,z=P*E,R=z*(1-Math.abs(p/60%2-1)),$=P-z;let V=0,K=0,Y=0;p>=0&&p<60?(V=z,K=R,Y=0):p<120?(V=R,K=z,Y=0):p<180?(V=0,K=z,Y=R):p<240?(V=0,K=R,Y=z):p<300?(V=R,K=0,Y=z):(V=z,K=0,Y=R);const ce=Math.round((V+$)*255),ye=Math.round((K+$)*255),de=Math.round((Y+$)*255);return`rgb(${ce}, ${ye}, ${de})`},ue=h=>h?fe(h.h,h.s,h.v):"#ffffff",G=h=>h==="Player A"&&A?ue(A):h==="Player B"&&B?ue(B):h==="Red"?"#ff0000":h==="Blue"?"#0000ff":"#ffffff";_.useEffect(()=>{he.current=!0,Xe("Mounting detector. UA:",navigator.userAgent,"Platform:",navigator.platform,"Visibility:",document.visibilityState),re();const h=()=>{try{const j=JSON.parse(localStorage.getItem("calibrationA")||"null"),p=JSON.parse(localStorage.getItem("calibrationB")||"null");j&&Q({h:j.h,s:j.s,v:j.v}),p&&te({h:p.h,s:p.s,v:p.v})}catch{Xe("No existing calibrations")}};h();const m=j=>{!j||!j.key||(["calibrationA","calibrationB"].includes(j.key)&&h(),[xt.roiSize,xt.hueWeight,xt.satWeight,xt.valWeight,xt.sensitivity].includes(j.key)&&b(p=>({roiSize:(()=>{const E=L(xt.roiSize,(p==null?void 0:p.roiSize)??44);return E>10?E:(p==null?void 0:p.roiSize)??44})(),hueWeight:L(xt.hueWeight,(p==null?void 0:p.hueWeight)??4),satWeight:L(xt.satWeight,(p==null?void 0:p.satWeight)??2),valWeight:L(xt.valWeight,(p==null?void 0:p.valWeight)??1),sensitivity:L(xt.sensitivity,(p==null?void 0:p.sensitivity)??0)})))};return window.addEventListener("storage",m),()=>{he.current=!1,Xe("Cleanup: Component unmounting."),k.current+=1,T.current=null,r.current&&(Xe("Cleanup: Stopping MediaPipe camera."),r.current.stop(),r.current=null),H.current&&(Xe("Cleanup: Stopping camera stream."),H.current.getTracks().forEach(p=>p.stop()),H.current=null);const j=e.current;j&&(j.srcObject=null,J(j)),n.current&&(Xe("Cleanup: Closing MediaPipe hands."),n.current.close(),n.current=null),window.removeEventListener("storage",m)}},[re,J,Xe]),_.useEffect(()=>{S.current=A},[A]),_.useEffect(()=>{C.current=B},[B]),_.useEffect(()=>{F.current=W},[W]),_.useEffect(()=>{const h=setInterval(()=>{f(m=>(ie(m),m))},1e3);return()=>clearInterval(h)},[]);const ie=h=>{const j={timestamp:new Date().toISOString(),status:h};x(E=>[...E,j]);const p=JSON.parse(localStorage.getItem("braceletDetections")||"[]");p.push(j),localStorage.setItem("braceletDetections",JSON.stringify(p))},U=async()=>{try{const h=await(async()=>{try{if(typeof Cn.Hands=="function")return Cn.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((j,p)=>{const E="mp-hands-cdn-script";if(document.getElementById(E))return j();const P=document.createElement("script");P.id=E,P.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",P.async=!0,P.onload=()=>j(),P.onerror=z=>p(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(P)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),m=new h({locateFile:j=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${j}`});if(m.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),m.onResults(X),n.current=m,e.current){const j=await(async()=>{try{if(typeof jn.Camera=="function")return jn.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((E,P)=>{const z="mp-camera-utils-cdn-script";if(document.getElementById(z))return E();const R=document.createElement("script");R.id=z,R.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",R.async=!0,R.onload=()=>E(),R.onerror=$=>P(new Error("Failed to load MediaPipe Camera from CDN")),document.head.appendChild(R)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available after CDN load")})(),p=new j(e.current,{onFrame:async()=>{await m.send({image:e.current})},width:640,height:480});p.start(),r.current=p}}catch(h){console.error("MediaPipe initialization error:",h),O(`MediaPipe error: ${h.message}`)}},X=h=>{var z;const m=t.current,j=e.current;if(!m||!j)return;const p=m.getContext("2d");m.width=j.videoWidth,m.height=j.videoHeight,p.drawImage(j,0,0,m.width,m.height);let E="None";if(h.multiHandLandmarks&&h.multiHandLandmarks.length>0){Xe("onResults: hands=",h.multiHandLandmarks.length);let R=null,$=1;if(h.multiHandLandmarks.forEach(V=>{const K=V[0];K.y<$&&($=K.y,R=V)}),h.multiHandLandmarks.forEach(V=>{ne(p,V,m.width,m.height)}),R){const V=R[0],K=V.x*m.width,Y=V.y*m.height;p.fillStyle="lime",p.beginPath(),p.arc(K,Y,10,0,2*Math.PI),p.fill(),p.fillStyle="lime",p.font="16px Arial",p.fillText("SELECTED",K-40,Y-15);const ye=Math.max(10,Math.min(300,Math.floor(((z=F.current)==null?void 0:z.roiSize)||60)))/2,de=Math.max(0,K-ye),me=Math.max(0,Y-ye),Me=Math.min(m.width,K+ye),xe=Math.min(m.height,Y+ye);p.strokeStyle="lime",p.lineWidth=3,p.strokeRect(de,me,Me-de,xe-me);const Se=p.getImageData(de,me,Me-de,xe-me),Te=S.current,Pe=C.current,je=ge(Se,Te,Pe);E=je.status,M({a:je.percentA,b:je.percentB}),Xe("Detection result:",E,{roi:{x1:de,y1:me,w:Me-de,h:xe-me}})}}let P="#ffffff";E==="Player A"&&S.current?P=ue(S.current):E==="Player B"&&C.current&&(P=ue(C.current)),p.fillStyle=P,p.font="bold 32px Arial",p.fillText(`Status: ${E}`,10,40),f(E)},ne=(h,m,j,p)=>{h.strokeStyle="white",h.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([P,z])=>{const R=m[P],$=m[z];h.beginPath(),h.moveTo(R.x*j,R.y*p),h.lineTo($.x*j,$.y*p),h.stroke()}),m.forEach(P=>{h.fillStyle="red",h.beginPath(),h.arc(P.x*j,P.y*p,5,0,2*Math.PI),h.fill()})},ve=h=>{const m=h.data;let j=0,p=0;for(let E=0;E<m.length;E+=4){const P=m[E],z=m[E+1],R=m[E+2],$=Ce(P,z,R);($[0]>=yn.red.lower1[0]&&$[0]<=yn.red.upper1[0]||$[0]>=yn.red.lower2[0]&&$[0]<=yn.red.upper2[0])&&$[1]>=yn.red.lower1[1]&&$[2]>=yn.red.lower1[2]&&j++,$[0]>=yn.blue.lower[0]&&$[0]<=yn.blue.upper[0]&&$[1]>=yn.blue.lower[1]&&$[2]>=yn.blue.lower[2]&&p++}return{redCount:j,blueCount:p}},ge=(h,m,j)=>{var ye,de,me,Me;const p=h.data;if(m&&!j)return{status:"Player A",percentA:null,percentB:null};if(j&&!m)return{status:"Player B",percentA:null,percentB:null};const E=((ye=F.current)==null?void 0:ye.hueWeight)??4,P=((de=F.current)==null?void 0:de.satWeight)??2,z=((me=F.current)==null?void 0:me.valWeight)??1,R=((Me=F.current)==null?void 0:Me.sensitivity)??0;if(m&&j){let xe=0,Se=0,Te=0;for(let Ie=0;Ie<p.length;Ie+=4){const Je=p[Ie],Ze=p[Ie+1],Ne=p[Ie+2],[$e,ot,ut]=Ce(Je,Ze,Ne),mt=Math.min(1,Math.max(0,ot/255)),Ut=Math.min(1,Math.max(0,ut/255)),at=Math.max(.05,.5*mt+.5*Ut),$t=Math.min(Math.abs($e-m.h),180-Math.abs($e-m.h)),Mn=Math.min(Math.abs($e-j.h),180-Math.abs($e-j.h)),fn=Math.abs(ot-m.s),qt=Math.abs(ot-j.s),Nt=Math.abs(ut-m.v),St=Math.abs(ut-j.v),Vt=$t*E+fn*P+Nt*z,Xt=Mn*E+qt*P+St*z;Math.min(Vt,Xt)>180||(Vt<=Xt?xe+=at:Se+=at,Te+=at)}if(Te===0)return{status:"None",percentA:0,percentB:0};const Pe=xe/Math.max(1e-6,Te),je=Se/Math.max(1e-6,Te),De=.12*(1+.8*Math.max(0,Math.min(1,R)));return Pe>=De&&Pe>=je?{status:"Player A",percentA:Pe,percentB:je}:je>=De&&je>Pe?{status:"Player B",percentA:Pe,percentB:je}:{status:"None",percentA:Pe,percentB:je}}const{redCount:$,blueCount:V}=ve(h),K=$+V;if(K===0)return{status:"None",percentA:0,percentB:0};const Y=$/K,ce=V/K;return Y>=.15&&Y>=ce?{status:"Player A",percentA:Y,percentB:ce}:ce>=.15&&ce>Y?{status:"Player B",percentA:Y,percentB:ce}:{status:"None",percentA:Y,percentB:ce}},Ce=(h,m,j)=>{h/=255,m/=255,j/=255;const p=Math.max(h,m,j),E=Math.min(h,m,j),P=p-E;let z=0;P!==0&&(p===h?z=60*((m-j)/P%6):p===m?z=60*((j-h)/P+2):z=60*((h-m)/P+4)),z<0&&(z+=360);const R=p===0?0:P/p*255,$=p*255;return[z/2,R,$]},Ae=h=>{Xe("Adding video event listeners (if needed in the future).")},q=()=>{const h=JSON.parse(localStorage.getItem("braceletDetections")||"[]"),m=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),j=URL.createObjectURL(m),p=document.createElement("a");p.href=j,p.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.json`,p.click();const E=h.map($=>`${$.timestamp}: ${$.status}`).join(`
`),P=new Blob([E],{type:"text/plain"}),z=URL.createObjectURL(P),R=document.createElement("a");R.href=z,R.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.txt`,R.click()},oe=()=>{localStorage.removeItem("braceletDetections"),x([])};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[w.jsxs("div",{className:"detector-header",children:[w.jsx("span",{children:"Bracelet Detector"}),w.jsxs("div",{className:"detector-controls",children:[w.jsx("button",{onClick:q,title:"Download Logs",children:""}),w.jsx("button",{onClick:oe,title:"Clear Logs",children:""}),w.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),w.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[w.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),w.jsx("canvas",{ref:t,className:"output_canvas"}),w.jsxs("div",{className:"detector-info",children:[w.jsxs("div",{className:"status-display",children:["Status: ",w.jsx("span",{style:{color:G(a),fontWeight:700},children:a})]}),w.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),w.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:A?ue(A):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"A confidence",children:se.a==null?"":`${Math.round(Math.max(0,Math.min(1,se.a))*100)}%`})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),w.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?ue(B):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"B confidence",children:se.b==null?"":`${Math.round(Math.max(0,Math.min(1,se.b))*100)}%`})]})]}),w.jsxs("div",{className:"log-count",children:["Logs: ",d?d.length:0]}),w.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[w.jsxs("div",{children:["A: ",A?`h${Math.round(A.h)} s${Math.round(A.s)} v${Math.round(A.v)}`:""]}),w.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})})}const as=(...e)=>{console.log("[Calibrate]",...e)},gn={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"},Mv=(e,t,n)=>{const r=(e||0)*2,o=(t||0)/255,l=(n||0)/255,a=l*o,f=a*(1-Math.abs(r/60%2-1)),d=l-a;let x=0,I=0,O=0;r>=0&&r<60?(x=a,I=f,O=0):r<120?(x=f,I=a,O=0):r<180?(x=0,I=a,O=f):r<240?(x=0,I=f,O=a):r<300?(x=f,I=0,O=a):(x=a,I=0,O=f);const A=Math.round((x+d)*255),Q=Math.round((I+d)*255),B=Math.round((O+d)*255);return`rgb(${A}, ${Q}, ${B})`},Qc=e=>e?Mv(e.h,e.s,e.v):"#444";function Pv(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(!1),o=_.useRef(0),[l,a]=_.useState(!1),[f,d]=_.useState(""),[x,I]=_.useState(null),[O,A]=_.useState(null),Q=(h,m)=>{const j=localStorage.getItem(h);if(j===null)return m;const p=parseFloat(j);return Number.isFinite(p)?p:m},[B,te]=_.useState(()=>{const h=Q(gn.roiSize,44);return h>10?h:44}),[se,M]=_.useState(()=>Q(gn.hueWeight,4)),[S,C]=_.useState(()=>Q(gn.satWeight,2)),[L,W]=_.useState(()=>Q(gn.valWeight,1)),[b,F]=_.useState(()=>Q(gn.sensitivity,0)),[H,he]=_.useState(!1),[k,T]=_.useState("idle"),[J,re]=_.useState(5),fe=_.useRef({A:[],B:[]});_.useEffect(()=>{r.current=!0;try{const h=JSON.parse(localStorage.getItem("calibrationA")||"null"),m=JSON.parse(localStorage.getItem("calibrationB")||"null");h&&I(h),m&&A(m)}catch{}return(async()=>await ue())(),()=>{r.current=!1,o.current+=1,n.current&&(n.current.getTracks().forEach(m=>m.stop()),n.current=null);const h=e.current;h&&(h.srcObject=null)}},[]),_.useEffect(()=>{localStorage.setItem(gn.roiSize,String(B))},[B]),_.useEffect(()=>{localStorage.setItem(gn.hueWeight,String(se))},[se]),_.useEffect(()=>{localStorage.setItem(gn.satWeight,String(S))},[S]),_.useEffect(()=>{localStorage.setItem(gn.valWeight,String(L))},[L]),_.useEffect(()=>{localStorage.setItem(gn.sensitivity,String(b))},[b]);const ue=_.useCallback(async()=>{const h=e.current;if(!h)return;n.current&&(n.current.getTracks().forEach(j=>j.stop()),n.current=null);const m=++o.current;a(!1),d("Requesting camera...");try{const j=await navigator.mediaDevices.getUserMedia({video:!0});if(!r.current||m!==o.current){j.getTracks().forEach(p=>p.stop());return}if(n.current=j,h.srcObject=j,await new Promise(p=>{if(h.readyState>=1&&h.videoWidth>0)return p();const P=()=>{h.removeEventListener("loadedmetadata",P),p()};h.addEventListener("loadedmetadata",P,{once:!0}),setTimeout(()=>{h.removeEventListener("loadedmetadata",P),p()},1500)}),!r.current||m!==o.current){j.getTracks().forEach(p=>p.stop());return}try{await h.play(),as("video.play resolved")}catch(p){as("video.play rejected",p)}a(!0),d("")}catch(j){d(`Camera error: ${(j==null?void 0:j.message)||j}`),as("getUserMedia error",j)}},[]),G=(h,m,j)=>{h/=255,m/=255,j/=255;const p=Math.max(h,m,j),E=Math.min(h,m,j),P=p-E;let z=0;P!==0&&(p===h?z=60*((m-j)/P%6):p===m?z=60*((j-h)/P+2):z=60*((h-m)/P+4)),z<0&&(z+=360);const R=p===0?0:P/p*255,$=p*255;return[z/2,R,$]},ie=()=>{const h=e.current,m=t.current;if(!h||!m||h.videoWidth===0)return null;const j=h.videoWidth,p=h.videoHeight;m.width=j,m.height=p;const E=m.getContext("2d");E.drawImage(h,0,0,j,p);const P=Math.max(10,Math.min(300,Math.floor(B))),z=Math.floor(j/2-P/2),R=Math.floor(p/2-P/2),V=E.getImageData(z,R,P,P).data;let K=0,Y=0,ce=0,ye=0,de=0;for(let De=0;De<V.length;De+=4){const[Ie,Je,Ze]=G(V[De],V[De+1],V[De+2]),Ne=Ie*2*(Math.PI/180);K+=Math.cos(Ne),Y+=Math.sin(Ne),ce+=Je,ye+=Ze,de++}if(de===0)return null;const me=ce/de,Me=ye/de,xe=K/de,Se=Y/de;let Pe=Math.atan2(Se,xe)*(180/Math.PI);return Pe<0&&(Pe+=360),{h:Pe/2,s:me,v:Me}},U=h=>{const m=ie();if(!m){d("Could not sample video frame.");return}h==="A"?(localStorage.setItem("calibrationA",JSON.stringify(m)),I(m),d(`Saved Player A: h${m.h.toFixed(0)}`)):(localStorage.setItem("calibrationB",JSON.stringify(m)),A(m),d(`Saved Player B: h${m.h.toFixed(0)}`))},X=h=>{h==="A"?(localStorage.removeItem("calibrationA"),I(null)):(localStorage.removeItem("calibrationB"),A(null)),d("Cleared")},ne=()=>{he(!0),T("playerA"),re(5),fe.current={A:[],B:[]},d("Hold Player A bracelet in center square...")};_.useEffect(()=>{if(!(!H||k==="idle"||k==="optimizing"||k==="complete"))if(J>0){const h=setTimeout(()=>{re(J-1)},1e3);return()=>clearTimeout(h)}else k==="playerA"?(T("switching"),re(3),d("Switch to Player B... Get ready!")):k==="switching"?(T("playerB"),re(5),d("Hold Player B bracelet in center square...")):k==="playerB"&&(T("optimizing"),ve())},[H,k,J]),_.useEffect(()=>{if(!H||k==="idle"||k==="switching"||k==="optimizing"||k==="complete")return;const h=setInterval(()=>{const m=ie();m&&(k==="playerA"?fe.current.A.push(m):k==="playerB"&&fe.current.B.push(m))},200);return()=>clearInterval(h)},[H,k]);const ve=()=>{d("Optimizing parameters...");const h=fe.current.A,m=fe.current.B;if(h.length===0||m.length===0){d("Error: Not enough samples collected!"),he(!1),T("idle");return}const j=ge(h),p=ge(m),E=Math.min(Math.abs(j.h-p.h),180-Math.abs(j.h-p.h)),P=Math.abs(j.s-p.s),z=Math.abs(j.v-p.v),R=E/90,$=P/255,V=z/255,K=Ce(h),Y=Ce(m),ce={h:(K.h+Y.h)/2,s:(K.s+Y.s)/2,v:(K.v+Y.v)/2},ye=R+$+V,de=ye>0?R/ye*(1/(1+ce.h/20))*6:2,me=ye>0?$/ye*(1/(1+ce.s/50))*4:1,Me=ye>0?V/ye*(1/(1+ce.v/50))*3:.5;M(Math.max(.5,Math.min(6,de))),C(Math.max(.1,Math.min(4,me))),W(Math.max(.1,Math.min(3,Me)));const xe=Ae(h,m,j,p),Se=Math.max(0,Math.min(.8,xe*.5));F(Se),localStorage.setItem("calibrationA",JSON.stringify(j)),localStorage.setItem("calibrationB",JSON.stringify(p)),I(j),A(p),T("complete"),d(` Auto-calibration complete! Collected ${h.length+m.length} samples. Optimized parameters for best separation.`),setTimeout(()=>{he(!1),T("idle")},3e3)},ge=h=>{const m=h.map(Y=>Y.h),j=h.map(Y=>Y.s).sort((Y,ce)=>Y-ce),p=h.map(Y=>Y.v).sort((Y,ce)=>Y-ce);let E=0,P=0;m.forEach(Y=>{const ce=Y*2*(Math.PI/180);E+=Math.cos(ce),P+=Math.sin(ce)});let R=Math.atan2(P/m.length,E/m.length)*(180/Math.PI);R<0&&(R+=360);const $=R/2,V=j[Math.floor(j.length/2)],K=p[Math.floor(p.length/2)];return{h:$,s:V,v:K}},Ce=h=>{const m=h.reduce((p,E)=>({h:p.h+E.h,s:p.s+E.s,v:p.v+E.v}),{h:0,s:0,v:0});m.h/=h.length,m.s/=h.length,m.v/=h.length;const j=h.reduce((p,E)=>({h:p.h+Math.pow(E.h-m.h,2),s:p.s+Math.pow(E.s-m.s,2),v:p.v+Math.pow(E.v-m.v,2)}),{h:0,s:0,v:0});return{h:j.h/h.length,s:j.s/h.length,v:j.v/h.length}},Ae=(h,m,j,p)=>{let E=0;const P=Math.min(h.length,m.length)*2;return h.forEach(z=>{const R=q(z,j);q(z,p)<R*1.5&&E++}),m.forEach(z=>{const R=q(z,j),$=q(z,p);R<$*1.5&&E++}),E/P},q=(h,m)=>{const j=Math.min(Math.abs(h.h-m.h),180-Math.abs(h.h-m.h)),p=Math.abs(h.s-m.s),E=Math.abs(h.v-m.v);return Math.sqrt(j*j+p*p+E*E)},oe=()=>{he(!1),T("idle"),re(5),d("Generic mode cancelled")};return w.jsxs("div",{className:"calib-root",children:[w.jsxs("div",{className:"calib-header",children:[w.jsx("h2",{children:"Color Calibration"}),w.jsxs("div",{className:"calib-actions",children:[w.jsx("button",{onClick:()=>window.location.hash="",children:"Back"}),w.jsx("button",{onClick:ue,children:"Restart Camera"})]})]}),f&&w.jsx("div",{className:"calib-message",children:f}),w.jsxs("div",{className:"calib-content",children:[w.jsx("div",{children:w.jsxs("div",{className:"calib-block",style:{marginBottom:12},children:[w.jsx("div",{className:"label",children:"Live Preview"}),w.jsx("div",{className:"value",style:{marginBottom:8},children:H?`Generic Mode Active: ${k==="playerA"?"Player A":k==="switching"?"Switching...":k==="playerB"?"Player B":"Processing..."}`:"Place the bracelet color inside the center square to sample accurate HSV."}),w.jsxs("div",{className:"calib-video-wrap",children:[w.jsx("video",{ref:e,className:"calib-video",autoPlay:!0,playsInline:!0,muted:!0}),w.jsx("div",{className:"calib-center-box",style:{width:B,height:B,borderColor:"#22d3ee",borderWidth:H?"4px":"3px",boxShadow:H?"0 0 20px rgba(34, 211, 238, 0.6)":"0 0 0 2000px rgba(0,0,0,0.35)"}}),H&&J>0&&w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"72px",fontWeight:"bold",color:"#22d3ee",textShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.5)",pointerEvents:"none",zIndex:10},children:J})]})]})}),w.jsxs("div",{className:"calib-controls",children:[w.jsxs("div",{className:"calib-block",style:{background:H?"#1a2332":"#0f172a",border:H?"2px solid #22d3ee":"1px solid #1f2937"},children:[w.jsx("div",{className:"label",children:" Generic Mode (Auto-Calibration)"}),w.jsx("div",{className:"value",style:{fontSize:13,marginBottom:8},children:"Automatically calibrate both players with optimized parameters. Hold each bracelet in the center square for 5 seconds."}),H?w.jsxs("div",{style:{marginTop:8},children:[w.jsxs("div",{style:{fontSize:16,fontWeight:"bold",color:"#22d3ee",marginBottom:8},children:[k==="playerA"&&`Player A: Hold bracelet steady... ${J}s`,k==="switching"&&`Switch hands! Get Player B ready... ${J}s`,k==="playerB"&&`Player B: Hold bracelet steady... ${J}s`,k==="optimizing"&&"Optimizing parameters...",k==="complete"&&" Complete!"]}),w.jsxs("div",{style:{fontSize:12,opacity:.7,marginBottom:8},children:[k==="playerA"&&`Samples collected: ${fe.current.A.length}`,k==="switching"&&`Player A: ${fe.current.A.length} samples collected`,k==="playerB"&&`Samples collected: ${fe.current.B.length}`]}),k!=="complete"&&w.jsx("button",{onClick:oe,style:{background:"#ef4444"},children:"Cancel"})]}):w.jsx("div",{className:"buttons",children:w.jsx("button",{onClick:ne,disabled:!l,style:{background:"#22d3ee",color:"#000",fontWeight:"bold"},children:"Start Generic Mode"})})]}),w.jsxs("div",{className:"calib-block",children:[w.jsx("div",{className:"label",children:"Detector Settings"}),w.jsxs("div",{className:"value",style:{display:"grid",gap:8},children:[w.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[w.jsx("span",{children:"Detection square size"}),w.jsx("input",{type:"range",min:"20",max:"240",step:"2",value:B,onChange:h=>te(Number(h.target.value))}),w.jsxs("span",{style:{textAlign:"right"},children:[B,"px"]})]}),w.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[w.jsx("span",{children:"Hue weight"}),w.jsx("input",{type:"range",min:"0",max:"6",step:"0.1",value:se,onChange:h=>M(Number(h.target.value))}),w.jsx("span",{style:{textAlign:"right"},children:se.toFixed(1)})]}),w.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[w.jsx("span",{children:"Saturation weight"}),w.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:S,onChange:h=>C(Number(h.target.value))}),w.jsx("span",{style:{textAlign:"right"},children:S.toFixed(1)})]}),w.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[w.jsx("span",{children:"Value weight"}),w.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:L,onChange:h=>W(Number(h.target.value))}),w.jsx("span",{style:{textAlign:"right"},children:L.toFixed(1)})]}),w.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[w.jsx("span",{children:"Sensitivity (lower = more sensitive)"}),w.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:b,onChange:h=>F(Number(h.target.value))}),w.jsxs("span",{style:{textAlign:"right"},children:[(b*100).toFixed(0),"%"]})]}),w.jsx("div",{style:{fontSize:12,opacity:.7},children:"These settings are saved to local storage and used by the detector (wrist ROI, A/B decision weights, and sensitivity gate)."})]})]}),w.jsxs("div",{className:"calib-block",children:[w.jsx("div",{className:"label",children:"Player A"}),w.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[w.jsx("span",{title:"Player A color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Qc(x)}}),w.jsx("span",{children:x?`h${x.h.toFixed(0)} s${x.s.toFixed(0)} v${x.v.toFixed(0)}`:""})]}),w.jsxs("div",{className:"buttons",children:[w.jsx("button",{onClick:()=>U("A"),disabled:!l,children:"Save A"}),w.jsx("button",{onClick:()=>X("A"),children:"Clear A"})]})]}),w.jsxs("div",{className:"calib-block",children:[w.jsx("div",{className:"label",children:"Player B"}),w.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[w.jsx("span",{title:"Player B color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Qc(O)}}),w.jsx("span",{children:O?`h${O.h.toFixed(0)} s${O.s.toFixed(0)} v${O.v.toFixed(0)}`:""})]}),w.jsxs("div",{className:"buttons",children:[w.jsx("button",{onClick:()=>U("B"),disabled:!l,children:"Save B"}),w.jsx("button",{onClick:()=>X("B"),children:"Clear B"})]})]})]})]}),w.jsx("canvas",{ref:t,className:"calib-offscreen"})]})}function Nv(){return w.jsxs("div",{style:{padding:12},children:[w.jsx("h2",{style:{margin:"8px 0 12px"},children:"Tests Sandbox"}),w.jsx("p",{style:{marginTop:0,opacity:.8},children:"This is an isolated copy of the Bracelet Detector for experimentation. Changes here won't affect the main detector."}),w.jsx(Rv,{})]})}const pi={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Rv(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),[o,l]=_.useState(!1),[a,f]=_.useState("None"),[d,x]=_.useState([]),[I,O]=_.useState(null),[A,Q]=_.useState(null),[B,te]=_.useState(null),se=_.useRef(null),M=_.useRef(null),S=(E,P)=>{const z=localStorage.getItem(E);if(z===null)return P;const R=parseFloat(z);return Number.isFinite(R)?R:P},[C,L]=_.useState(()=>({roiSize:(()=>{const E=S(pi.roiSize,44);return E>10?E:44})(),hueWeight:S(pi.hueWeight,4),satWeight:S(pi.satWeight,2),valWeight:S(pi.valWeight,1),sensitivity:S(pi.sensitivity,0)})),W=_.useRef(C);_.useRef(0);const b=_.useRef({percentA:0,percentB:0,wshareA:null,wshareB:null,considered:0}),F=_.useRef(null),[H]=_.useState({bgDiffThreshold:30,minCompArea:25,maxCompArea:2500,globalRoi:{x:0,y:0,w:1,h:1},morphIterations:1}),he=_.useRef(H),k=_.useRef(null),T=_.useRef(!1),J=_.useRef(0),re=_.useRef(null),fe=_.useCallback((...E)=>{console.log("[Detector-Test]",...E)},[]),ue=_.useCallback(()=>{},[]),G=_.useCallback(async()=>{const E=e.current;if(!E)return;k.current&&(fe("Stopping existing stream before requesting new one."),k.current.getTracks().forEach(z=>z.stop()),k.current=null);const P=++J.current;re.current=null;try{const z=await navigator.mediaDevices.getUserMedia({video:!0});if(!T.current||P!==J.current){z.getTracks().forEach(R=>R.stop());return}if(k.current=z,E.srcObject=z,await new Promise(R=>{if(E.readyState>=1&&E.videoWidth>0&&E.videoHeight>0)return R();const V=()=>{E.removeEventListener("loadedmetadata",V),R()};E.addEventListener("loadedmetadata",V,{once:!0}),setTimeout(()=>{E.removeEventListener("loadedmetadata",V),R()},1500)}),!T.current||P!==J.current){z.getTracks().forEach(R=>R.stop());return}try{await E.play()}catch{}re.current!==P&&(re.current=P,ne())}catch(z){console.error("[Detector-Test] Error accessing camera:",z),O(`MediaPipe error: ${z.message}`)}},[fe,ue]),ie=(E,P,z)=>{const R=(E||0)*2,$=(P||0)/255,V=(z||0)/255,K=V*$,Y=K*(1-Math.abs(R/60%2-1)),ce=V-K;let ye=0,de=0,me=0;R>=0&&R<60?(ye=K,de=Y,me=0):R<120?(ye=Y,de=K,me=0):R<180?(ye=0,de=K,me=Y):R<240?(ye=0,de=Y,me=K):R<300?(ye=Y,de=0,me=K):(ye=K,de=0,me=Y);const Me=Math.round((ye+ce)*255),xe=Math.round((de+ce)*255),Se=Math.round((me+ce)*255);return`rgb(${Me}, ${xe}, ${Se})`},U=E=>E?ie(E.h,E.s,E.v):"#ffffff",X=E=>E==="Player A"&&A?U(A):E==="Player B"&&B?U(B):"#ffffff";_.useEffect(()=>(T.current=!0,(()=>{try{const P=JSON.parse(localStorage.getItem("calibrationA")||"null"),z=JSON.parse(localStorage.getItem("calibrationB")||"null");P&&Q({h:P.h,s:P.s,v:P.v}),z&&te({h:z.h,s:z.s,v:z.v})}catch{}})(),G(),()=>{T.current=!1,J.current+=1,r.current&&(r.current.stop(),r.current=null),k.current&&(k.current.getTracks().forEach(z=>z.stop()),k.current=null);const P=e.current;P&&(P.srcObject=null),n.current&&(n.current.close(),n.current=null)}),[G]),_.useEffect(()=>{se.current=A},[A]),_.useEffect(()=>{M.current=B},[B]),_.useEffect(()=>{W.current=C},[C]),_.useEffect(()=>{he.current=H},[H]);const ne=async()=>{try{const E=await(async()=>{try{if(typeof Cn.Hands=="function")return Cn.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((z,R)=>{const $="mp-hands-cdn-script-test";if(document.getElementById($))return z();const V=document.createElement("script");V.id=$,V.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",V.async=!0,V.onload=()=>z(),V.onerror=()=>R(new Error("Failed to load MediaPipe Hands")),document.head.appendChild(V)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available")})(),P=new E({locateFile:z=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${z}`});if(P.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),P.onResults(ve),n.current=P,e.current){const z=await(async()=>{try{if(typeof jn.Camera=="function")return jn.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise(($,V)=>{const K="mp-camera-utils-cdn-script-test";if(document.getElementById(K))return $();const Y=document.createElement("script");Y.id=K,Y.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",Y.async=!0,Y.onload=()=>$(),Y.onerror=()=>V(new Error("Failed to load MediaPipe Camera")),document.head.appendChild(Y)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available")})(),R=new z(e.current,{onFrame:async()=>{await P.send({image:e.current})},width:640,height:480});R.start(),r.current=R}}catch(E){console.error("[Detector-Test] MediaPipe initialization error:",E),O(`MediaPipe error: ${E.message}`)}},ve=E=>{var Y;const P=t.current,z=e.current;if(!P||!z)return;const R=P.getContext("2d");P.width=z.videoWidth,P.height=z.videoHeight,R.save(),R.scale(-1,1),R.drawImage(z,-P.width,0,P.width,P.height),R.restore();const{globalRoi:$}=he.current;if($.w<.999||$.h<.999||$.x>0||$.y>0){R.save(),R.strokeStyle="rgba(255,165,0,0.6)",R.setLineDash([6,4]);const ce=$.x*P.width,ye=$.y*P.height,de=$.w*P.width,me=$.h*P.height;R.lineWidth=2,R.strokeRect(ce,ye,de,me),R.restore()}let V="None";if(E.multiHandLandmarks&&E.multiHandLandmarks.length>0){let ce=null,ye=1;if(E.multiHandLandmarks.forEach(de=>{const me=de[0];me.y<ye&&(ye=me.y,ce=de)}),E.multiHandLandmarks.forEach(de=>{ge(R,de,P.width,P.height)}),ce){const de=ce[0],me=(1-de.x)*P.width,Me=de.y*P.height,{globalRoi:xe}=he.current,Se=xe.x*P.width,Te=xe.y*P.height,Pe=xe.w*P.width,je=xe.h*P.height;if(!(me>=Se&&me<=Se+Pe&&Me>=Te&&Me<=Te+je)){f("None"),R.fillStyle="orange",R.font="14px Arial",R.fillText("WRIST OUTSIDE ROI",10,68);return}R.fillStyle="orange",R.beginPath(),R.arc(me,Me,10,0,2*Math.PI),R.fill(),R.fillStyle="orange",R.font="16px Arial",R.fillText("SELECTED (TEST)",me-70,Me-15);const Ie=Math.max(10,Math.min(300,Math.floor(((Y=W.current)==null?void 0:Y.roiSize)||60)))/2,Je=Math.max(0,me-Ie),Ze=Math.max(0,Me-Ie),Ne=Math.min(P.width,me+Ie),$e=Math.min(P.height,Me+Ie);R.strokeStyle="orange",R.lineWidth=3,R.strokeRect(Je,Ze,Ne-Je,$e-Ze);const ot=R.getImageData(Je,Ze,Ne-Je,$e-Ze),ut=se.current,mt=M.current;V=oe(ot,ut,mt,Je,Ze)}}let K="#ffffff";V==="Player A"&&se.current?K=U(se.current):V==="Player B"&&M.current&&(K=U(M.current)),R.fillStyle=K,R.font="bold 28px Arial",R.fillText(`Status (TEST): ${V}`,10,40),f(V)},ge=(E,P,z,R)=>{E.strokeStyle="white",E.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([V,K])=>{const Y=P[V],ce=P[K];E.beginPath(),E.moveTo((1-Y.x)*z,Y.y*R),E.lineTo((1-ce.x)*z,ce.y*R),E.stroke()}),P.forEach(V=>{E.fillStyle="red",E.beginPath(),E.arc((1-V.x)*z,V.y*R,5,0,2*Math.PI),E.fill()})},Ce=(E,P,z)=>{const R=new Uint8Array(E.length);for(let $=1;$<z-1;$++)for(let V=1;V<P-1;V++){let K=1;const Y=$*P+V;if(!E[Y]){R[Y]=0;continue}for(let ce=-1;ce<=1&&K;ce++)for(let ye=-1;ye<=1;ye++)if(!E[($+ce)*P+(V+ye)]){K=0;break}R[Y]=K}return R},Ae=(E,P,z)=>{const R=new Uint8Array(E.length);for(let $=1;$<z-1;$++)for(let V=1;V<P-1;V++){let K=0;for(let Y=-1;Y<=1&&!K;Y++)for(let ce=-1;ce<=1;ce++)if(E[($+Y)*P+(V+ce)]){K=1;break}R[$*P+V]=K}return R},q=(E,P,z,R,$)=>{const V=new Uint8Array(E.length),K=[];for(let Y=0;Y<E.length;Y++){if(!E[Y]||V[Y])continue;let ce=0;K.push(Y),V[Y]=1;const ye=[];for(;K.length;){const me=K.pop();ye.push(me),ce++;const Me=me%P,xe=(me-Me)/P;if(Me>0){const Se=me-1;E[Se]&&!V[Se]&&(V[Se]=1,K.push(Se))}if(Me<P-1){const Se=me+1;E[Se]&&!V[Se]&&(V[Se]=1,K.push(Se))}if(xe>0){const Se=me-P;E[Se]&&!V[Se]&&(V[Se]=1,K.push(Se))}if(xe<z-1){const Se=me+P;E[Se]&&!V[Se]&&(V[Se]=1,K.push(Se))}}if(!(ce>=R&&ce<=$))for(const me of ye)E[me]=0}},oe=(E,P,z,R,$)=>{var Ze;const V=E.data;if(P&&!z)return"Player A";if(z&&!P)return"Player B";if(!P&&!z)return"None";(Ze=W.current)==null||Ze.hueWeight;const{bgDiffThreshold:K,minCompArea:Y,maxCompArea:ce,morphIterations:ye}=he.current,de=F.current;let me=0,Me=0,xe=0;const Se=E.width,Te=E.height,Pe=new Uint8Array(Se*Te);let je=new Uint8Array(Se*Te);for(let Ne=0;Ne<V.length;Ne+=4){const $e=V[Ne],ot=V[Ne+1],ut=V[Ne+2],[mt,Ut,at]=h($e,ot,ut);if(Ut<20||at<20)continue;if(de){const Nt=Ne/4,St=Nt%Se,Vt=(Nt-St)/Se;if(St+R<de.width&&Vt+$<de.height){const Xt=((Vt+$)*de.width+(St+R))*4,Bn=Math.abs($e-de.data[Xt]),xr=Math.abs(ot-de.data[Xt+1]),kl=Math.abs(ut-de.data[Xt+2]);if(Bn+xr+kl<K)continue}}const $t=Math.min(Math.abs(mt-P.h),180-Math.abs(mt-P.h)),Mn=Math.min(Math.abs(mt-z.h),180-Math.abs(mt-z.h)),fn=$t<10,qt=Mn<10;if(fn||qt){const Nt=Ne/4;je[Nt]=1,fn&&!qt?Pe[Nt]=1:qt&&!fn?Pe[Nt]=2:Pe[Nt]=$t<Mn?1:2}}for(let Ne=0;Ne<ye;Ne++){const $e=Ce(je,Se,Te);je=Ae($e,Se,Te)}q(je,Se,Te,Y,ce);for(let Ne=0;Ne<je.length;Ne++)je[Ne]&&(Pe[Ne]===1?me++:Pe[Ne]===2&&Me++,xe++);if(xe<10)return"None";const De=me/xe,Ie=Me/xe;b.current={percentA:De,percentB:Ie,wshareA:null,wshareB:null,considered:xe};const Je=.1;return De>.5+Je?"Player A":Ie>.5+Je?"Player B":"None"},h=(E,P,z)=>{E/=255,P/=255,z/=255;const R=Math.max(E,P,z),$=Math.min(E,P,z),V=R-$;let K=0;V!==0&&(R===E?K=60*((P-z)/V%6):R===P?K=60*((z-E)/V+2):K=60*((E-P)/V+4)),K<0&&(K+=360);const Y=R===0?0:V/R*255,ce=R*255;return[K/2,Y,ce]},m=()=>{const E=JSON.parse(localStorage.getItem("braceletDetectionsTest")||"[]"),P=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),z=URL.createObjectURL(P),R=document.createElement("a");R.href=z,R.download=`bracelet_detections_test_${new Date().toISOString().split("T")[0]}.json`,R.click()},j=()=>{const E=t.current;if(!E)return;const z=E.getContext("2d").getImageData(0,0,E.width,E.height);F.current={width:E.width,height:E.height,data:new Uint8ClampedArray(z.data)},fe("Background captured")},p=()=>{F.current=null,fe("Background cleared")};return w.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[w.jsxs("div",{className:"detector-header",children:[w.jsx("span",{children:"Bracelet Detector (Tests)"}),w.jsxs("div",{className:"detector-controls",children:[w.jsx("button",{onClick:m,title:"Download Logs",children:""}),w.jsx("button",{onClick:j,title:"Capture Background (no subjects)",children:"BG"}),w.jsx("button",{onClick:p,title:"Clear Background Model",children:"BG"}),w.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),w.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[w.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),w.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),w.jsxs("div",{className:"detector-info",children:[w.jsxs("div",{className:"status-display",children:["Status: ",w.jsx("span",{style:{color:X(a),fontWeight:700},children:a})]}),w.jsxs("div",{style:{fontSize:11,opacity:.75,marginTop:2},children:["BG: ",F.current?" captured":" none"," | CompArea(px): ",H.minCompArea,"-",H.maxCompArea]}),w.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),w.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:A?U(A):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.9},children:(()=>{const{wshareA:E,percentA:P,considered:z}=b.current||{};if(!z)return"";const R=Number.isFinite(E)?E:P;return`${Math.round(R*100)}%`})()})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),w.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?U(B):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.9},children:(()=>{const{wshareB:E,percentB:P,considered:z}=b.current||{};if(!z)return"";const R=Number.isFinite(E)?E:P;return`${Math.round(R*100)}%`})()})]})]})]})]})]})}const Yc=(...e)=>{console.log("[Tests2]",...e)},kt={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function _v(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),[o,l]=_.useState(!1),[a,f]=_.useState("None"),[d,x]=_.useState([]),[I,O]=_.useState(null),[A,Q]=_.useState(null),[B,te]=_.useState(null),[se,M]=_.useState({a:null,b:null}),S=_.useRef(null),C=_.useRef(null),L=(q,oe)=>{const h=localStorage.getItem(q);if(h===null)return oe;const m=parseFloat(h);return Number.isFinite(m)?m:oe},[W,b]=_.useState(()=>({roiSize:(()=>{const q=L(kt.roiSize,44);return q>10?q:44})(),hueWeight:L(kt.hueWeight,4),satWeight:L(kt.satWeight,2),valWeight:L(kt.valWeight,1),sensitivity:L(kt.sensitivity,0)})),F=_.useRef(W),H=_.useRef(null),he=_.useRef(!1),k=_.useRef(0),T=_.useRef(null),J=_.useCallback(q=>{Yc("Removing video event listeners (Tests2 placeholder).")},[]),re=q=>{Yc("Adding video event listeners (Tests2 placeholder).")};_.useEffect(()=>{S.current=A},[A]),_.useEffect(()=>{C.current=B},[B]),_.useEffect(()=>{F.current=W},[W]),_.useEffect(()=>{he.current=!0,fe();const q=()=>{try{const h=JSON.parse(localStorage.getItem("calibrationA")||"null"),m=JSON.parse(localStorage.getItem("calibrationB")||"null");h&&Q({h:h.h,s:h.s,v:h.v}),m&&te({h:m.h,s:m.s,v:m.v})}catch{}};q();const oe=h=>{!h||!h.key||(["calibrationA","calibrationB"].includes(h.key)&&q(),[kt.roiSize,kt.hueWeight,kt.satWeight,kt.valWeight,kt.sensitivity].includes(h.key)&&b(m=>({roiSize:(()=>{const j=L(kt.roiSize,(m==null?void 0:m.roiSize)??44);return j>10?j:(m==null?void 0:m.roiSize)??44})(),hueWeight:L(kt.hueWeight,(m==null?void 0:m.hueWeight)??4),satWeight:L(kt.satWeight,(m==null?void 0:m.satWeight)??2),valWeight:L(kt.valWeight,(m==null?void 0:m.valWeight)??1),sensitivity:L(kt.sensitivity,(m==null?void 0:m.sensitivity)??0)})))};return window.addEventListener("storage",oe),()=>{he.current=!1,k.current+=1,T.current=null,r.current&&(r.current.stop(),r.current=null),H.current&&(H.current.getTracks().forEach(m=>m.stop()),H.current=null);const h=e.current;h&&(h.srcObject=null,J(h)),n.current&&(n.current.close(),n.current=null),window.removeEventListener("storage",oe)}},[]);const fe=_.useCallback(async()=>{const q=e.current;if(!q)return;H.current&&(H.current.getTracks().forEach(h=>h.stop()),H.current=null),re();const oe=++k.current;T.current=null;try{const h=await navigator.mediaDevices.getUserMedia({video:!0});if(!he.current||oe!==k.current){h.getTracks().forEach(m=>m.stop());return}if(H.current=h,q.srcObject=h,await new Promise(m=>{if(q.readyState>=1&&q.videoWidth>0&&q.videoHeight>0)return m();const p=()=>{q.removeEventListener("loadedmetadata",p),m()};q.addEventListener("loadedmetadata",p,{once:!0}),setTimeout(()=>{q.removeEventListener("loadedmetadata",p),m()},1500)}),!he.current||oe!==k.current){h.getTracks().forEach(m=>m.stop());return}try{await q.play()}catch{}T.current!==oe&&(T.current=oe,ue())}catch(h){O(h.message)}},[]),ue=async()=>{try{const q=await(async()=>{try{if(typeof Cn.Hands=="function")return Cn.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((h,m)=>{const j="mp-hands-cdn-tests2";if(document.getElementById(j))return h();const p=document.createElement("script");p.id=j,p.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",p.async=!0,p.onload=()=>h(),p.onerror=()=>m(new Error("Failed to load MediaPipe Hands")),document.head.appendChild(p)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("Hands constructor unavailable")})(),oe=new q({locateFile:h=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${h}`});if(oe.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),oe.onResults(U),n.current=oe,e.current){const h=await(async()=>{try{if(typeof jn.Camera=="function")return jn.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((j,p)=>{const E="mp-camera-cdn-tests2";if(document.getElementById(E))return j();const P=document.createElement("script");P.id=E,P.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",P.async=!0,P.onload=()=>j(),P.onerror=()=>p(new Error("Failed to load MediaPipe Camera")),document.head.appendChild(P)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("Camera constructor unavailable")})(),m=new h(e.current,{onFrame:async()=>{await oe.send({image:e.current})},width:640,height:480});m.start(),r.current=m}}catch(q){O(q.message)}},G=(q,oe,h)=>{const m=(q||0)*2,j=(oe||0)/255,p=(h||0)/255,E=p*j,P=E*(1-Math.abs(m/60%2-1)),z=p-E;let R=0,$=0,V=0;m<60?(R=E,$=P):m<120?(R=P,$=E):m<180?($=E,V=P):m<240?($=P,V=E):m<300?(R=P,V=E):(R=E,V=P);const K=Math.round((R+z)*255),Y=Math.round(($+z)*255),ce=Math.round((V+z)*255);return`rgb(${K}, ${Y}, ${ce})`},ie=q=>q?G(q.h,q.s,q.v):"#444",U=q=>{var E;const oe=t.current,h=e.current;if(!oe||!h)return;const m=oe.getContext("2d");oe.width=h.videoWidth,oe.height=h.videoHeight,m.save(),m.scale(-1,1),m.drawImage(h,-oe.width,0,oe.width,oe.height),m.restore();let j="None";if(q.multiHandLandmarks&&q.multiHandLandmarks.length>0){let P=null,z=1;if(q.multiHandLandmarks.forEach(R=>{const $=R[0];$.y<z&&(z=$.y,P=R)}),q.multiHandLandmarks.forEach(R=>{X(m,R,oe.width,oe.height)}),P){const R=P[0],$=P[9],V=(1-R.x)*oe.width,K=R.y*oe.height,Y=(1-$.x)*oe.width,ce=$.y*oe.height,ye=V-Y,de=K-ce,me=Math.sqrt(ye*ye+de*de),Me=(((E=F.current)==null?void 0:E.roiSize)||60)/60,Se=Math.max(20,Math.min(300,me*1.5*Me))/2,Te=Math.max(0,V-Se),Pe=Math.max(0,K-Se),je=Math.min(oe.width,V+Se),De=Math.min(oe.height,K+Se);if(m.strokeStyle="cyan",m.lineWidth=2,m.strokeRect(Te,Pe,je-Te,De-Pe),je-Te>1&&De-Pe>1){const Ie=m.getImageData(Te,Pe,je-Te,De-Pe),Je=S.current,Ze=C.current,Ne=ne(Ie,Je,Ze);j=Ne.status,M({a:Ne.percentA,b:Ne.percentB})}}}let p="#fff";j==="Player A"&&S.current?p=ie(S.current):j==="Player B"&&C.current&&(p=ie(C.current)),m.fillStyle=p,m.font="bold 28px Arial",m.fillText(`Status (Tests2): ${j}`,10,40),f(j)},X=(q,oe,h,m)=>{q.strokeStyle="white",q.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([p,E])=>{const P=oe[p],z=oe[E];q.beginPath(),q.moveTo((1-P.x)*h,P.y*m),q.lineTo((1-z.x)*h,z.y*m),q.stroke()}),oe.forEach(p=>{q.fillStyle="red",q.beginPath(),q.arc((1-p.x)*h,p.y*m,5,0,2*Math.PI),q.fill()})},ne=(q,oe,h)=>{var ye,de,me,Me;const m=q.data;if(oe&&!h)return{status:"Player A",percentA:1,percentB:0};if(h&&!oe)return{status:"Player B",percentA:0,percentB:1};if(!oe&&!h)return{status:"None",percentA:0,percentB:0};const j=((ye=F.current)==null?void 0:ye.hueWeight)??4,p=((de=F.current)==null?void 0:de.satWeight)??2,E=((me=F.current)==null?void 0:me.valWeight)??1,z=60+(((Me=F.current)==null?void 0:Me.sensitivity)??0)*40;let R=0,$=0,V=0;for(let xe=0;xe<m.length;xe+=4){const Se=m[xe],Te=m[xe+1],Pe=m[xe+2],[je,De,Ie]=ve(Se,Te,Pe);if(Ie<30||De<30)continue;const Je=Math.min(Math.abs(je-oe.h),180-Math.abs(je-oe.h)),Ze=Math.min(Math.abs(je-h.h),180-Math.abs(je-h.h)),Ne=Math.abs(De-oe.s),$e=Math.abs(De-h.s),ot=Math.abs(Ie-oe.v),ut=Math.abs(Ie-h.v),mt=Math.sqrt(Je*Je*j+Ne*Ne*p+ot*ot*E),Ut=Math.sqrt(Ze*Ze*j+$e*$e*p+ut*ut*E);mt>z&&Ut>z||(mt<Ut?R++:$++,V++)}if(V===0)return{status:"None",percentA:0,percentB:0};const K=R/V,Y=$/V,ce=q.width*q.height*.05;return V<ce?{status:"None",percentA:0,percentB:0}:K>.6?{status:"Player A",percentA:K,percentB:Y}:Y>.6?{status:"Player B",percentA:K,percentB:Y}:{status:"None",percentA:K,percentB:Y}},ve=(q,oe,h)=>{q/=255,oe/=255,h/=255;const m=Math.max(q,oe,h),j=Math.min(q,oe,h),p=m-j;let E=0;p!==0&&(m===q?E=60*((oe-h)/p%6):m===oe?E=60*((h-q)/p+2):E=60*((q-oe)/p+4)),E<0&&(E+=360);const P=m===0?0:p/m*255,z=m*255;return[E/2,P,z]},ge=q=>{const h={timestamp:new Date().toISOString(),status:q};x(j=>[...j,h]);const m=JSON.parse(localStorage.getItem("braceletDetectionsTests2")||"[]");m.push(h),localStorage.setItem("braceletDetectionsTests2",JSON.stringify(m))};_.useEffect(()=>{const q=setInterval(()=>{f(oe=>(ge(oe),oe))},1e3);return()=>clearInterval(q)},[]);const Ce=()=>{const q=JSON.parse(localStorage.getItem("braceletDetectionsTests2")||"[]"),oe=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),h=URL.createObjectURL(oe),m=document.createElement("a");m.href=h,m.download="tests2_logs.json",m.click(),URL.revokeObjectURL(h)},Ae=()=>{localStorage.removeItem("braceletDetectionsTests2"),x([])};return w.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[w.jsxs("div",{className:"detector-header",children:[w.jsx("span",{children:"Bracelet Detector (Tests2)"}),w.jsxs("div",{className:"detector-controls",children:[w.jsx("button",{onClick:Ce,title:"Download Logs",children:""}),w.jsx("button",{onClick:Ae,title:"Clear Logs",children:""}),w.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),w.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[w.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),w.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),w.jsxs("div",{className:"detector-info",children:[w.jsxs("div",{className:"status-display",children:["Status: ",w.jsx("span",{style:{color:a==="Player A"&&A?ie(A):a==="Player B"&&B?ie(B):"#fff",fontWeight:700},children:a})]}),w.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),w.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:A?ie(A):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},children:se.a==null?"":`${Math.round(Math.max(0,Math.min(1,se.a))*100)}%`})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),w.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?ie(B):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},children:se.b==null?"":`${Math.round(Math.max(0,Math.min(1,se.b))*100)}%`})]})]}),w.jsxs("div",{className:"log-count",children:["Logs: ",d.length]}),w.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[w.jsxs("div",{children:["A: ",A?`h${Math.round(A.h)} s${Math.round(A.s)} v${Math.round(A.v)}`:""]}),w.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})}const Ge=(...e)=>{console.log("[Detector]",...e)},wn={red:{lower1:[0,120,70],upper1:[10,255,255],lower2:[170,120,70],upper2:[180,255,255]},blue:{lower:[100,150,70],upper:[130,255,255]}},Et={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Tv(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),[o,l]=_.useState(!1),[a,f]=_.useState("None"),[d,x]=_.useState([]),[I,O]=_.useState(null),[A,Q]=_.useState(null),[B,te]=_.useState(null),[se,M]=_.useState({a:null,b:null}),S=_.useRef(null),C=_.useRef(null),L=(h,m)=>{const j=localStorage.getItem(h);if(j===null)return m;const p=parseFloat(j);return Number.isFinite(p)?p:m},[W,b]=_.useState(()=>({roiSize:(()=>{const h=L(Et.roiSize,44);return h>10?h:44})(),hueWeight:L(Et.hueWeight,4),satWeight:L(Et.satWeight,2),valWeight:L(Et.valWeight,1),sensitivity:L(Et.sensitivity,0)})),F=_.useRef(W),H=_.useRef(null),he=_.useRef(!1),k=_.useRef(0),T=_.useRef(null),J=_.useCallback(h=>{Ge("Removing video event listeners (if any were attached).")},[Ge]),re=_.useCallback(async()=>{const h=e.current;if(!h)return;H.current&&(Ge("Stopping existing stream before requesting new one."),H.current.getTracks().forEach(j=>j.stop()),H.current=null),Ae();const m=++k.current;T.current=null,Ge("Requesting getUserMedia...");try{const j=await navigator.mediaDevices.getUserMedia({video:!0});if(!he.current||m!==k.current){Ge("Stale camera request (unmounted or superseded). Stopping stream."),j.getTracks().forEach(p=>p.stop());return}if(H.current=j,Ge("getUserMedia success. Tracks:",j.getVideoTracks()),h.srcObject=j,await new Promise(p=>{if(h.readyState>=1&&h.videoWidth>0&&h.videoHeight>0)return p();const P=()=>{h.removeEventListener("loadedmetadata",P),p()};h.addEventListener("loadedmetadata",P,{once:!0}),setTimeout(()=>{h.removeEventListener("loadedmetadata",P),p()},1500)}),!he.current||m!==k.current){Ge("Stale request before play(). Stopping stream."),j.getTracks().forEach(p=>p.stop());return}try{await h.play(),Ge("video.play() promise resolved. Video should be playing.")}catch(p){if(console.error("[Detector] video.play() promise rejected:",p),Ge("video.play() promise rejected:",p.name,p.message),m!==k.current){Ge("play() aborted due to newer request."),j.getTracks().forEach(E=>E.stop());return}}T.current!==m&&(T.current=m,Ge("Initializing MediaPipe for request id",m),U())}catch(j){console.error("[Detector] Error accessing camera:",j),Ge("getUserMedia error:",j.name,j.message)}},[Ge,J]),fe=(h,m,j)=>{const p=(h||0)*2,E=(m||0)/255,P=(j||0)/255,z=P*E,R=z*(1-Math.abs(p/60%2-1)),$=P-z;let V=0,K=0,Y=0;p>=0&&p<60?(V=z,K=R,Y=0):p<120?(V=R,K=z,Y=0):p<180?(V=0,K=z,Y=R):p<240?(V=0,K=R,Y=z):p<300?(V=R,K=0,Y=z):(V=z,K=0,Y=R);const ce=Math.round((V+$)*255),ye=Math.round((K+$)*255),de=Math.round((Y+$)*255);return`rgb(${ce}, ${ye}, ${de})`},ue=h=>h?fe(h.h,h.s,h.v):"#ffffff",G=h=>h==="Player A"&&A?ue(A):h==="Player B"&&B?ue(B):h==="Red"?"#ff0000":h==="Blue"?"#0000ff":"#ffffff";_.useEffect(()=>{he.current=!0,Ge("Mounting detector. UA:",navigator.userAgent,"Platform:",navigator.platform,"Visibility:",document.visibilityState),re();const h=()=>{try{const j=JSON.parse(localStorage.getItem("calibrationA")||"null"),p=JSON.parse(localStorage.getItem("calibrationB")||"null");j&&Q({h:j.h,s:j.s,v:j.v}),p&&te({h:p.h,s:p.s,v:p.v})}catch{Ge("No existing calibrations")}};h();const m=j=>{!j||!j.key||(["calibrationA","calibrationB"].includes(j.key)&&h(),[Et.roiSize,Et.hueWeight,Et.satWeight,Et.valWeight,Et.sensitivity].includes(j.key)&&b(p=>({roiSize:(()=>{const E=L(Et.roiSize,(p==null?void 0:p.roiSize)??44);return E>10?E:(p==null?void 0:p.roiSize)??44})(),hueWeight:L(Et.hueWeight,(p==null?void 0:p.hueWeight)??4),satWeight:L(Et.satWeight,(p==null?void 0:p.satWeight)??2),valWeight:L(Et.valWeight,(p==null?void 0:p.valWeight)??1),sensitivity:L(Et.sensitivity,(p==null?void 0:p.sensitivity)??0)})))};return window.addEventListener("storage",m),()=>{he.current=!1,Ge("Cleanup: Component unmounting."),k.current+=1,T.current=null,r.current&&(Ge("Cleanup: Stopping MediaPipe camera."),r.current.stop(),r.current=null),H.current&&(Ge("Cleanup: Stopping camera stream."),H.current.getTracks().forEach(p=>p.stop()),H.current=null);const j=e.current;j&&(j.srcObject=null,J(j)),n.current&&(Ge("Cleanup: Closing MediaPipe hands."),n.current.close(),n.current=null),window.removeEventListener("storage",m)}},[re,J,Ge]),_.useEffect(()=>{S.current=A},[A]),_.useEffect(()=>{C.current=B},[B]),_.useEffect(()=>{F.current=W},[W]),_.useEffect(()=>{const h=setInterval(()=>{f(m=>(ie(m),m))},1e3);return()=>clearInterval(h)},[]);const ie=h=>{const j={timestamp:new Date().toISOString(),status:h};x(E=>[...E,j]);const p=JSON.parse(localStorage.getItem("braceletDetections")||"[]");p.push(j),localStorage.setItem("braceletDetections",JSON.stringify(p))},U=async()=>{try{const h=await(async()=>{try{if(typeof Cn.Hands=="function")return Cn.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((j,p)=>{const E="mp-hands-cdn-script";if(document.getElementById(E))return j();const P=document.createElement("script");P.id=E,P.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",P.async=!0,P.onload=()=>j(),P.onerror=z=>p(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(P)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),m=new h({locateFile:j=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${j}`});if(m.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),m.onResults(X),n.current=m,e.current){const j=await(async()=>{try{if(typeof jn.Camera=="function")return jn.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((E,P)=>{const z="mp-camera-utils-cdn-script";if(document.getElementById(z))return E();const R=document.createElement("script");R.id=z,R.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",R.async=!0,R.onload=()=>E(),R.onerror=$=>P(new Error("Failed to load MediaPipe Camera from CDN")),document.head.appendChild(R)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available after CDN load")})(),p=new j(e.current,{onFrame:async()=>{await m.send({image:e.current})},width:640,height:480});p.start(),r.current=p}}catch(h){console.error("MediaPipe initialization error:",h),O(`MediaPipe error: ${h.message}`)}},X=h=>{var z;const m=t.current,j=e.current;if(!m||!j)return;const p=m.getContext("2d");m.width=j.videoWidth,m.height=j.videoHeight,p.save(),p.scale(-1,1),p.drawImage(j,-m.width,0,m.width,m.height),p.restore();let E="None";if(h.multiHandLandmarks&&h.multiHandLandmarks.length>0){Ge("onResults: hands=",h.multiHandLandmarks.length);let R=null,$=1;if(h.multiHandLandmarks.forEach(V=>{const K=V[0];K.y<$&&($=K.y,R=V)}),h.multiHandLandmarks.forEach(V=>{ne(p,V,m.width,m.height)}),R){const V=R[0],K=(1-V.x)*m.width,Y=V.y*m.height;p.fillStyle="lime",p.beginPath(),p.arc(K,Y,10,0,2*Math.PI),p.fill(),p.fillStyle="lime",p.font="16px Arial",p.fillText("SELECTED",K-40,Y-15);const ye=Math.max(10,Math.min(300,Math.floor(((z=F.current)==null?void 0:z.roiSize)||60)))/2,de=Math.max(0,K-ye),me=Math.max(0,Y-ye),Me=Math.min(m.width,K+ye),xe=Math.min(m.height,Y+ye);p.strokeStyle="lime",p.lineWidth=3,p.strokeRect(de,me,Me-de,xe-me);const Se=p.getImageData(de,me,Me-de,xe-me),Te=S.current,Pe=C.current,je=ge(Se,Te,Pe);E=je.status,M({a:je.percentA,b:je.percentB}),Ge("Detection result:",E,{roi:{x1:de,y1:me,w:Me-de,h:xe-me}})}}let P="#ffffff";E==="Player A"&&S.current?P=ue(S.current):E==="Player B"&&C.current&&(P=ue(C.current)),p.fillStyle=P,p.font="bold 32px Arial",p.fillText(`Status: ${E}`,10,40),f(E)},ne=(h,m,j,p)=>{h.strokeStyle="white",h.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([P,z])=>{const R=m[P],$=m[z];h.beginPath(),h.moveTo((1-R.x)*j,R.y*p),h.lineTo((1-$.x)*j,$.y*p),h.stroke()}),m.forEach(P=>{h.fillStyle="red",h.beginPath(),h.arc((1-P.x)*j,P.y*p,5,0,2*Math.PI),h.fill()})},ve=h=>{const m=h.data;let j=0,p=0;for(let E=0;E<m.length;E+=4){const P=m[E],z=m[E+1],R=m[E+2],$=Ce(P,z,R);($[0]>=wn.red.lower1[0]&&$[0]<=wn.red.upper1[0]||$[0]>=wn.red.lower2[0]&&$[0]<=wn.red.upper2[0])&&$[1]>=wn.red.lower1[1]&&$[2]>=wn.red.lower1[2]&&j++,$[0]>=wn.blue.lower[0]&&$[0]<=wn.blue.upper[0]&&$[1]>=wn.blue.lower[1]&&$[2]>=wn.blue.lower[2]&&p++}return{redCount:j,blueCount:p}},ge=(h,m,j)=>{var ye,de,me,Me;const p=h.data;if(m&&!j)return{status:"Player A",percentA:null,percentB:null};if(j&&!m)return{status:"Player B",percentA:null,percentB:null};const E=((ye=F.current)==null?void 0:ye.hueWeight)??4,P=((de=F.current)==null?void 0:de.satWeight)??2,z=((me=F.current)==null?void 0:me.valWeight)??1,R=((Me=F.current)==null?void 0:Me.sensitivity)??0;if(m&&j){let xe=0,Se=0,Te=0;for(let Ie=0;Ie<p.length;Ie+=4){const Je=p[Ie],Ze=p[Ie+1],Ne=p[Ie+2],[$e,ot,ut]=Ce(Je,Ze,Ne),mt=Math.min(1,Math.max(0,ot/255)),Ut=Math.min(1,Math.max(0,ut/255)),at=Math.max(.05,.5*mt+.5*Ut),$t=Math.min(Math.abs($e-m.h),180-Math.abs($e-m.h)),Mn=Math.min(Math.abs($e-j.h),180-Math.abs($e-j.h)),fn=Math.abs(ot-m.s),qt=Math.abs(ot-j.s),Nt=Math.abs(ut-m.v),St=Math.abs(ut-j.v),Vt=$t*E+fn*P+Nt*z,Xt=Mn*E+qt*P+St*z;Math.min(Vt,Xt)>180||(Vt<=Xt?xe+=at:Se+=at,Te+=at)}if(Te===0)return{status:"None",percentA:0,percentB:0};const Pe=xe/Math.max(1e-6,Te),je=Se/Math.max(1e-6,Te),De=.12*(1+.8*Math.max(0,Math.min(1,R)));return Pe>=De&&Pe>=je?{status:"Player A",percentA:Pe,percentB:je}:je>=De&&je>Pe?{status:"Player B",percentA:Pe,percentB:je}:{status:"None",percentA:Pe,percentB:je}}const{redCount:$,blueCount:V}=ve(h),K=$+V;if(K===0)return{status:"None",percentA:0,percentB:0};const Y=$/K,ce=V/K;return Y>=.15&&Y>=ce?{status:"Player A",percentA:Y,percentB:ce}:ce>=.15&&ce>Y?{status:"Player B",percentA:Y,percentB:ce}:{status:"None",percentA:Y,percentB:ce}},Ce=(h,m,j)=>{h/=255,m/=255,j/=255;const p=Math.max(h,m,j),E=Math.min(h,m,j),P=p-E;let z=0;P!==0&&(p===h?z=60*((m-j)/P%6):p===m?z=60*((j-h)/P+2):z=60*((h-m)/P+4)),z<0&&(z+=360);const R=p===0?0:P/p*255,$=p*255;return[z/2,R,$]},Ae=h=>{Ge("Adding video event listeners (if needed in the future).")},q=()=>{const h=JSON.parse(localStorage.getItem("braceletDetections")||"[]"),m=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),j=URL.createObjectURL(m),p=document.createElement("a");p.href=j,p.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.json`,p.click();const E=h.map($=>`${$.timestamp}: ${$.status}`).join(`
`),P=new Blob([E],{type:"text/plain"}),z=URL.createObjectURL(P),R=document.createElement("a");R.href=z,R.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.txt`,R.click()},oe=()=>{localStorage.removeItem("braceletDetections"),x([])};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[w.jsxs("div",{className:"detector-header",children:[w.jsx("span",{children:"Bracelet Detector"}),w.jsxs("div",{className:"detector-controls",children:[w.jsx("button",{onClick:q,title:"Download Logs",children:""}),w.jsx("button",{onClick:oe,title:"Clear Logs",children:""}),w.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),w.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[w.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),w.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),w.jsxs("div",{className:"detector-info",children:[w.jsxs("div",{className:"status-display",children:["Status: ",w.jsx("span",{style:{color:G(a),fontWeight:700},children:a})]}),w.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),w.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:A?ue(A):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"A confidence",children:se.a==null?"":`${Math.round(Math.max(0,Math.min(1,se.a))*100)}%`})]}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[w.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),w.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?ue(B):"#444"}}),w.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"B confidence",children:se.b==null?"":`${Math.round(Math.max(0,Math.min(1,se.b))*100)}%`})]})]}),w.jsxs("div",{className:"log-count",children:["Logs: ",d?d.length:0]}),w.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[w.jsxs("div",{children:["A: ",A?`h${Math.round(A.h)} s${Math.round(A.s)} v${Math.round(A.v)}`:""]}),w.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})})}function Av(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),[o,l]=_.useState(!1),[a,f]=_.useState(null),[d,x]=_.useState({A:0,B:0,hands:[]}),I=_.useRef(null),O=_.useRef(0),A=.1,Q=_.useRef(!1);_.useEffect(()=>(Q.current=!0,B(),()=>{Q.current=!1}),[]);const B=async()=>{const se=new Cn.Hands({locateFile:M=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${M}`});if(se.setOptions({maxNumHands:4,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),se.onResults(te),n.current=se,e.current){const M=new jn.Camera(e.current,{onFrame:async()=>{await se.send({image:e.current})},width:640,height:480});M.start(),r.current=M}},te=se=>{const M=t.current,S=e.current;if(!M||!S)return;const C=M.getContext("2d");M.width=S.videoWidth,M.height=S.videoHeight,O.current=M.width,C.save(),C.scale(-1,1),C.drawImage(S,-M.width,0,M.width,M.height),C.restore();const L=[];if(se.multiHandLandmarks)for(const T of se.multiHandLandmarks){const J=T[0],re=T[9],fe=(1-J.x)*M.width,ue=J.y*M.height,ie=(1-re.x)*M.width-fe;L.push({x:fe,y:ue,vx:ie})}let W=0,b=0;if(L.forEach(T=>{const J=T.x<(I.current||M.width/2);(J&&T.vx>0||!J&&T.vx<0)&&(W+=T.x,b++)}),b===0&&L.length>0&&(L.forEach(T=>W+=T.x),b=L.length),b>0){const T=M.width*.5*.8+W/b*.2;I.current==null&&(I.current=M.width*.5),I.current=I.current*(1-A)+T*A}const F=I.current||M.width*.5;let H=0,he=0;const k=L.map(T=>{let J=T.x<F?-1:1;const re=20;T.vx<-re&&(J+=1.5),T.vx>re&&(J-=1.5);const fe=J>0?"Player A":"Player B";return fe==="Player A"?H++:he++,{...T,player:fe,score:J}});C.strokeStyle="yellow",C.beginPath(),C.moveTo(F,0),C.lineTo(F,M.height),C.stroke(),k.forEach(({x:T,y:J,vx:re,player:fe,score:ue})=>{C.fillStyle=fe==="Player A"?"lime":"dodgerblue",C.beginPath(),C.arc(T,J,10,0,Math.PI*2),C.fill(),C.strokeStyle=fe==="Player A"?"lime":"dodgerblue",C.lineWidth=3,C.beginPath(),C.moveTo(T,J),C.lineTo(T+re*2,J),C.stroke(),C.font="16px Arial",C.fillStyle="white",C.fillText(`${fe} (${Math.round(re)})`,T+15,J+5)}),x({A:H,B:he,hands:k})};return w.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[w.jsxs("div",{className:"detector-header",children:[w.jsx("span",{children:"Top-Down Player Classifier"}),w.jsx("div",{className:"detector-controls",children:w.jsx("button",{onClick:()=>l(!o),children:o?"":""})})]}),w.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[w.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),w.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),w.jsxs("div",{className:"detector-info",children:[w.jsxs("div",{className:"status-display",children:["Hands  A: ",d.A," | B: ",d.B]}),w.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4},children:["Midline: ",Math.round(I.current??O.current*.5)," px"]}),a&&w.jsxs("div",{style:{color:"#f55"},children:["Camera error: ",a]})]})]})]})}function Lv(){const e=_.useRef(null),t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),[o,l]=_.useState(!1),[a,f]=_.useState(null),[d,x]=_.useState({A:0,B:0,hands:[]}),I=_.useRef(null),O=_.useRef(0),A=.05,Q=_.useRef(!1),B=_.useRef(null),te=_.useRef(0),se=_.useRef(null);_.useEffect(()=>(Q.current=!0,M(),()=>{Q.current=!1,te.current+=1,se.current=null,r.current&&(r.current.stop(),r.current=null),B.current&&(B.current.getTracks().forEach(L=>L.stop()),B.current=null),n.current&&(n.current.close(),n.current=null)}),[]);const M=_.useCallback(async()=>{const L=e.current;if(!L)return;B.current&&(B.current.getTracks().forEach(b=>b.stop()),B.current=null);const W=++te.current;se.current=null;try{const b=await navigator.mediaDevices.getUserMedia({video:!0});if(!Q.current||W!==te.current){b.getTracks().forEach(F=>F.stop());return}B.current=b,L.srcObject=b,await new Promise(F=>{L.onloadedmetadata=()=>F()}),await L.play(),se.current!==W&&(se.current=W,S())}catch(b){f(b.message)}},[]),S=async()=>{const L=new Cn.Hands({locateFile:W=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${W}`});if(L.setOptions({maxNumHands:4,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),L.onResults(C),n.current=L,e.current){const W=new jn.Camera(e.current,{onFrame:async()=>{await L.send({image:e.current})},width:640,height:480});W.start(),r.current=W}},C=L=>{const W=t.current,b=e.current;if(!W||!b)return;const F=W.getContext("2d");W.width=b.videoWidth,W.height=b.videoHeight,O.current=W.width,F.save(),F.scale(-1,1),F.drawImage(b,-W.width,0,W.width,W.height),F.restore();const H=[];if(L.multiHandLandmarks)for(const ue of L.multiHandLandmarks){const G=ue[0],ie=ue[9],U=(1-G.x)*W.width,X=G.y*W.height,ve=(1-ie.x)*W.width-U;H.push({x:U,y:X,vx:ve})}let he=0,k=0;if(H.forEach(ue=>{const G=ue.x<(I.current||W.width/2);(G&&ue.vx>0||!G&&ue.vx<0)&&(he+=ue.x,k++)}),k===0&&H.length>0&&(H.forEach(ue=>he+=ue.x),k=H.length),k>0){const ue=W.width*.5*.9+he/k*.1;I.current==null&&(I.current=W.width*.5),I.current=I.current*(1-A)+ue*A}const T=I.current||W.width*.5;let J=0,re=0;const fe=H.map(ue=>{let G=ue.x<T?-1:1;const ie=15;ue.vx<-ie&&(G+=2),ue.vx>ie&&(G-=2);const U=W.width*.25,X=W.width*.75;ue.x<U&&ue.vx<-ie&&(G+=3),ue.x>X&&ue.vx>ie&&(G-=3);const ne=G>0?"Player A":"Player B";return ne==="Player A"?J++:re++,{...ue,player:ne,score:G}});F.strokeStyle="yellow",F.lineWidth=2,F.beginPath(),F.moveTo(T,0),F.lineTo(T,W.height),F.stroke(),F.fillStyle="rgba(255,0,0,0.05)",F.fillRect(0,0,W.width*.25,W.height),F.fillStyle="rgba(0,255,0,0.05)",F.fillRect(W.width*.75,0,W.width*.25,W.height),fe.forEach(({x:ue,y:G,vx:ie,player:U,score:X})=>{const ne=U==="Player A";F.fillStyle=ne?"lime":"dodgerblue",F.strokeStyle="white",F.lineWidth=2,F.beginPath(),F.arc(ue,G,12,0,Math.PI*2),F.fill(),F.stroke(),F.strokeStyle=ne?"lime":"dodgerblue",F.lineWidth=4,F.beginPath(),F.moveTo(ue,G),F.lineTo(ue+ie*2.5,G),F.stroke(),F.font="bold 16px Arial",F.fillStyle="white",F.shadowColor="black",F.shadowBlur=4,F.fillText(U,ue+16,G-8),F.font="12px monospace",F.fillText(`Sc:${X.toFixed(1)}`,ue+16,G+8)}),x({A:J,B:re,hands:fe})};return w.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[w.jsxs("div",{className:"detector-header",children:[w.jsx("span",{children:"Top-Down V3 (Anti-Flicker)"}),w.jsx("button",{onClick:()=>l(!o),children:o?"":""})]}),w.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[w.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",opacity:0,width:1,height:1}}),w.jsx("canvas",{ref:t,className:"output_canvas",style:{transform:"scaleX(-1)"}}),w.jsxs("div",{className:"detector-info",children:["Hands: ",w.jsxs("strong",{style:{color:"lime"},children:["A: ",d.A]})," | ",w.jsxs("strong",{style:{color:"dodgerblue"},children:["B: ",d.B]}),a&&w.jsxs("div",{style:{color:"#f55"},children:["Error: ",a]})]})]})]})}const zv=!1;function Iv(){const[e,t]=_.useState(!1),[n,r]=_.useState(null),[o,l]=_.useState(null),[a,f]=_.useState(window.location.hash);_.useEffect(()=>{const I=()=>{f(window.location.hash)};return window.addEventListener("hashchange",I),()=>window.removeEventListener("hashchange",I)},[]);const d=I=>{r(I),t(!0)};_.useEffect(()=>()=>{o&&!o.closed&&o.close()},[o]);let x=null;return a==="#/detector"?x=w.jsx(Gc,{}):a==="#/calibrate"?x=w.jsx(Pv,{}):a==="#/tests"?x=w.jsx(Nv,{}):a==="#/tests2"?x=w.jsx(_v,{}):a==="#/tests3"?x=w.jsx(Tv,{}):a==="#/topdown"?x=w.jsx(Av,{}):a==="#/topdown2"?x=w.jsx(Lv,{}):x=e?w.jsxs(w.Fragment,{children:[w.jsx(jv,{config:n}),w.jsx(Gc,{}),zv,w.jsxs("div",{style:{position:"fixed",bottom:8,right:8,display:"flex",flexDirection:"column",gap:4,zIndex:9999},children:[w.jsx("a",{href:"#/tests",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Tests"}),w.jsx("a",{href:"#/tests2",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Tests2"}),w.jsx("a",{href:"#/tests3",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Tests3"}),w.jsx("a",{href:"#/topdown",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"TopDown"}),w.jsx("a",{href:"#/topdown2",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"TopDown2"})]})]}):w.jsx(wv,{onStart:d}),w.jsx("div",{className:"App",children:x})}cs.createRoot(document.getElementById("root")).render(w.jsx(sp.StrictMode,{children:w.jsx(Iv,{})}));
