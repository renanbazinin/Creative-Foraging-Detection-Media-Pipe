(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xc={exports:{}},ol={},Jc={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),Gh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),bh=Symbol.for("react.memo"),ep=Symbol.for("react.lazy"),Oa=Symbol.iterator;function tp(e){return e===null||typeof e!="object"?null:(e=Oa&&e[Oa]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qc=Object.assign,bc={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=bc,this.updater=n||Zc}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ef(){}ef.prototype=Xr.prototype;function ou(e,t,n){this.props=e,this.context=t,this.refs=bc,this.updater=n||Zc}var lu=ou.prototype=new ef;lu.constructor=ou;qc(lu,Xr.prototype);lu.isPureReactComponent=!0;var La=Array.isArray,tf=Object.prototype.hasOwnProperty,su={current:null},nf={key:!0,ref:!0,__self:!0,__source:!0};function rf(e,t,n){var r,o={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)tf.call(t,r)&&!nf.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var d=Array(f),v=0;v<f;v++)d[v]=arguments[v+2];o.children=d}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:$i,type:e,key:l,ref:a,props:o,_owner:su.current}}function np(e,t){return{$$typeof:$i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===$i}function rp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fa=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rp(""+e.key):t.toString(36)}function ko(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $i:case Gh:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Ol(a,0):r,La(o)?(n="",e!=null&&(n=e.replace(Fa,"$&/")+"/"),ko(o,t,n,"",function(v){return v})):o!=null&&(uu(o)&&(o=np(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Fa,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",La(e))for(var f=0;f<e.length;f++){l=e[f];var d=r+Ol(l,f);a+=ko(l,t,n,d,o)}else if(d=tp(e),typeof d=="function")for(e=d.call(e),f=0;!(l=e.next()).done;)l=l.value,d=r+Ol(l,f++),a+=ko(l,t,n,d,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function io(e,t,n){if(e==null)return e;var r=[],o=0;return ko(e,r,"","",function(l){return t.call(n,l,o++)}),r}function ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},Eo={transition:null},op={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:su};function of(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:io,forEach:function(e,t,n){io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Xr;Pe.Fragment=Qh;Pe.Profiler=Kh;Pe.PureComponent=ou;Pe.StrictMode=Yh;Pe.Suspense=qh;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=op;Pe.act=of;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qc({},e.props),o=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=su.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(d in t)tf.call(t,d)&&!nf.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&f!==void 0?f[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){f=Array(d);for(var v=0;v<d;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:$i,type:e.type,key:o,ref:l,props:r,_owner:a}};Pe.createContext=function(e){return e={$$typeof:Jh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xh,_context:e},e.Consumer=e};Pe.createElement=rf;Pe.createFactory=function(e){var t=rf.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:Zh,render:e}};Pe.isValidElement=uu;Pe.lazy=function(e){return{$$typeof:ep,_payload:{_status:-1,_result:e},_init:ip}};Pe.memo=function(e,t){return{$$typeof:bh,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=t}};Pe.unstable_act=of;Pe.useCallback=function(e,t){return Et.current.useCallback(e,t)};Pe.useContext=function(e){return Et.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return Et.current.useEffect(e,t)};Pe.useId=function(){return Et.current.useId()};Pe.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return Et.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};Pe.useRef=function(e){return Et.current.useRef(e)};Pe.useState=function(e){return Et.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return Et.current.useTransition()};Pe.version="18.3.1";Jc.exports=Pe;var I=Jc.exports;const lp=Vh(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=I,up=Symbol.for("react.element"),ap=Symbol.for("react.fragment"),cp=Object.prototype.hasOwnProperty,fp=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dp={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var r,o={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)cp.call(t,r)&&!dp.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:up,type:e,key:l,ref:a,props:o,_owner:fp.current}}ol.Fragment=ap;ol.jsx=lf;ol.jsxs=lf;Xc.exports=ol;var y=Xc.exports,as={},sf={exports:{}},Dt={},uf={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,K){var oe=F.length;F.push(K);e:for(;0<oe;){var ge=oe-1>>>1,Z=F[ge];if(0<o(Z,K))F[ge]=K,F[oe]=Z,oe=ge;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var K=F[0],oe=F.pop();if(oe!==K){F[0]=oe;e:for(var ge=0,Z=F.length,ae=Z>>>1;ge<ae;){var fe=2*(ge+1)-1,ve=F[fe],Ee=fe+1,D=F[Ee];if(0>o(ve,oe))Ee<Z&&0>o(D,ve)?(F[ge]=D,F[Ee]=oe,ge=Ee):(F[ge]=ve,F[fe]=oe,ge=fe);else if(Ee<Z&&0>o(D,oe))F[ge]=D,F[Ee]=oe,ge=Ee;else break e}}return K}function o(F,K){var oe=F.sortIndex-K.sortIndex;return oe!==0?oe:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,f=a.now();e.unstable_now=function(){return a.now()-f}}var d=[],v=[],C=1,E=null,N=3,H=!1,B=!1,Y=!1,me=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var K=n(v);K!==null;){if(K.callback===null)r(v);else if(K.startTime<=F)r(v),K.sortIndex=K.expirationTime,t(d,K);else break;K=n(v)}}function P(F){if(Y=!1,k(F),!B)if(n(d)!==null)B=!0,O(J);else{var K=n(v);K!==null&&q(P,K.startTime-F)}}function J(F,K){B=!1,Y&&(Y=!1,S(W),W=-1),H=!0;var oe=N;try{for(k(K),E=n(d);E!==null&&(!(E.expirationTime>K)||F&&!_());){var ge=E.callback;if(typeof ge=="function"){E.callback=null,N=E.priorityLevel;var Z=ge(E.expirationTime<=K);K=e.unstable_now(),typeof Z=="function"?E.callback=Z:E===n(d)&&r(d),k(K)}else r(d);E=n(d)}if(E!==null)var ae=!0;else{var fe=n(v);fe!==null&&q(P,fe.startTime-K),ae=!1}return ae}finally{E=null,N=oe,H=!1}}var te=!1,V=null,W=-1,we=5,g=-1;function _(){return!(e.unstable_now()-g<we)}function ie(){if(V!==null){var F=e.unstable_now();g=F;var K=!0;try{K=V(!0,F)}finally{K?ne():(te=!1,V=null)}}else te=!1}var ne;if(typeof w=="function")ne=function(){w(ie)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,$=he.port2;he.port1.onmessage=ie,ne=function(){$.postMessage(null)}}else ne=function(){me(ie,0)};function O(F){V=F,te||(te=!0,ne())}function q(F,K){W=me(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){B||H||(B=!0,O(J))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(F){switch(N){case 1:case 2:case 3:var K=3;break;default:K=N}var oe=N;N=K;try{return F()}finally{N=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var oe=N;N=F;try{return K()}finally{N=oe}},e.unstable_scheduleCallback=function(F,K,oe){var ge=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,F={id:C++,callback:K,priorityLevel:F,startTime:oe,expirationTime:Z,sortIndex:-1},oe>ge?(F.sortIndex=oe,t(v,F),n(d)===null&&F===n(v)&&(Y?(S(W),W=-1):Y=!0,q(P,oe-ge))):(F.sortIndex=Z,t(d,F),B||H||(B=!0,O(J))),F},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(F){var K=N;return function(){var oe=N;N=K;try{return F.apply(this,arguments)}finally{N=oe}}}})(af);uf.exports=af;var hp=uf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=I,Ft=hp;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cf=new Set,Ni={};function mr(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for(Ni[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=Object.prototype.hasOwnProperty,mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Da={},Ba={};function vp(e){return cs.call(Ba,e)?!0:cs.call(Da,e)?!1:mp.test(e)?Ba[e]=!0:(Da[e]=!0,!1)}function yp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gp(e,t,n,r){if(t===null||typeof t>"u"||yp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,o,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(au,cu);ht[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(au,cu);ht[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(au,cu);ht[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function fu(e,t,n,r){var o=ht.hasOwnProperty(t)?ht[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gp(t,n,o,r)&&(n=null),r||o===null?vp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tn=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),fs=Symbol.for("react.profiler"),ff=Symbol.for("react.provider"),df=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),ds=Symbol.for("react.suspense"),hs=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),hf=Symbol.for("react.offscreen"),Ua=Symbol.iterator;function ii(e){return e===null||typeof e!="object"?null:(e=Ua&&e[Ua]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Ll;function di(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Fl=!1;function Dl(e,t){if(!e||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),l=r.stack.split(`
`),a=o.length-1,f=l.length-1;1<=a&&0<=f&&o[a]!==l[f];)f--;for(;1<=a&&0<=f;a--,f--)if(o[a]!==l[f]){if(a!==1||f!==1)do if(a--,f--,0>f||o[a]!==l[f]){var d=`
`+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=f);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?di(e):""}function wp(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=Dl(e.type,!1),e;case 11:return e=Dl(e.type.render,!1),e;case 1:return e=Dl(e.type,!0),e;default:return""}}function ps(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Er:return"Portal";case fs:return"Profiler";case du:return"StrictMode";case ds:return"Suspense";case hs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case ff:return(e._context.displayName||"Context")+".Provider";case hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pu:return t=e.displayName||null,t!==null?t:ps(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return ps(e(t))}catch{}}return null}function Sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ps(t);case 8:return t===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xp(e){var t=pf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=xp(e))}function mf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ms(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ha(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vf(e,t){t=t.checked,t!=null&&fu(e,"checked",t,!1)}function vs(e,t){vf(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ys(e,t.type,n):t.hasOwnProperty("defaultValue")&&ys(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ys(e,t,n){(t!=="number"||zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hi=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function gs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $a(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(hi(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function yf(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Va(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ws(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var so,wf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=so.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kp=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){kp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function Sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function xf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Sf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Ep=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ss(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function xs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ks=null;function mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,Fr=null,Dr=null;function Ga(e){if(e=Qi(e)){if(typeof Es!="function")throw Error(X(280));var t=e.stateNode;t&&(t=cl(t),Es(e.stateNode,e.type,t))}}function kf(e){Fr?Dr?Dr.push(e):Dr=[e]:Fr=e}function Ef(){if(Fr){var e=Fr,t=Dr;if(Dr=Fr=null,Ga(e),t)for(e=0;e<t.length;e++)Ga(t[e])}}function Cf(e,t){return e(t)}function jf(){}var Bl=!1;function Nf(e,t,n){if(Bl)return e(t,n);Bl=!0;try{return Cf(e,t,n)}finally{Bl=!1,(Fr!==null||Dr!==null)&&(jf(),Ef())}}function Pi(e,t){var n=e.stateNode;if(n===null)return null;var r=cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Cs=!1;if(Nn)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Cs=!1}function Cp(e,t,n,r,o,l,a,f,d){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(C){this.onError(C)}}var yi=!1,Oo=null,Lo=!1,js=null,jp={onError:function(e){yi=!0,Oo=e}};function Np(e,t,n,r,o,l,a,f,d){yi=!1,Oo=null,Cp.apply(jp,arguments)}function _p(e,t,n,r,o,l,a,f,d){if(Np.apply(this,arguments),yi){if(yi){var v=Oo;yi=!1,Oo=null}else throw Error(X(198));Lo||(Lo=!0,js=v)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qa(e){if(vr(e)!==e)throw Error(X(188))}function Pp(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Qa(o),e;if(l===r)return Qa(o),t;l=l.sibling}throw Error(X(188))}if(n.return!==r.return)n=o,r=l;else{for(var a=!1,f=o.child;f;){if(f===n){a=!0,n=o,r=l;break}if(f===r){a=!0,r=o,n=l;break}f=f.sibling}if(!a){for(f=l.child;f;){if(f===n){a=!0,n=l,r=o;break}if(f===r){a=!0,r=l,n=o;break}f=f.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function Pf(e){return e=Pp(e),e!==null?Mf(e):null}function Mf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mf(e);if(t!==null)return t;e=e.sibling}return null}var Tf=Ft.unstable_scheduleCallback,Ya=Ft.unstable_cancelCallback,Mp=Ft.unstable_shouldYield,Tp=Ft.unstable_requestPaint,Ze=Ft.unstable_now,Ap=Ft.unstable_getCurrentPriorityLevel,vu=Ft.unstable_ImmediatePriority,Af=Ft.unstable_UserBlockingPriority,Fo=Ft.unstable_NormalPriority,Rp=Ft.unstable_LowPriority,Rf=Ft.unstable_IdlePriority,ll=null,vn=null;function Ip(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Lp,zp=Math.log,Op=Math.LN2;function Lp(e){return e>>>=0,e===0?32:31-(zp(e)/Op|0)|0}var uo=64,ao=4194304;function pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Do(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var f=a&~o;f!==0?r=pi(f):(l&=a,l!==0&&(r=pi(l)))}else a=n&~o,a!==0?r=pi(a):l!==0&&(r=pi(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rn(t),o=1<<n,r|=e[n],t&=~o;return r}function Fp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-rn(l),f=1<<a,d=o[a];d===-1?(!(f&n)||f&r)&&(o[a]=Fp(f,t)):d<=t&&(e.expiredLanes|=f),l&=~f}}function Ns(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function If(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function Ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=n}function Bp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-rn(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Oe=0;function zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Of,gu,Lf,Ff,Df,_s=!1,co=[],$n=null,Vn=null,Gn=null,Mi=new Map,Ti=new Map,Bn=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(t.pointerId)}}function li(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Qi(t),t!==null&&gu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Hp(e,t,n,r,o){switch(t){case"focusin":return $n=li($n,e,t,n,r,o),!0;case"dragenter":return Vn=li(Vn,e,t,n,r,o),!0;case"mouseover":return Gn=li(Gn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Mi.set(l,li(Mi.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Ti.set(l,li(Ti.get(l)||null,e,t,n,r,o)),!0}return!1}function Bf(e){var t=or(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=_f(n),t!==null){e.blockedOn=t,Df(e.priority,function(){Lf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ps(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ks=r,n.target.dispatchEvent(r),ks=null}else return t=Qi(n),t!==null&&gu(t),e.blockedOn=n,!1;t.shift()}return!0}function Xa(e,t,n){Co(e)&&n.delete(t)}function Wp(){_s=!1,$n!==null&&Co($n)&&($n=null),Vn!==null&&Co(Vn)&&(Vn=null),Gn!==null&&Co(Gn)&&(Gn=null),Mi.forEach(Xa),Ti.forEach(Xa)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,_s||(_s=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Wp)))}function Ai(e){function t(o){return si(o,e)}if(0<co.length){si(co[0],e);for(var n=1;n<co.length;n++){var r=co[n];r.blockedOn===e&&(r.blockedOn=null)}}for($n!==null&&si($n,e),Vn!==null&&si(Vn,e),Gn!==null&&si(Gn,e),Mi.forEach(t),Ti.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)Bf(n),n.blockedOn===null&&Bn.shift()}var Br=Tn.ReactCurrentBatchConfig,Bo=!0;function $p(e,t,n,r){var o=Oe,l=Br.transition;Br.transition=null;try{Oe=1,wu(e,t,n,r)}finally{Oe=o,Br.transition=l}}function Vp(e,t,n,r){var o=Oe,l=Br.transition;Br.transition=null;try{Oe=4,wu(e,t,n,r)}finally{Oe=o,Br.transition=l}}function wu(e,t,n,r){if(Bo){var o=Ps(e,t,n,r);if(o===null)Jl(e,t,r,Uo,n),Ka(e,r);else if(Hp(o,e,t,n,r))r.stopPropagation();else if(Ka(e,r),t&4&&-1<Up.indexOf(e)){for(;o!==null;){var l=Qi(o);if(l!==null&&Of(l),l=Ps(e,t,n,r),l===null&&Jl(e,t,r,Uo,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Jl(e,t,r,null,n)}}var Uo=null;function Ps(e,t,n,r){if(Uo=null,e=mu(r),e=or(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uo=e,null}function Uf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case vu:return 1;case Af:return 4;case Fo:case Rp:return 16;case Rf:return 536870912;default:return 16}default:return 16}}var Hn=null,Su=null,jo=null;function Hf(){if(jo)return jo;var e,t=Su,n=t.length,r,o="value"in Hn?Hn.value:Hn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[l-r];r++);return jo=o.slice(e,1<r?1-r:void 0)}function No(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function Ja(){return!1}function Bt(e){function t(n,r,o,l,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?fo:Ja,this.isPropagationStopped=Ja,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Bt(Jr),Gi=Ye({},Jr,{view:0,detail:0}),Gp=Bt(Gi),Hl,Wl,ui,sl=Ye({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Hl=e.screenX-ui.screenX,Wl=e.screenY-ui.screenY):Wl=Hl=0,ui=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),Za=Bt(sl),Qp=Ye({},sl,{dataTransfer:0}),Yp=Bt(Qp),Kp=Ye({},Gi,{relatedTarget:0}),$l=Bt(Kp),Xp=Ye({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jp=Bt(Xp),Zp=Ye({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=Bt(Zp),bp=Ye({},Jr,{data:0}),qa=Bt(bp),em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nm[e])?!!t[e]:!1}function ku(){return rm}var im=Ye({},Gi,{key:function(e){if(e.key){var t=em[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=No(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(e){return e.type==="keypress"?No(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?No(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),om=Bt(im),lm=Ye({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ba=Bt(lm),sm=Ye({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),um=Bt(sm),am=Ye({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cm=Bt(am),fm=Ye({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dm=Bt(fm),hm=[9,13,27,32],Eu=Nn&&"CompositionEvent"in window,gi=null;Nn&&"documentMode"in document&&(gi=document.documentMode);var pm=Nn&&"TextEvent"in window&&!gi,Wf=Nn&&(!Eu||gi&&8<gi&&11>=gi),ec=" ",tc=!1;function $f(e,t){switch(e){case"keyup":return hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function mm(e,t){switch(e){case"compositionend":return Vf(t);case"keypress":return t.which!==32?null:(tc=!0,ec);case"textInput":return e=t.data,e===ec&&tc?null:e;default:return null}}function vm(e,t){if(jr)return e==="compositionend"||!Eu&&$f(e,t)?(e=Hf(),jo=Su=Hn=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wf&&t.locale!=="ko"?null:t.data;default:return null}}var ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ym[e.type]:t==="textarea"}function Gf(e,t,n,r){kf(r),t=Ho(t,"onChange"),0<t.length&&(n=new xu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,Ri=null;function gm(e){nd(e,0)}function ul(e){var t=Pr(e);if(mf(t))return e}function wm(e,t){if(e==="change")return t}var Qf=!1;if(Nn){var Vl;if(Nn){var Gl="oninput"in document;if(!Gl){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),Gl=typeof rc.oninput=="function"}Vl=Gl}else Vl=!1;Qf=Vl&&(!document.documentMode||9<document.documentMode)}function ic(){wi&&(wi.detachEvent("onpropertychange",Yf),Ri=wi=null)}function Yf(e){if(e.propertyName==="value"&&ul(Ri)){var t=[];Gf(t,Ri,e,mu(e)),Nf(gm,t)}}function Sm(e,t,n){e==="focusin"?(ic(),wi=t,Ri=n,wi.attachEvent("onpropertychange",Yf)):e==="focusout"&&ic()}function xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Ri)}function km(e,t){if(e==="click")return ul(t)}function Em(e,t){if(e==="input"||e==="change")return ul(t)}function Cm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Cm;function Ii(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!cs.call(t,o)||!ln(e[o],t[o]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lc(e,t){var n=oc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oc(n)}}function Kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xf(){for(var e=window,t=zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zo(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jm(e){var t=Xf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kf(n.ownerDocument.documentElement,n)){if(r!==null&&Cu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=lc(n,l);var a=lc(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nm=Nn&&"documentMode"in document&&11>=document.documentMode,Nr=null,Ms=null,Si=null,Ts=!1;function sc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ts||Nr==null||Nr!==zo(r)||(r=Nr,"selectionStart"in r&&Cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&Ii(Si,r)||(Si=r,r=Ho(Ms,"onSelect"),0<r.length&&(t=new xu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},Ql={},Jf={};Nn&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function al(e){if(Ql[e])return Ql[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jf)return Ql[e]=t[n];return e}var Zf=al("animationend"),qf=al("animationiteration"),bf=al("animationstart"),ed=al("transitionend"),td=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){td.set(e,t),mr(t,[e])}for(var Yl=0;Yl<uc.length;Yl++){var Kl=uc[Yl],_m=Kl.toLowerCase(),Pm=Kl[0].toUpperCase()+Kl.slice(1);bn(_m,"on"+Pm)}bn(Zf,"onAnimationEnd");bn(qf,"onAnimationIteration");bn(bf,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(ed,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function ac(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_p(r,t,void 0,e),e.currentTarget=null}function nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var f=r[a],d=f.instance,v=f.currentTarget;if(f=f.listener,d!==l&&o.isPropagationStopped())break e;ac(o,f,v),l=d}else for(a=0;a<r.length;a++){if(f=r[a],d=f.instance,v=f.currentTarget,f=f.listener,d!==l&&o.isPropagationStopped())break e;ac(o,f,v),l=d}}}if(Lo)throw e=js,Lo=!1,js=null,e}function He(e,t){var n=t[Os];n===void 0&&(n=t[Os]=new Set);var r=e+"__bubble";n.has(r)||(rd(t,e,2,!1),n.add(r))}function Xl(e,t,n){var r=0;t&&(r|=4),rd(n,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[po]){e[po]=!0,cf.forEach(function(n){n!=="selectionchange"&&(Mm.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,Xl("selectionchange",!1,t))}}function rd(e,t,n,r){switch(Uf(t)){case 1:var o=$p;break;case 4:o=Vp;break;default:o=wu}n=o.bind(null,t,n,e),o=void 0,!Cs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Jl(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;a=a.return}for(;f!==null;){if(a=or(f),a===null)return;if(d=a.tag,d===5||d===6){r=l=a;continue e}f=f.parentNode}}r=r.return}Nf(function(){var v=l,C=mu(n),E=[];e:{var N=td.get(e);if(N!==void 0){var H=xu,B=e;switch(e){case"keypress":if(No(n)===0)break e;case"keydown":case"keyup":H=om;break;case"focusin":B="focus",H=$l;break;case"focusout":B="blur",H=$l;break;case"beforeblur":case"afterblur":H=$l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=um;break;case Zf:case qf:case bf:H=Jp;break;case ed:H=cm;break;case"scroll":H=Gp;break;case"wheel":H=dm;break;case"copy":case"cut":case"paste":H=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ba}var Y=(t&4)!==0,me=!Y&&e==="scroll",S=Y?N!==null?N+"Capture":null:N;Y=[];for(var w=v,k;w!==null;){k=w;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,S!==null&&(P=Pi(w,S),P!=null&&Y.push(Oi(w,P,k)))),me)break;w=w.return}0<Y.length&&(N=new H(N,B,null,n,C),E.push({event:N,listeners:Y}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",N&&n!==ks&&(B=n.relatedTarget||n.fromElement)&&(or(B)||B[_n]))break e;if((H||N)&&(N=C.window===C?C:(N=C.ownerDocument)?N.defaultView||N.parentWindow:window,H?(B=n.relatedTarget||n.toElement,H=v,B=B?or(B):null,B!==null&&(me=vr(B),B!==me||B.tag!==5&&B.tag!==6)&&(B=null)):(H=null,B=v),H!==B)){if(Y=Za,P="onMouseLeave",S="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(Y=ba,P="onPointerLeave",S="onPointerEnter",w="pointer"),me=H==null?N:Pr(H),k=B==null?N:Pr(B),N=new Y(P,w+"leave",H,n,C),N.target=me,N.relatedTarget=k,P=null,or(C)===v&&(Y=new Y(S,w+"enter",B,n,C),Y.target=k,Y.relatedTarget=me,P=Y),me=P,H&&B)t:{for(Y=H,S=B,w=0,k=Y;k;k=kr(k))w++;for(k=0,P=S;P;P=kr(P))k++;for(;0<w-k;)Y=kr(Y),w--;for(;0<k-w;)S=kr(S),k--;for(;w--;){if(Y===S||S!==null&&Y===S.alternate)break t;Y=kr(Y),S=kr(S)}Y=null}else Y=null;H!==null&&cc(E,N,H,Y,!1),B!==null&&me!==null&&cc(E,me,B,Y,!0)}}e:{if(N=v?Pr(v):window,H=N.nodeName&&N.nodeName.toLowerCase(),H==="select"||H==="input"&&N.type==="file")var J=wm;else if(nc(N))if(Qf)J=Em;else{J=xm;var te=Sm}else(H=N.nodeName)&&H.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(J=km);if(J&&(J=J(e,v))){Gf(E,J,n,C);break e}te&&te(e,N,v),e==="focusout"&&(te=N._wrapperState)&&te.controlled&&N.type==="number"&&ys(N,"number",N.value)}switch(te=v?Pr(v):window,e){case"focusin":(nc(te)||te.contentEditable==="true")&&(Nr=te,Ms=v,Si=null);break;case"focusout":Si=Ms=Nr=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,sc(E,n,C);break;case"selectionchange":if(Nm)break;case"keydown":case"keyup":sc(E,n,C)}var V;if(Eu)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else jr?$f(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(Wf&&n.locale!=="ko"&&(jr||W!=="onCompositionStart"?W==="onCompositionEnd"&&jr&&(V=Hf()):(Hn=C,Su="value"in Hn?Hn.value:Hn.textContent,jr=!0)),te=Ho(v,W),0<te.length&&(W=new qa(W,e,null,n,C),E.push({event:W,listeners:te}),V?W.data=V:(V=Vf(n),V!==null&&(W.data=V)))),(V=pm?mm(e,n):vm(e,n))&&(v=Ho(v,"onBeforeInput"),0<v.length&&(C=new qa("onBeforeInput","beforeinput",null,n,C),E.push({event:C,listeners:v}),C.data=V))}nd(E,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Pi(e,n),l!=null&&r.unshift(Oi(e,l,o)),l=Pi(e,t),l!=null&&r.push(Oi(e,l,o))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cc(e,t,n,r,o){for(var l=t._reactName,a=[];n!==null&&n!==r;){var f=n,d=f.alternate,v=f.stateNode;if(d!==null&&d===r)break;f.tag===5&&v!==null&&(f=v,o?(d=Pi(n,l),d!=null&&a.unshift(Oi(n,d,f))):o||(d=Pi(n,l),d!=null&&a.push(Oi(n,d,f)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Tm=/\r\n?/g,Am=/\u0000|\uFFFD/g;function fc(e){return(typeof e=="string"?e:""+e).replace(Tm,`
`).replace(Am,"")}function mo(e,t,n){if(t=fc(t),fc(e)!==t&&n)throw Error(X(425))}function Wo(){}var As=null,Rs=null;function Is(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zs=typeof setTimeout=="function"?setTimeout:void 0,Rm=typeof clearTimeout=="function"?clearTimeout:void 0,dc=typeof Promise=="function"?Promise:void 0,Im=typeof queueMicrotask=="function"?queueMicrotask:typeof dc<"u"?function(e){return dc.resolve(null).then(e).catch(zm)}:zs;function zm(e){setTimeout(function(){throw e})}function Zl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ai(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),mn="__reactFiber$"+Zr,Li="__reactProps$"+Zr,_n="__reactContainer$"+Zr,Os="__reactEvents$"+Zr,Om="__reactListeners$"+Zr,Lm="__reactHandles$"+Zr;function or(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hc(e);e!==null;){if(n=e[mn])return n;e=hc(e)}return t}e=n,n=e.parentNode}return null}function Qi(e){return e=e[mn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function cl(e){return e[Li]||null}var Ls=[],Mr=-1;function er(e){return{current:e}}function We(e){0>Mr||(e.current=Ls[Mr],Ls[Mr]=null,Mr--)}function Be(e,t){Mr++,Ls[Mr]=e.current,e.current=t}var qn={},gt=er(qn),Tt=er(!1),cr=qn;function $r(e,t){var n=e.type.contextTypes;if(!n)return qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function At(e){return e=e.childContextTypes,e!=null}function $o(){We(Tt),We(gt)}function pc(e,t,n){if(gt.current!==qn)throw Error(X(168));Be(gt,t),Be(Tt,n)}function id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(X(108,Sp(e)||"Unknown",o));return Ye({},n,r)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,cr=gt.current,Be(gt,e),Be(Tt,Tt.current),!0}function mc(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=id(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,We(Tt),We(gt),Be(gt,e)):We(Tt),Be(Tt,n)}var kn=null,fl=!1,ql=!1;function od(e){kn===null?kn=[e]:kn.push(e)}function Fm(e){fl=!0,od(e)}function tr(){if(!ql&&kn!==null){ql=!0;var e=0,t=Oe;try{var n=kn;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kn=null,fl=!1}catch(o){throw kn!==null&&(kn=kn.slice(e+1)),Tf(vu,tr),o}finally{Oe=t,ql=!1}}return null}var Tr=[],Ar=0,Go=null,Qo=0,$t=[],Vt=0,fr=null,En=1,Cn="";function rr(e,t){Tr[Ar++]=Qo,Tr[Ar++]=Go,Go=e,Qo=t}function ld(e,t,n){$t[Vt++]=En,$t[Vt++]=Cn,$t[Vt++]=fr,fr=e;var r=En;e=Cn;var o=32-rn(r)-1;r&=~(1<<o),n+=1;var l=32-rn(t)+o;if(30<l){var a=o-o%5;l=(r&(1<<a)-1).toString(32),r>>=a,o-=a,En=1<<32-rn(t)+o|n<<o|r,Cn=l+e}else En=1<<l|n<<o|r,Cn=e}function ju(e){e.return!==null&&(rr(e,1),ld(e,1,0))}function Nu(e){for(;e===Go;)Go=Tr[--Ar],Tr[Ar]=null,Qo=Tr[--Ar],Tr[Ar]=null;for(;e===fr;)fr=$t[--Vt],$t[Vt]=null,Cn=$t[--Vt],$t[Vt]=null,En=$t[--Vt],$t[Vt]=null}var Lt=null,Ot=null,$e=!1,tn=null;function sd(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Ot=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:En,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,Ot=null,!0):!1;default:return!1}}function Fs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ds(e){if($e){var t=Ot;if(t){var n=t;if(!vc(e,t)){if(Fs(e))throw Error(X(418));t=Qn(n.nextSibling);var r=Lt;t&&vc(e,t)?sd(r,n):(e.flags=e.flags&-4097|2,$e=!1,Lt=e)}}else{if(Fs(e))throw Error(X(418));e.flags=e.flags&-4097|2,$e=!1,Lt=e}}}function yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function vo(e){if(e!==Lt)return!1;if(!$e)return yc(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Is(e.type,e.memoizedProps)),t&&(t=Ot)){if(Fs(e))throw ud(),Error(X(418));for(;t;)sd(e,t),t=Qn(t.nextSibling)}if(yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ot=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Lt?Qn(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=Ot;e;)e=Qn(e.nextSibling)}function Vr(){Ot=Lt=null,$e=!1}function _u(e){tn===null?tn=[e]:tn.push(e)}var Dm=Tn.ReactCurrentBatchConfig;function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var f=o.refs;a===null?delete f[l]:f[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function ad(e){function t(S,w){if(e){var k=S.deletions;k===null?(S.deletions=[w],S.flags|=16):k.push(w)}}function n(S,w){if(!e)return null;for(;w!==null;)t(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function o(S,w){return S=Jn(S,w),S.index=0,S.sibling=null,S}function l(S,w,k){return S.index=k,e?(k=S.alternate,k!==null?(k=k.index,k<w?(S.flags|=2,w):k):(S.flags|=2,w)):(S.flags|=1048576,w)}function a(S){return e&&S.alternate===null&&(S.flags|=2),S}function f(S,w,k,P){return w===null||w.tag!==6?(w=os(k,S.mode,P),w.return=S,w):(w=o(w,k),w.return=S,w)}function d(S,w,k,P){var J=k.type;return J===Cr?C(S,w,k.props.children,P,k.key):w!==null&&(w.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Fn&&gc(J)===w.type)?(P=o(w,k.props),P.ref=ai(S,w,k),P.return=S,P):(P=Io(k.type,k.key,k.props,null,S.mode,P),P.ref=ai(S,w,k),P.return=S,P)}function v(S,w,k,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=ls(k,S.mode,P),w.return=S,w):(w=o(w,k.children||[]),w.return=S,w)}function C(S,w,k,P,J){return w===null||w.tag!==7?(w=ar(k,S.mode,P,J),w.return=S,w):(w=o(w,k),w.return=S,w)}function E(S,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=os(""+w,S.mode,k),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oo:return k=Io(w.type,w.key,w.props,null,S.mode,k),k.ref=ai(S,null,w),k.return=S,k;case Er:return w=ls(w,S.mode,k),w.return=S,w;case Fn:var P=w._init;return E(S,P(w._payload),k)}if(hi(w)||ii(w))return w=ar(w,S.mode,k,null),w.return=S,w;yo(S,w)}return null}function N(S,w,k,P){var J=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return J!==null?null:f(S,w,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case oo:return k.key===J?d(S,w,k,P):null;case Er:return k.key===J?v(S,w,k,P):null;case Fn:return J=k._init,N(S,w,J(k._payload),P)}if(hi(k)||ii(k))return J!==null?null:C(S,w,k,P,null);yo(S,k)}return null}function H(S,w,k,P,J){if(typeof P=="string"&&P!==""||typeof P=="number")return S=S.get(k)||null,f(w,S,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case oo:return S=S.get(P.key===null?k:P.key)||null,d(w,S,P,J);case Er:return S=S.get(P.key===null?k:P.key)||null,v(w,S,P,J);case Fn:var te=P._init;return H(S,w,k,te(P._payload),J)}if(hi(P)||ii(P))return S=S.get(k)||null,C(w,S,P,J,null);yo(w,P)}return null}function B(S,w,k,P){for(var J=null,te=null,V=w,W=w=0,we=null;V!==null&&W<k.length;W++){V.index>W?(we=V,V=null):we=V.sibling;var g=N(S,V,k[W],P);if(g===null){V===null&&(V=we);break}e&&V&&g.alternate===null&&t(S,V),w=l(g,w,W),te===null?J=g:te.sibling=g,te=g,V=we}if(W===k.length)return n(S,V),$e&&rr(S,W),J;if(V===null){for(;W<k.length;W++)V=E(S,k[W],P),V!==null&&(w=l(V,w,W),te===null?J=V:te.sibling=V,te=V);return $e&&rr(S,W),J}for(V=r(S,V);W<k.length;W++)we=H(V,S,W,k[W],P),we!==null&&(e&&we.alternate!==null&&V.delete(we.key===null?W:we.key),w=l(we,w,W),te===null?J=we:te.sibling=we,te=we);return e&&V.forEach(function(_){return t(S,_)}),$e&&rr(S,W),J}function Y(S,w,k,P){var J=ii(k);if(typeof J!="function")throw Error(X(150));if(k=J.call(k),k==null)throw Error(X(151));for(var te=J=null,V=w,W=w=0,we=null,g=k.next();V!==null&&!g.done;W++,g=k.next()){V.index>W?(we=V,V=null):we=V.sibling;var _=N(S,V,g.value,P);if(_===null){V===null&&(V=we);break}e&&V&&_.alternate===null&&t(S,V),w=l(_,w,W),te===null?J=_:te.sibling=_,te=_,V=we}if(g.done)return n(S,V),$e&&rr(S,W),J;if(V===null){for(;!g.done;W++,g=k.next())g=E(S,g.value,P),g!==null&&(w=l(g,w,W),te===null?J=g:te.sibling=g,te=g);return $e&&rr(S,W),J}for(V=r(S,V);!g.done;W++,g=k.next())g=H(V,S,W,g.value,P),g!==null&&(e&&g.alternate!==null&&V.delete(g.key===null?W:g.key),w=l(g,w,W),te===null?J=g:te.sibling=g,te=g);return e&&V.forEach(function(ie){return t(S,ie)}),$e&&rr(S,W),J}function me(S,w,k,P){if(typeof k=="object"&&k!==null&&k.type===Cr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case oo:e:{for(var J=k.key,te=w;te!==null;){if(te.key===J){if(J=k.type,J===Cr){if(te.tag===7){n(S,te.sibling),w=o(te,k.props.children),w.return=S,S=w;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Fn&&gc(J)===te.type){n(S,te.sibling),w=o(te,k.props),w.ref=ai(S,te,k),w.return=S,S=w;break e}n(S,te);break}else t(S,te);te=te.sibling}k.type===Cr?(w=ar(k.props.children,S.mode,P,k.key),w.return=S,S=w):(P=Io(k.type,k.key,k.props,null,S.mode,P),P.ref=ai(S,w,k),P.return=S,S=P)}return a(S);case Er:e:{for(te=k.key;w!==null;){if(w.key===te)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(S,w.sibling),w=o(w,k.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else t(S,w);w=w.sibling}w=ls(k,S.mode,P),w.return=S,S=w}return a(S);case Fn:return te=k._init,me(S,w,te(k._payload),P)}if(hi(k))return B(S,w,k,P);if(ii(k))return Y(S,w,k,P);yo(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(S,w.sibling),w=o(w,k),w.return=S,S=w):(n(S,w),w=os(k,S.mode,P),w.return=S,S=w),a(S)):n(S,w)}return me}var Gr=ad(!0),cd=ad(!1),Yo=er(null),Ko=null,Rr=null,Pu=null;function Mu(){Pu=Rr=Ko=null}function Tu(e){var t=Yo.current;We(Yo),e._currentValue=t}function Bs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ur(e,t){Ko=e,Pu=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Pu!==e)if(e={context:e,memoizedValue:t,next:null},Rr===null){if(Ko===null)throw Error(X(308));Rr=e,Ko.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return t}var lr=null;function Au(e){lr===null?lr=[e]:lr.push(e)}function fd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Au(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pn(e,r)}function Pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pn(e,n)}return o=r.interleaved,o===null?(t.next=t,Au(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pn(e,n)}function _o(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}function wc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var o=e.updateQueue;Dn=!1;var l=o.firstBaseUpdate,a=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var d=f,v=d.next;d.next=null,a===null?l=v:a.next=v,a=d;var C=e.alternate;C!==null&&(C=C.updateQueue,f=C.lastBaseUpdate,f!==a&&(f===null?C.firstBaseUpdate=v:f.next=v,C.lastBaseUpdate=d))}if(l!==null){var E=o.baseState;a=0,C=v=d=null,f=l;do{var N=f.lane,H=f.eventTime;if((r&N)===N){C!==null&&(C=C.next={eventTime:H,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var B=e,Y=f;switch(N=t,H=n,Y.tag){case 1:if(B=Y.payload,typeof B=="function"){E=B.call(H,E,N);break e}E=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=Y.payload,N=typeof B=="function"?B.call(H,E,N):B,N==null)break e;E=Ye({},E,N);break e;case 2:Dn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,N=o.effects,N===null?o.effects=[f]:N.push(f))}else H={eventTime:H,lane:N,tag:f.tag,payload:f.payload,callback:f.callback,next:null},C===null?(v=C=H,d=E):C=C.next=H,a|=N;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;N=f,f=N.next,N.next=null,o.lastBaseUpdate=N,o.shared.pending=null}}while(!0);if(C===null&&(d=E),o.baseState=d,o.firstBaseUpdate=v,o.lastBaseUpdate=C,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);hr|=a,e.lanes=a,e.memoizedState=E}}function Sc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(X(191,o));o.call(r)}}}var Yi={},yn=er(Yi),Fi=er(Yi),Di=er(Yi);function sr(e){if(e===Yi)throw Error(X(174));return e}function Iu(e,t){switch(Be(Di,t),Be(Fi,e),Be(yn,Yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ws(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ws(t,e)}We(yn),Be(yn,t)}function Qr(){We(yn),We(Fi),We(Di)}function hd(e){sr(Di.current);var t=sr(yn.current),n=ws(t,e.type);t!==n&&(Be(Fi,e),Be(yn,n))}function zu(e){Fi.current===e&&(We(yn),We(Fi))}var Ge=er(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function Ou(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var Po=Tn.ReactCurrentDispatcher,es=Tn.ReactCurrentBatchConfig,dr=0,Qe=null,rt=null,lt=null,Zo=!1,xi=!1,Bi=0,Bm=0;function mt(){throw Error(X(321))}function Lu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function Fu(e,t,n,r,o,l){if(dr=l,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Po.current=e===null||e.memoizedState===null?$m:Vm,e=n(r,o),xi){l=0;do{if(xi=!1,Bi=0,25<=l)throw Error(X(301));l+=1,lt=rt=null,t.updateQueue=null,Po.current=Gm,e=n(r,o)}while(xi)}if(Po.current=qo,t=rt!==null&&rt.next!==null,dr=0,lt=rt=Qe=null,Zo=!1,t)throw Error(X(300));return e}function Du(){var e=Bi!==0;return Bi=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Qe.memoizedState=lt=e:lt=lt.next=e,lt}function Kt(){if(rt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=lt===null?Qe.memoizedState:lt.next;if(t!==null)lt=t,rt=e;else{if(e===null)throw Error(X(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?Qe.memoizedState=lt=e:lt=lt.next=e}return lt}function Ui(e,t){return typeof t=="function"?t(e):t}function ts(e){var t=Kt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=rt,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var a=o.next;o.next=l.next,l.next=a}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var f=a=null,d=null,v=l;do{var C=v.lane;if((dr&C)===C)d!==null&&(d=d.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var E={lane:C,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};d===null?(f=d=E,a=r):d=d.next=E,Qe.lanes|=C,hr|=C}v=v.next}while(v!==null&&v!==l);d===null?a=r:d.next=f,ln(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Qe.lanes|=l,hr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ns(e){var t=Kt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do l=e(l,a.action),a=a.next;while(a!==o);ln(l,t.memoizedState)||(Mt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function pd(){}function md(e,t){var n=Qe,r=Kt(),o=t(),l=!ln(r.memoizedState,o);if(l&&(r.memoizedState=o,Mt=!0),r=r.queue,Bu(gd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Hi(9,yd.bind(null,n,r,o,t),void 0,null),st===null)throw Error(X(349));dr&30||vd(n,t,o)}return o}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&Sd(e)}function gd(e,t,n){return n(function(){wd(t)&&Sd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function Sd(e){var t=Pn(e,1);t!==null&&on(t,e,1,-1)}function xc(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=Wm.bind(null,Qe,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xd(){return Kt().memoizedState}function Mo(e,t,n,r){var o=pn();Qe.flags|=e,o.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function dl(e,t,n,r){var o=Kt();r=r===void 0?null:r;var l=void 0;if(rt!==null){var a=rt.memoizedState;if(l=a.destroy,r!==null&&Lu(r,a.deps)){o.memoizedState=Hi(t,n,l,r);return}}Qe.flags|=e,o.memoizedState=Hi(1|t,n,l,r)}function kc(e,t){return Mo(8390656,8,e,t)}function Bu(e,t){return dl(2048,8,e,t)}function kd(e,t){return dl(4,2,e,t)}function Ed(e,t){return dl(4,4,e,t)}function Cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,n){return n=n!=null?n.concat([e]):null,dl(4,4,Cd.bind(null,t,e),n)}function Uu(){}function Nd(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _d(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pd(e,t,n){return dr&21?(ln(n,t)||(n=If(),Qe.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n)}function Um(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=es.transition;es.transition={};try{e(!1),t()}finally{Oe=n,es.transition=r}}function Md(){return Kt().memoizedState}function Hm(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Td(e))Ad(t,n);else if(n=fd(e,t,n,r),n!==null){var o=kt();on(n,e,r,o),Rd(n,t,r)}}function Wm(e,t,n){var r=Xn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Td(e))Ad(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,f=l(a,n);if(o.hasEagerState=!0,o.eagerState=f,ln(f,a)){var d=t.interleaved;d===null?(o.next=o,Au(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=fd(e,t,o,r),n!==null&&(o=kt(),on(n,e,r,o),Rd(n,t,r))}}function Td(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Ad(e,t){xi=Zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}var qo={readContext:Yt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},$m={readContext:Yt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:kc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4194308,4,Cd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hm.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:xc,useDebugValue:Uu,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=xc(!1),t=e[0];return e=Um.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,o=pn();if($e){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),st===null)throw Error(X(349));dr&30||vd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,kc(gd.bind(null,r,l,e),[e]),r.flags|=2048,Hi(9,yd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=pn(),t=st.identifierPrefix;if($e){var n=Cn,r=En;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vm={readContext:Yt,useCallback:Nd,useContext:Yt,useEffect:Bu,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:_d,useReducer:ts,useRef:xd,useState:function(){return ts(Ui)},useDebugValue:Uu,useDeferredValue:function(e){var t=Kt();return Pd(t,rt.memoizedState,e)},useTransition:function(){var e=ts(Ui)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Md,unstable_isNewReconciler:!1},Gm={readContext:Yt,useCallback:Nd,useContext:Yt,useEffect:Bu,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:_d,useReducer:ns,useRef:xd,useState:function(){return ns(Ui)},useDebugValue:Uu,useDeferredValue:function(e){var t=Kt();return rt===null?t.memoizedState=e:Pd(t,rt.memoizedState,e)},useTransition:function(){var e=ns(Ui)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Md,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Us(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hl={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),o=Xn(e),l=jn(r,o);l.payload=t,n!=null&&(l.callback=n),t=Yn(e,l,o),t!==null&&(on(t,e,o,r),_o(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),o=Xn(e),l=jn(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Yn(e,l,o),t!==null&&(on(t,e,o,r),_o(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=Xn(e),o=jn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Yn(e,o,r),t!==null&&(on(t,e,r,n),_o(t,e,r))}};function Ec(e,t,n,r,o,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(o,l):!0}function Id(e,t,n){var r=!1,o=qn,l=t.contextType;return typeof l=="object"&&l!==null?l=Yt(l):(o=At(t)?cr:gt.current,r=t.contextTypes,l=(r=r!=null)?$r(e,o):qn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Cc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ru(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Yt(l):(l=At(t)?cr:gt.current,o.context=$r(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Us(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hl.enqueueReplaceState(o,o.state,null),Xo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var n="",r=t;do n+=wp(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function rs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ws(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function zd(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,qs=r),Ws(e,t)},n}function Od(e,t,n){n=jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ws(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ws(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function jc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=lv.bind(null,e,t,n),t.then(e,e))}function Nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _c(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e)}var Ym=Tn.ReactCurrentOwner,Mt=!1;function xt(e,t,n,r){t.child=e===null?cd(t,null,n,r):Gr(t,e.child,n,r)}function Pc(e,t,n,r,o){n=n.render;var l=t.ref;return Ur(t,o),r=Fu(e,t,n,r,l,o),n=Du(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mn(e,t,o)):($e&&n&&ju(t),t.flags|=1,xt(e,t,r,o),t.child)}function Mc(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Ku(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ld(e,t,l,r,o)):(e=Io(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(a,r)&&e.ref===t.ref)return Mn(e,t,o)}return t.flags|=1,e=Jn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Ld(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Ii(l,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Mn(e,t,o)}return $s(e,t,n,r,o)}function Fd(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(zr,zt),zt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(zr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Be(zr,zt),zt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Be(zr,zt),zt|=r;return xt(e,t,o,n),t.child}function Dd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $s(e,t,n,r,o){var l=At(n)?cr:gt.current;return l=$r(t,l),Ur(t,o),n=Fu(e,t,n,r,l,o),r=Du(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mn(e,t,o)):($e&&r&&ju(t),t.flags|=1,xt(e,t,n,o),t.child)}function Tc(e,t,n,r,o){if(At(n)){var l=!0;Vo(t)}else l=!1;if(Ur(t,o),t.stateNode===null)To(e,t),Id(t,n,r),Hs(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,f=t.memoizedProps;a.props=f;var d=a.context,v=n.contextType;typeof v=="object"&&v!==null?v=Yt(v):(v=At(n)?cr:gt.current,v=$r(t,v));var C=n.getDerivedStateFromProps,E=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function";E||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==r||d!==v)&&Cc(t,a,r,v),Dn=!1;var N=t.memoizedState;a.state=N,Xo(t,r,a,o),d=t.memoizedState,f!==r||N!==d||Tt.current||Dn?(typeof C=="function"&&(Us(t,n,C,r),d=t.memoizedState),(f=Dn||Ec(t,n,f,r,N,d,v))?(E||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=v,r=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,dd(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:bt(t.type,f),a.props=v,E=t.pendingProps,N=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Yt(d):(d=At(n)?cr:gt.current,d=$r(t,d));var H=n.getDerivedStateFromProps;(C=typeof H=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==E||N!==d)&&Cc(t,a,r,d),Dn=!1,N=t.memoizedState,a.state=N,Xo(t,r,a,o);var B=t.memoizedState;f!==E||N!==B||Tt.current||Dn?(typeof H=="function"&&(Us(t,n,H,r),B=t.memoizedState),(v=Dn||Ec(t,n,v,r,N,B,d)||!1)?(C||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,B,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,B,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),a.props=r,a.state=B,a.context=d,r=v):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return Vs(e,t,n,r,l,o)}function Vs(e,t,n,r,o,l){Dd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&mc(t,n,!1),Mn(e,t,l);r=t.stateNode,Ym.current=t;var f=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Gr(t,e.child,null,l),t.child=Gr(t,null,f,l)):xt(e,t,f,l),t.memoizedState=r.state,o&&mc(t,n,!0),t.child}function Bd(e){var t=e.stateNode;t.pendingContext?pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pc(e,t.context,!1),Iu(e,t.containerInfo)}function Ac(e,t,n,r,o){return Vr(),_u(o),t.flags|=256,xt(e,t,n,r),t.child}var Gs={dehydrated:null,treeContext:null,retryLane:0};function Qs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,n){var r=t.pendingProps,o=Ge.current,l=!1,a=(t.flags&128)!==0,f;if((f=a)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Be(Ge,o&1),e===null)return Ds(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=vl(a,r,0,null),e=ar(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Qs(n),t.memoizedState=Gs,e):Hu(t,a));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return Km(e,t,a,r,f,o,n);if(l){l=r.fallback,a=t.mode,o=e.child,f=o.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Jn(o,d),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?l=Jn(f,l):(l=ar(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Qs(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Gs,r}return l=e.child,e=l.sibling,r=Jn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hu(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,n,r){return r!==null&&_u(r),Gr(t,e.child,null,n),e=Hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,n,r,o,l,a){if(n)return t.flags&256?(t.flags&=-257,r=rs(Error(X(422))),go(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=vl({mode:"visible",children:r.children},o,0,null),l=ar(l,o,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Gr(t,e.child,null,a),t.child.memoizedState=Qs(a),t.memoizedState=Gs,l);if(!(t.mode&1))return go(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,l=Error(X(419)),r=rs(l,r,void 0),go(e,t,a,r)}if(f=(a&e.childLanes)!==0,Mt||f){if(r=st,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Pn(e,o),on(r,e,o,-1))}return Yu(),r=rs(Error(X(421))),go(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=sv.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ot=Qn(o.nextSibling),Lt=t,$e=!0,tn=null,e!==null&&($t[Vt++]=En,$t[Vt++]=Cn,$t[Vt++]=fr,En=e.id,Cn=e.overflow,fr=t),t=Hu(t,r.children),t.flags|=4096,t)}function Rc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bs(e.return,t,n)}function is(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Hd(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(xt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rc(e,n,t);else if(e.tag===19)Rc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Jo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),is(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Jo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}is(t,!0,n,null,l);break;case"together":is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function To(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xm(e,t,n){switch(t.tag){case 3:Bd(t),Vr();break;case 5:hd(t);break;case 1:At(t.type)&&Vo(t);break;case 4:Iu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Be(Yo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?Ud(e,t,n):(Be(Ge,Ge.current&1),e=Mn(e,t,n),e!==null?e.sibling:null);Be(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Be(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,n)}return Mn(e,t,n)}var Wd,Ys,$d,Vd;Wd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ys=function(){};$d=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,sr(yn.current);var l=null;switch(n){case"input":o=ms(e,o),r=ms(e,r),l=[];break;case"select":o=Ye({},o,{value:void 0}),r=Ye({},r,{value:void 0}),l=[];break;case"textarea":o=gs(e,o),r=gs(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wo)}Ss(n,r);var a;n=null;for(v in o)if(!r.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var f=o[v];for(a in f)f.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Ni.hasOwnProperty(v)?l||(l=[]):(l=l||[]).push(v,null));for(v in r){var d=r[v];if(f=o!=null?o[v]:void 0,r.hasOwnProperty(v)&&d!==f&&(d!=null||f!=null))if(v==="style")if(f){for(a in f)!f.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&f[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(l||(l=[]),l.push(v,n)),n=d;else v==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,f=f?f.__html:void 0,d!=null&&f!==d&&(l=l||[]).push(v,d)):v==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(v,""+d):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(v)?(d!=null&&v==="onScroll"&&He("scroll",e),l||f===d||(l=[])):(l=l||[]).push(v,d))}n&&(l=l||[]).push("style",n);var v=l;(t.updateQueue=v)&&(t.flags|=4)}};Vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ci(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jm(e,t,n){var r=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return At(t.type)&&$o(),vt(t),null;case 3:return r=t.stateNode,Qr(),We(Tt),We(gt),Ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(tu(tn),tn=null))),Ys(e,t),vt(t),null;case 5:zu(t);var o=sr(Di.current);if(n=t.type,e!==null&&t.stateNode!=null)$d(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return vt(t),null}if(e=sr(yn.current),vo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[mn]=t,r[Li]=l,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<mi.length;o++)He(mi[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Ha(r,l),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},He("invalid",r);break;case"textarea":$a(r,l),He("invalid",r)}Ss(n,l),o=null;for(var a in l)if(l.hasOwnProperty(a)){var f=l[a];a==="children"?typeof f=="string"?r.textContent!==f&&(l.suppressHydrationWarning!==!0&&mo(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&mo(r.textContent,f,e),o=["children",""+f]):Ni.hasOwnProperty(a)&&f!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":lo(r),Wa(r,l,!0);break;case"textarea":lo(r),Va(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Wo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[mn]=t,e[Li]=r,Wd(e,t,!1,!1),t.stateNode=e;e:{switch(a=xs(n,r),n){case"dialog":He("cancel",e),He("close",e),o=r;break;case"iframe":case"object":case"embed":He("load",e),o=r;break;case"video":case"audio":for(o=0;o<mi.length;o++)He(mi[o],e);o=r;break;case"source":He("error",e),o=r;break;case"img":case"image":case"link":He("error",e),He("load",e),o=r;break;case"details":He("toggle",e),o=r;break;case"input":Ha(e,r),o=ms(e,r),He("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ye({},r,{value:void 0}),He("invalid",e);break;case"textarea":$a(e,r),o=gs(e,r),He("invalid",e);break;default:o=r}Ss(n,o),f=o;for(l in f)if(f.hasOwnProperty(l)){var d=f[l];l==="style"?xf(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&wf(e,d)):l==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&_i(e,d):typeof d=="number"&&_i(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ni.hasOwnProperty(l)?d!=null&&l==="onScroll"&&He("scroll",e):d!=null&&fu(e,l,d,a))}switch(n){case"input":lo(e),Wa(e,r,!1);break;case"textarea":lo(e),Va(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Lr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=sr(Di.current),sr(yn.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(l=r.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:mo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return vt(t),null;case 13:if(We(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Ot!==null&&t.mode&1&&!(t.flags&128))ud(),Vr(),t.flags|=98560,l=!1;else if(l=vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(X(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(X(317));l[mn]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),l=!1}else tn!==null&&(tu(tn),tn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?it===0&&(it=3):Yu())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Qr(),Ys(e,t),e===null&&zi(t.stateNode.containerInfo),vt(t),null;case 10:return Tu(t.type._context),vt(t),null;case 17:return At(t.type)&&$o(),vt(t),null;case 19:if(We(Ge),l=t.memoizedState,l===null)return vt(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)ci(l,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Jo(e),a!==null){for(t.flags|=128,ci(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Ge,Ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ze()>Kr&&(t.flags|=128,r=!0,ci(l,!1),t.lanes=4194304)}else{if(!r)if(e=Jo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ci(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!$e)return vt(t),null}else 2*Ze()-l.renderingStartTime>Kr&&n!==1073741824&&(t.flags|=128,r=!0,ci(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,n=Ge.current,Be(Ge,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return Qu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function Zm(e,t){switch(Nu(t),t.tag){case 1:return At(t.type)&&$o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),We(Tt),We(gt),Ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zu(t),null;case 13:if(We(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ge),null;case 4:return Qr(),null;case 10:return Tu(t.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var wo=!1,yt=!1,qm=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function Ks(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var Ic=!1;function bm(e,t){if(As=Bo,e=Xf(),Cu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,f=-1,d=-1,v=0,C=0,E=e,N=null;t:for(;;){for(var H;E!==n||o!==0&&E.nodeType!==3||(f=a+o),E!==l||r!==0&&E.nodeType!==3||(d=a+r),E.nodeType===3&&(a+=E.nodeValue.length),(H=E.firstChild)!==null;)N=E,E=H;for(;;){if(E===e)break t;if(N===n&&++v===o&&(f=a),N===l&&++C===r&&(d=a),(H=E.nextSibling)!==null)break;E=N,N=E.parentNode}E=H}n=f===-1||d===-1?null:{start:f,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rs={focusedElem:e,selectionRange:n},Bo=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var Y=B.memoizedProps,me=B.memoizedState,S=t.stateNode,w=S.getSnapshotBeforeUpdate(t.elementType===t.type?Y:bt(t.type,Y),me);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(P){Xe(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return B=Ic,Ic=!1,B}function ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ks(t,n,l)}o=o.next}while(o!==r)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Li],delete t[Os],delete t[Om],delete t[Lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wo));else if(r!==4&&(e=e.child,e!==null))for(Js(e,t,n),e=e.sibling;e!==null;)Js(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zs(e,t,n),e=e.sibling;e!==null;)Zs(e,t,n),e=e.sibling}var ft=null,en=!1;function Ln(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:yt||Ir(n,t);case 6:var r=ft,o=en;ft=null,Ln(e,t,n),ft=r,en=o,ft!==null&&(en?(e=ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(en?(e=ft,n=n.stateNode,e.nodeType===8?Zl(e.parentNode,n):e.nodeType===1&&Zl(e,n),Ai(e)):Zl(ft,n.stateNode));break;case 4:r=ft,o=en,ft=n.stateNode.containerInfo,en=!0,Ln(e,t,n),ft=r,en=o;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Ks(n,t,a),o=o.next}while(o!==r)}Ln(e,t,n);break;case 1:if(!yt&&(Ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Xe(n,t,f)}Ln(e,t,n);break;case 21:Ln(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Ln(e,t,n),yt=r):Ln(e,t,n);break;default:Ln(e,t,n)}}function Oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qm),t.forEach(function(r){var o=uv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,a=t,f=a;e:for(;f!==null;){switch(f.tag){case 5:ft=f.stateNode,en=!1;break e;case 3:ft=f.stateNode.containerInfo,en=!0;break e;case 4:ft=f.stateNode.containerInfo,en=!0;break e}f=f.return}if(ft===null)throw Error(X(160));Yd(l,a,o),ft=null,en=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(v){Xe(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}function Kd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),fn(e),r&4){try{ki(3,e,e.return),pl(3,e)}catch(Y){Xe(e,e.return,Y)}try{ki(5,e,e.return)}catch(Y){Xe(e,e.return,Y)}}break;case 1:qt(t,e),fn(e),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(qt(t,e),fn(e),r&512&&n!==null&&Ir(n,n.return),e.flags&32){var o=e.stateNode;try{_i(o,"")}catch(Y){Xe(e,e.return,Y)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,f=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&vf(o,l),xs(f,a);var v=xs(f,l);for(a=0;a<d.length;a+=2){var C=d[a],E=d[a+1];C==="style"?xf(o,E):C==="dangerouslySetInnerHTML"?wf(o,E):C==="children"?_i(o,E):fu(o,C,E,v)}switch(f){case"input":vs(o,l);break;case"textarea":yf(o,l);break;case"select":var N=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var H=l.value;H!=null?Lr(o,!!l.multiple,H,!1):N!==!!l.multiple&&(l.defaultValue!=null?Lr(o,!!l.multiple,l.defaultValue,!0):Lr(o,!!l.multiple,l.multiple?[]:"",!1))}o[Li]=l}catch(Y){Xe(e,e.return,Y)}}break;case 6:if(qt(t,e),fn(e),r&4){if(e.stateNode===null)throw Error(X(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(Y){Xe(e,e.return,Y)}}break;case 3:if(qt(t,e),fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(Y){Xe(e,e.return,Y)}break;case 4:qt(t,e),fn(e);break;case 13:qt(t,e),fn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Vu=Ze())),r&4&&Oc(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(v=yt)||C,qt(t,e),yt=v):qt(t,e),fn(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!C&&e.mode&1)for(ue=e,C=e.child;C!==null;){for(E=ue=C;ue!==null;){switch(N=ue,H=N.child,N.tag){case 0:case 11:case 14:case 15:ki(4,N,N.return);break;case 1:Ir(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){r=N,n=N.return;try{t=r,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(Y){Xe(r,n,Y)}}break;case 5:Ir(N,N.return);break;case 22:if(N.memoizedState!==null){Fc(E);continue}}H!==null?(H.return=N,ue=H):Fc(E)}C=C.sibling}e:for(C=null,E=e;;){if(E.tag===5){if(C===null){C=E;try{o=E.stateNode,v?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=E.stateNode,d=E.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,f.style.display=Sf("display",a))}catch(Y){Xe(e,e.return,Y)}}}else if(E.tag===6){if(C===null)try{E.stateNode.nodeValue=v?"":E.memoizedProps}catch(Y){Xe(e,e.return,Y)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;C===E&&(C=null),E=E.return}C===E&&(C=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:qt(t,e),fn(e),r&4&&Oc(e);break;case 21:break;default:qt(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qd(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(_i(o,""),r.flags&=-33);var l=zc(e);Zs(e,l,o);break;case 3:case 4:var a=r.stateNode.containerInfo,f=zc(e);Js(e,f,a);break;default:throw Error(X(161))}}catch(d){Xe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ev(e,t,n){ue=e,Xd(e)}function Xd(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var o=ue,l=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||wo;if(!a){var f=o.alternate,d=f!==null&&f.memoizedState!==null||yt;f=wo;var v=yt;if(wo=a,(yt=d)&&!v)for(ue=o;ue!==null;)a=ue,d=a.child,a.tag===22&&a.memoizedState!==null?Dc(o):d!==null?(d.return=a,ue=d):Dc(o);for(;l!==null;)ue=l,Xd(l),l=l.sibling;ue=o,wo=f,yt=v}Lc(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,ue=l):Lc(e)}}function Lc(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Sc(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sc(t,a,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var C=v.memoizedState;if(C!==null){var E=C.dehydrated;E!==null&&Ai(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}yt||t.flags&512&&Xs(t)}catch(N){Xe(t,t.return,N)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Fc(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Dc(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(d){Xe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){Xe(t,o,d)}}var l=t.return;try{Xs(t)}catch(d){Xe(t,l,d)}break;case 5:var a=t.return;try{Xs(t)}catch(d){Xe(t,a,d)}}}catch(d){Xe(t,t.return,d)}if(t===e){ue=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ue=f;break}ue=t.return}}var tv=Math.ceil,bo=Tn.ReactCurrentDispatcher,Wu=Tn.ReactCurrentOwner,Qt=Tn.ReactCurrentBatchConfig,Ae=0,st=null,be=null,dt=0,zt=0,zr=er(0),it=0,Wi=null,hr=0,ml=0,$u=0,Ei=null,Pt=null,Vu=0,Kr=1/0,xn=null,el=!1,qs=null,Kn=null,So=!1,Wn=null,tl=0,Ci=0,bs=null,Ao=-1,Ro=0;function kt(){return Ae&6?Ze():Ao!==-1?Ao:Ao=Ze()}function Xn(e){return e.mode&1?Ae&2&&dt!==0?dt&-dt:Dm.transition!==null?(Ro===0&&(Ro=If()),Ro):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Uf(e.type)),e):1}function on(e,t,n,r){if(50<Ci)throw Ci=0,bs=null,Error(X(185));Vi(e,n,r),(!(Ae&2)||e!==st)&&(e===st&&(!(Ae&2)&&(ml|=n),it===4&&Un(e,dt)),Rt(e,r),n===1&&Ae===0&&!(t.mode&1)&&(Kr=Ze()+500,fl&&tr()))}function Rt(e,t){var n=e.callbackNode;Dp(e,t);var r=Do(e,e===st?dt:0);if(r===0)n!==null&&Ya(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ya(n),t===1)e.tag===0?Fm(Bc.bind(null,e)):od(Bc.bind(null,e)),Im(function(){!(Ae&6)&&tr()}),n=null;else{switch(zf(r)){case 1:n=vu;break;case 4:n=Af;break;case 16:n=Fo;break;case 536870912:n=Rf;break;default:n=Fo}n=rh(n,Jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jd(e,t){if(Ao=-1,Ro=0,Ae&6)throw Error(X(327));var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var r=Do(e,e===st?dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nl(e,r);else{t=r;var o=Ae;Ae|=2;var l=qd();(st!==e||dt!==t)&&(xn=null,Kr=Ze()+500,ur(e,t));do try{iv();break}catch(f){Zd(e,f)}while(!0);Mu(),bo.current=l,Ae=o,be!==null?t=0:(st=null,dt=0,t=it)}if(t!==0){if(t===2&&(o=Ns(e),o!==0&&(r=o,t=eu(e,o))),t===1)throw n=Wi,ur(e,0),Un(e,r),Rt(e,Ze()),n;if(t===6)Un(e,r);else{if(o=e.current.alternate,!(r&30)&&!nv(o)&&(t=nl(e,r),t===2&&(l=Ns(e),l!==0&&(r=l,t=eu(e,l))),t===1))throw n=Wi,ur(e,0),Un(e,r),Rt(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:ir(e,Pt,xn);break;case 3:if(Un(e,r),(r&130023424)===r&&(t=Vu+500-Ze(),10<t)){if(Do(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zs(ir.bind(null,e,Pt,xn),t);break}ir(e,Pt,xn);break;case 4:if(Un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-rn(r);l=1<<a,a=t[a],a>o&&(o=a),r&=~l}if(r=o,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tv(r/1960))-r,10<r){e.timeoutHandle=zs(ir.bind(null,e,Pt,xn),r);break}ir(e,Pt,xn);break;case 5:ir(e,Pt,xn);break;default:throw Error(X(329))}}}return Rt(e,Ze()),e.callbackNode===n?Jd.bind(null,e):null}function eu(e,t){var n=Ei;return e.current.memoizedState.isDehydrated&&(ur(e,t).flags|=256),e=nl(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&tu(t)),e}function tu(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function nv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!ln(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~$u,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rn(t),r=1<<n;e[n]=-1,t&=~r}}function Bc(e){if(Ae&6)throw Error(X(327));Hr();var t=Do(e,0);if(!(t&1))return Rt(e,Ze()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var r=Ns(e);r!==0&&(t=r,n=eu(e,r))}if(n===1)throw n=Wi,ur(e,0),Un(e,t),Rt(e,Ze()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,Pt,xn),Rt(e,Ze()),null}function Gu(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(Kr=Ze()+500,fl&&tr())}}function pr(e){Wn!==null&&Wn.tag===0&&!(Ae&6)&&Hr();var t=Ae;Ae|=1;var n=Qt.transition,r=Oe;try{if(Qt.transition=null,Oe=1,e)return e()}finally{Oe=r,Qt.transition=n,Ae=t,!(Ae&6)&&tr()}}function Qu(){zt=zr.current,We(zr)}function ur(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rm(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$o();break;case 3:Qr(),We(Tt),We(gt),Ou();break;case 5:zu(r);break;case 4:Qr();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Tu(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(st=e,be=e=Jn(e.current,null),dt=zt=t,it=0,Wi=null,$u=ml=hr=0,Pt=Ei=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=o,r.next=a}n.pending=r}lr=null}return e}function Zd(e,t){do{var n=be;try{if(Mu(),Po.current=qo,Zo){for(var r=Qe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Zo=!1}if(dr=0,lt=rt=Qe=null,xi=!1,Bi=0,Wu.current=null,n===null||n.return===null){it=1,Wi=t,be=null;break}e:{var l=e,a=n.return,f=n,d=t;if(t=dt,f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var v=d,C=f,E=C.tag;if(!(C.mode&1)&&(E===0||E===11||E===15)){var N=C.alternate;N?(C.updateQueue=N.updateQueue,C.memoizedState=N.memoizedState,C.lanes=N.lanes):(C.updateQueue=null,C.memoizedState=null)}var H=Nc(a);if(H!==null){H.flags&=-257,_c(H,a,f,l,t),H.mode&1&&jc(l,v,t),t=H,d=v;var B=t.updateQueue;if(B===null){var Y=new Set;Y.add(d),t.updateQueue=Y}else B.add(d);break e}else{if(!(t&1)){jc(l,v,t),Yu();break e}d=Error(X(426))}}else if($e&&f.mode&1){var me=Nc(a);if(me!==null){!(me.flags&65536)&&(me.flags|=256),_c(me,a,f,l,t),_u(Yr(d,f));break e}}l=d=Yr(d,f),it!==4&&(it=2),Ei===null?Ei=[l]:Ei.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var S=zd(l,d,t);wc(l,S);break e;case 1:f=d;var w=l.type,k=l.stateNode;if(!(l.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Kn===null||!Kn.has(k)))){l.flags|=65536,t&=-t,l.lanes|=t;var P=Od(l,f,t);wc(l,P);break e}}l=l.return}while(l!==null)}eh(n)}catch(J){t=J,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function qd(){var e=bo.current;return bo.current=qo,e===null?qo:e}function Yu(){(it===0||it===3||it===2)&&(it=4),st===null||!(hr&268435455)&&!(ml&268435455)||Un(st,dt)}function nl(e,t){var n=Ae;Ae|=2;var r=qd();(st!==e||dt!==t)&&(xn=null,ur(e,t));do try{rv();break}catch(o){Zd(e,o)}while(!0);if(Mu(),Ae=n,bo.current=r,be!==null)throw Error(X(261));return st=null,dt=0,it}function rv(){for(;be!==null;)bd(be)}function iv(){for(;be!==null&&!Mp();)bd(be)}function bd(e){var t=nh(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?eh(e):be=t,Wu.current=null}function eh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zm(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,be=null;return}}else if(n=Jm(n,t,zt),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);it===0&&(it=5)}function ir(e,t,n){var r=Oe,o=Qt.transition;try{Qt.transition=null,Oe=1,ov(e,t,n,r)}finally{Qt.transition=o,Oe=r}return null}function ov(e,t,n,r){do Hr();while(Wn!==null);if(Ae&6)throw Error(X(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Bp(e,l),e===st&&(be=st=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,rh(Fo,function(){return Hr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Qt.transition,Qt.transition=null;var a=Oe;Oe=1;var f=Ae;Ae|=4,Wu.current=null,bm(e,n),Kd(n,e),jm(Rs),Bo=!!As,Rs=As=null,e.current=n,ev(n),Tp(),Ae=f,Oe=a,Qt.transition=l}else e.current=n;if(So&&(So=!1,Wn=e,tl=o),l=e.pendingLanes,l===0&&(Kn=null),Ip(n.stateNode),Rt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(el)throw el=!1,e=qs,qs=null,e;return tl&1&&e.tag!==0&&Hr(),l=e.pendingLanes,l&1?e===bs?Ci++:(Ci=0,bs=e):Ci=0,tr(),null}function Hr(){if(Wn!==null){var e=zf(tl),t=Qt.transition,n=Oe;try{if(Qt.transition=null,Oe=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,tl=0,Ae&6)throw Error(X(331));var o=Ae;for(Ae|=4,ue=e.current;ue!==null;){var l=ue,a=l.child;if(ue.flags&16){var f=l.deletions;if(f!==null){for(var d=0;d<f.length;d++){var v=f[d];for(ue=v;ue!==null;){var C=ue;switch(C.tag){case 0:case 11:case 15:ki(8,C,l)}var E=C.child;if(E!==null)E.return=C,ue=E;else for(;ue!==null;){C=ue;var N=C.sibling,H=C.return;if(Gd(C),C===v){ue=null;break}if(N!==null){N.return=H,ue=N;break}ue=H}}}var B=l.alternate;if(B!==null){var Y=B.child;if(Y!==null){B.child=null;do{var me=Y.sibling;Y.sibling=null,Y=me}while(Y!==null)}}ue=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,ue=a;else e:for(;ue!==null;){if(l=ue,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ki(9,l,l.return)}var S=l.sibling;if(S!==null){S.return=l.return,ue=S;break e}ue=l.return}}var w=e.current;for(ue=w;ue!==null;){a=ue;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,ue=k;else e:for(a=w;ue!==null;){if(f=ue,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:pl(9,f)}}catch(J){Xe(f,f.return,J)}if(f===a){ue=null;break e}var P=f.sibling;if(P!==null){P.return=f.return,ue=P;break e}ue=f.return}}if(Ae=o,tr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{Oe=n,Qt.transition=t}}return!1}function Uc(e,t,n){t=Yr(n,t),t=zd(e,t,1),e=Yn(e,t,1),t=kt(),e!==null&&(Vi(e,1,t),Rt(e,t))}function Xe(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=Yr(n,e),e=Od(t,e,1),t=Yn(t,e,1),e=kt(),t!==null&&(Vi(t,1,e),Rt(t,e));break}}t=t.return}}function lv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(dt&n)===n&&(it===4||it===3&&(dt&130023424)===dt&&500>Ze()-Vu?ur(e,0):$u|=n),Rt(e,t)}function th(e,t){t===0&&(e.mode&1?(t=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):t=1);var n=kt();e=Pn(e,t),e!==null&&(Vi(e,t,n),Rt(e,n))}function sv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),th(e,n)}function uv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),th(e,n)}var nh;nh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mt=!1,Xm(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,$e&&t.flags&1048576&&ld(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;To(e,t),e=t.pendingProps;var o=$r(t,gt.current);Ur(t,n),o=Fu(null,t,r,e,o,n);var l=Du();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(l=!0,Vo(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ru(t),o.updater=hl,t.stateNode=o,o._reactInternals=t,Hs(t,r,e,n),t=Vs(null,t,r,!0,l,n)):(t.tag=0,$e&&l&&ju(t),xt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(To(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=cv(r),e=bt(r,e),o){case 0:t=$s(null,t,r,e,n);break e;case 1:t=Tc(null,t,r,e,n);break e;case 11:t=Pc(null,t,r,e,n);break e;case 14:t=Mc(null,t,r,bt(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),$s(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),Tc(e,t,r,o,n);case 3:e:{if(Bd(t),e===null)throw Error(X(387));r=t.pendingProps,l=t.memoizedState,o=l.element,dd(e,t),Xo(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Yr(Error(X(423)),t),t=Ac(e,t,r,n,o);break e}else if(r!==o){o=Yr(Error(X(424)),t),t=Ac(e,t,r,n,o);break e}else for(Ot=Qn(t.stateNode.containerInfo.firstChild),Lt=t,$e=!0,tn=null,n=cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===o){t=Mn(e,t,n);break e}xt(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&Ds(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,a=o.children,Is(r,o)?a=null:l!==null&&Is(r,l)&&(t.flags|=32),Dd(e,t),xt(e,t,a,n),t.child;case 6:return e===null&&Ds(t),null;case 13:return Ud(e,t,n);case 4:return Iu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gr(t,null,r,n):xt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),Pc(e,t,r,o,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value,Be(Yo,r._currentValue),r._currentValue=a,l!==null)if(ln(l.value,a)){if(l.children===o.children&&!Tt.current){t=Mn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){a=l.child;for(var d=f.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=jn(-1,n&-n),d.tag=2;var v=l.updateQueue;if(v!==null){v=v.shared;var C=v.pending;C===null?d.next=d:(d.next=C.next,C.next=d),v.pending=d}}l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Bs(l.return,n,t),f.lanes|=n;break}d=d.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(X(341));a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Bs(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}xt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ur(t,n),o=Yt(o),r=r(o),t.flags|=1,xt(e,t,r,n),t.child;case 14:return r=t.type,o=bt(r,t.pendingProps),o=bt(r.type,o),Mc(e,t,r,o,n);case 15:return Ld(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),To(e,t),t.tag=1,At(r)?(e=!0,Vo(t)):e=!1,Ur(t,n),Id(t,r,o),Hs(t,r,o,n),Vs(null,t,r,!0,e,n);case 19:return Hd(e,t,n);case 22:return Fd(e,t,n)}throw Error(X(156,t.tag))};function rh(e,t){return Tf(e,t)}function av(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new av(e,t,n,r)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cv(e){if(typeof e=="function")return Ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hu)return 11;if(e===pu)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Io(e,t,n,r,o,l){var a=2;if(r=e,typeof e=="function")Ku(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cr:return ar(n.children,o,l,t);case du:a=8,o|=8;break;case fs:return e=Gt(12,n,t,o|2),e.elementType=fs,e.lanes=l,e;case ds:return e=Gt(13,n,t,o),e.elementType=ds,e.lanes=l,e;case hs:return e=Gt(19,n,t,o),e.elementType=hs,e.lanes=l,e;case hf:return vl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ff:a=10;break e;case df:a=9;break e;case hu:a=11;break e;case pu:a=14;break e;case Fn:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Gt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function ar(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=hf,e.lanes=n,e.stateNode={isHidden:!1},e}function os(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function ls(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r,o,l,a,f,d){return e=new fv(e,t,n,f,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Gt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(l),e}function dv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ih(e){if(!e)return qn;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(At(n))return id(e,n,t)}return t}function oh(e,t,n,r,o,l,a,f,d){return e=Xu(n,r,!0,e,o,l,a,f,d),e.context=ih(null),n=e.current,r=kt(),o=Xn(n),l=jn(r,o),l.callback=t??null,Yn(n,l,o),e.current.lanes=o,Vi(e,o,r),Rt(e,r),e}function yl(e,t,n,r){var o=t.current,l=kt(),a=Xn(o);return n=ih(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yn(o,t,a),e!==null&&(on(e,o,a,l),_o(e,o,a)),a}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function hv(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}gl.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));yl(e,t,null,null)};gl.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){yl(null,e,null,null)}),t[_n]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ff();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&Bf(e)}};function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function pv(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var v=rl(a);l.call(v)}}var a=oh(t,r,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=a,e[_n]=a.current,zi(e.nodeType===8?e.parentNode:e),pr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var v=rl(d);f.call(v)}}var d=Xu(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=d,e[_n]=d.current,zi(e.nodeType===8?e.parentNode:e),pr(function(){yl(t,d,n,r)}),d}function Sl(e,t,n,r,o){var l=n._reactRootContainer;if(l){var a=l;if(typeof o=="function"){var f=o;o=function(){var d=rl(a);f.call(d)}}yl(t,a,e,o)}else a=pv(n,t,e,o,r);return rl(a)}Of=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pi(t.pendingLanes);n!==0&&(yu(t,n|1),Rt(t,Ze()),!(Ae&6)&&(Kr=Ze()+500,tr()))}break;case 13:pr(function(){var r=Pn(e,1);if(r!==null){var o=kt();on(r,e,1,o)}}),Ju(e,1)}};gu=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var n=kt();on(t,e,134217728,n)}Ju(e,134217728)}};Lf=function(e){if(e.tag===13){var t=Xn(e),n=Pn(e,t);if(n!==null){var r=kt();on(n,e,t,r)}Ju(e,t)}};Ff=function(){return Oe};Df=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Es=function(e,t,n){switch(t){case"input":if(vs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cl(r);if(!o)throw Error(X(90));mf(r),vs(r,o)}}}break;case"textarea":yf(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};Cf=Gu;jf=pr;var mv={usingClientEntryPoint:!1,Events:[Qi,Pr,cl,kf,Ef,Gu]},fi={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vv={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pf(e),e===null?null:e.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{ll=xo.inject(vv),vn=xo}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mv;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(t))throw Error(X(200));return dv(e,t,null,n)};Dt.createRoot=function(e,t){if(!qu(e))throw Error(X(299));var n=!1,r="",o=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xu(e,1,!1,null,null,n,!1,r,o),e[_n]=t.current,zi(e.nodeType===8?e.parentNode:e),new Zu(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Pf(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return pr(e)};Dt.hydrate=function(e,t,n){if(!wl(t))throw Error(X(200));return Sl(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!qu(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",a=lh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=oh(t,null,e,1,n??null,o,!1,l,a),e[_n]=t.current,zi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new gl(t)};Dt.render=function(e,t,n){if(!wl(t))throw Error(X(200));return Sl(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!wl(e))throw Error(X(40));return e._reactRootContainer?(pr(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};Dt.unstable_batchedUpdates=Gu;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wl(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Sl(e,t,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(e){console.error(e)}}sh(),sf.exports=Dt;var yv=sf.exports,$c=yv;as.createRoot=$c.createRoot,as.hydrateRoot=$c.hydrateRoot;function gv({onStart:e}){const[t,n]=I.useState("1"),[r,o]=I.useState("individual"),[l,a]=I.useState("5"),f=()=>{if(!t||!l){alert("Please fill in all fields");return}const v={id:t,condition:r,timeSeconds:parseInt(l)*60,date:new Date().toISOString().replace("T"," ").substring(0,19)};e(v)},d=()=>{window.close()};return y.jsx("div",{className:"dialog-overlay",children:y.jsxs("div",{className:"dialog-box",children:[y.jsx("h2",{children:"The Creative Game"}),y.jsxs("div",{className:"dialog-field",children:[y.jsx("label",{children:"ID:"}),y.jsx("input",{type:"text",value:t,onChange:v=>n(v.target.value)})]}),y.jsxs("div",{className:"dialog-field",children:[y.jsx("label",{children:"Condition:"}),y.jsxs("select",{value:r,onChange:v=>o(v.target.value),children:[y.jsx("option",{value:"individual",children:"individual"}),y.jsx("option",{value:"group",children:"group"})]})]}),y.jsxs("div",{className:"dialog-field",children:[y.jsx("label",{children:"Time (in minutes):"}),y.jsx("input",{type:"number",value:l,onChange:v=>a(v.target.value),min:"1"})]}),y.jsxs("div",{className:"dialog-buttons",children:[y.jsx("button",{className:"dialog-button",onClick:()=>{window.location.hash="/calibrate"},children:"Calibrate Colors"}),y.jsx("button",{className:"dialog-button ok",onClick:f,children:"OK"}),y.jsx("button",{className:"dialog-button cancel",onClick:d,children:"Cancel"})]})]})})}class Vc{constructor(t){this.subjectId=t,this.logs=[],this.header=["date","id","condition","phase","type","time","unit","end_position","all_positions","gallery_shape_number","gallery","gallery_normalized"]}write(t){this.logs.push(t),this.saveToLocalStorage()}saveToLocalStorage(){const t=`creativeForaging_${this.subjectId}`;localStorage.setItem(t,JSON.stringify(this.logs))}loadFromLocalStorage(){const t=`creativeForaging_${this.subjectId}`,n=localStorage.getItem(t);n&&(this.logs=JSON.parse(n))}downloadCSV(){const t=[this.header.join(",")];this.logs.forEach(d=>{const v=this.header.map(C=>{const E=d[C];return E==null||E===""?"":Array.isArray(E)||typeof E=="object"?`"${JSON.stringify(E).replace(/"/g,'""')}"`:`"${String(E).replace(/"/g,'""')}"`});t.push(v.join(","))});const n=t.join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(r),f=new Date().toISOString().replace("T"," ").substring(0,19);o.setAttribute("href",l),o.setAttribute("download",`${this.subjectId} (${f}).csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}clear(){this.logs=[];const t=`creativeForaging_${this.subjectId}`;localStorage.removeItem(t)}}const wv=.035;class Sv{constructor(){this.startTime=Date.now(),this.moves=[],this.braceletHistory=[],this.isTracking=!1,this.trackingWindow=1e3,this.lastKnownPlayer=null,this.setupBraceletListener()}setupBraceletListener(){this.braceletInterval=setInterval(()=>{this.recordBraceletStatus()},100)}recordBraceletStatus(){if(!this.isTracking)return;const t=Date.now(),n=(t-this.startTime)/1e3,r=this.getCurrentBraceletStatus();if((r==="Player A"||r==="Player B")&&(this.lastKnownPlayer=r,this.braceletHistory.length>0)){const l=this.braceletHistory[this.braceletHistory.length-1];if(t-l.timestamp<200&&(l.status==="None"||l.status==="Unknown")){l.status=r,l.timestamp=t;return}}this.braceletHistory.push({timestamp:t,elapsed:n,status:r});const o=t-1e4;this.braceletHistory=this.braceletHistory.filter(l=>l.timestamp>=o)}getCurrentBraceletStatus(){return window.currentBraceletStatus?window.currentBraceletStatus:"None"}start(){this.isTracking=!0,this.startTime=Date.now(),this.moves=[],this.braceletHistory=[]}stop(){this.isTracking=!1,this.braceletInterval&&clearInterval(this.braceletInterval)}relativeToGrid(t){if(!t)return null;const n=r=>{const o=r/wv,l=Math.round(o);return Math.max(-20,Math.min(20,l))};return[n(t[0]),n(t[1])]}recordMove(t,n=0){if(!this.isTracking)return;const r=Date.now(),o=(r-this.startTime)/1e3,l=this.determinePlayer(r),a=t.grid_end_position??(t.end_position?this.relativeToGrid(t.end_position):null),f=t.grid_all_positions??(t.all_positions?t.all_positions.map(E=>this.relativeToGrid(E)):null),d={timestamp:r,elapsed:o,player:l,holdTime:n,blockId:t.unit,position:a,allPositions:f,phase:t.phase,type:t.type,end_position:t.end_position,all_positions:t.all_positions,grid_end_position:a,grid_all_positions:f};t.gallery_shape_number!==void 0&&(d.gallery_shape_number=t.gallery_shape_number,d.gallery=t.gallery,d.gallery_normalized=t.gallery_normalized,d.grid_gallery=t.grid_gallery??(t.gallery?t.gallery.map(E=>this.relativeToGrid(E)):null),d.grid_gallery_normalized=t.grid_gallery_normalized??(t.gallery_normalized?t.gallery_normalized.map(E=>this.relativeToGrid(E)):null)),this.moves.push(d);const v=this.getCurrentBraceletStatus(),C=this.lastKnownPlayer;console.log("[GameTracker] Move recorded:",{player:l,blockId:t.unit,position:a,holdTime:n.toFixed(2)+"s",elapsed:o.toFixed(2)+"s",phase:t.phase,debug:{currentStatus:v,lastKnownPlayer:C,historyLength:this.braceletHistory.length,recentHistory:this.braceletHistory.slice(-5).map(E=>({status:E.status,elapsed:E.elapsed.toFixed(2)}))}})}determinePlayer(t){const n=this.getCurrentBraceletStatus();if(n==="Player A"||n==="Player B")return n;let r=this.findStatusAtTime(t);if(r&&(r.status==="Player A"||r.status==="Player B"))return r.status;const o=t-this.trackingWindow,l=t+this.trackingWindow,a=this.braceletHistory.filter(f=>f.timestamp>=o&&f.timestamp<=l);if(a.length>0){const f={};a.forEach(v=>{(v.status==="Player A"||v.status==="Player B")&&(f[v.status]=(f[v.status]||0)+1)});const d=Object.keys(f).reduce((v,C)=>f[v]>f[C]?v:C,null);if(d)return d}return this.lastKnownPlayer?this.lastKnownPlayer:n!=="None"?n:"Unknown"}findStatusAtTime(t){if(this.braceletHistory.length===0)return null;let n=null,r=1/0;for(const o of this.braceletHistory){const l=Math.abs(o.timestamp-t);l<r&&l<=1e3&&(r=l,n=o)}return n}exportToJSON(){const t={startTime:new Date(this.startTime).toISOString(),endTime:new Date().toISOString(),duration:(Date.now()-this.startTime)/1e3,moves:this.moves,braceletHistory:this.braceletHistory,summary:{totalMoves:this.moves.length,movesByPlayer:this.getMovesByPlayer(),movesByPhase:this.getMovesByPhase()}};return JSON.stringify(t,null,2)}getMovesByPlayer(){const t={};return this.moves.forEach(n=>{t[n.player]=(t[n.player]||0)+1}),t}getMovesByPhase(){const t={};return this.moves.forEach(n=>{const r=n.phase||"unknown";t[r]=(t[r]||0)+1}),t}downloadJSON(){const t=this.exportToJSON(),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=`game_session_${new Date().toISOString().split("T")[0]}_${Date.now()}.json`,o.click(),URL.revokeObjectURL(r)}static loadFromJSON(t){try{return JSON.parse(t)}catch(n){return console.error("Failed to parse game JSON:",n),null}}}let ss=null;const nu=()=>(ss||(ss=new Sv),ss),nn=.07,ji=()=>[[-.315,0],[-.245,0],[-.175,0],[-.105,0],[-.035,0],[.035,0],[.105,0],[.175,0],[.245,0],[.315,0]].map((t,n)=>({id:n,position:[...t],neighbors:[],canMove:!1})),Ve=e=>Math.round(e*1e3)/1e3,xv=(e,t)=>{let n=[];e.forEach(l=>{if(l.id!==t){const a=[[Ve(l.position[0]-nn),Ve(l.position[1])],[Ve(l.position[0]+nn),Ve(l.position[1])],[Ve(l.position[0]),Ve(l.position[1]-nn)],[Ve(l.position[0]),Ve(l.position[1]+nn)]];n.push(...a)}});const r=new Set(n.map(l=>`${l[0]},${l[1]}`));n=Array.from(r).map(l=>l.split(",").map(Number));const o=e.map(l=>`${l.position[0]},${l.position[1]}`);return n=n.filter(l=>!o.includes(`${l[0]},${l[1]}`)),n=n.filter(l=>l[0]<.735&&l[0]>-.735&&l[1]<.49&&l[1]>-.49),n},kv=(e,t)=>{if(e.length===0)return t;let n=1/0,r=e[0];return e.forEach(o=>{const l=Math.sqrt(Math.pow(o[0]-t[0],2)+Math.pow(o[1]-t[1],2));l<n&&(n=l,r=o)}),r},ru=e=>e.map(t=>{const n=[],r=[[Ve(t.position[0]-nn),Ve(t.position[1])],[Ve(t.position[0]+nn),Ve(t.position[1])],[Ve(t.position[0]),Ve(t.position[1]-nn)],[Ve(t.position[0]),Ve(t.position[1]+nn)]];return e.forEach(o=>{r.forEach(l=>{Ve(o.position[0])===l[0]&&Ve(o.position[1])===l[1]&&n.push(o.position)})}),{...t,neighbors:n}}),Ev=e=>{const t=new Set;if(e.forEach((a,f)=>{a.forEach((d,v)=>{d&&t.add(`${f},${v}`)})}),t.size===0)return!0;const n=[[0,1],[1,0],[-1,0],[0,-1]],r=Array.from(t)[0].split(",").map(Number),o=new Set,l=[r];for(;l.length>0;){const[a,f]=l.shift(),d=`${a},${f}`;o.has(d)||(o.add(d),n.forEach(([v,C])=>{const E=`${a+v},${f+C}`;t.has(E)&&!o.has(E)&&l.push([a+v,f+C])}))}return o.size===t.size},Cv=(e,t)=>{const n=[];for(let l=-.945;l<=1.015;l+=nn)n.push(Ve(l));const r=[];for(let l=-.7;l<0;l+=nn)r.push(Ve(l));for(let l=0;l<=.77;l+=nn)r.push(Ve(l));const o=Array(r.length).fill(null).map(()=>Array(n.length).fill(!1));return e.forEach((l,a)=>{if(a!==t){const f=n.findIndex(v=>Math.abs(v-l[0])<.001),d=r.findIndex(v=>Math.abs(v-l[1])<.001);f!==-1&&d!==-1&&(o[d][f]=!0)}}),Ev(o)},iu=(e,t)=>{const n=e.map(r=>r.position);return e.map((r,o)=>{const l=Cv(n,o);return{...r,canMove:l,color:t&&l?"blue":"green"}})},Gc=e=>{if(e.length===0)return null;try{const t=e.map(C=>C[0]),n=e.map(C=>C[1]),r=(Math.max(...t)+Math.min(...t))/2,o=(Math.max(...n)+Math.min(...n))/2;let l=1/0,a=e[0];e.forEach(C=>{const E=Math.sqrt(Math.pow(C[0]-r,2)+Math.pow(C[1]-o,2));E<l&&(l=E,a=C)});const f=-a[0],d=-a[1],v=e.map(C=>[Ve(C[0]+f),Ve(C[1]+d)]);return v.sort((C,E)=>C[0]-E[0]||C[1]-E[1]),v}catch{return null}};function jv({config:e}){const[t,n]=I.useState(ji()),[r,o]=I.useState(null),[l,a]=I.useState({x:0,y:0}),[f,d]=I.useState(!0),[v,C]=I.useState(e.timeSeconds),[E,N]=I.useState(0),[H,B]=I.useState(null),[Y,me]=I.useState(!0),[S,w]=I.useState(""),k=I.useRef(null),P=I.useRef(new Vc(e.id)),J=I.useRef(nu()),te=I.useRef(null),V=I.useRef(Date.now()),W=`Welcome to the creative game!

Your task is to move around blocks to create interesting and beautiful figures.

Everytime you have created a figure you like, tap on the gallery in the upper right corner in order to save your figure to the gallery.

The experiment proceeds through ${e.timeSeconds/60} minutes.

Tell the experimenter when you are ready for the practice round.`,we=`This was the end of the practice round.

Let the experimenter know when you are ready to begin the actual experiment.`,g="The experiment is done. Thank you very much for your participation!";I.useEffect(()=>(w(W),J.current.start(),console.log("[GameCanvas] Game tracker started"),()=>{J.current.stop()}),[]),I.useEffect(()=>{if(!f&&v>0){const Z=setInterval(()=>{C(ae=>ae<=1?(clearInterval(Z),me(!0),w(g),setTimeout(()=>{P.current.downloadCSV(),J.current.downloadJSON()},1e3),0):ae-1)},1e3);return()=>clearInterval(Z)}},[f,v]),I.useEffect(()=>{n(Z=>iu(ru(Z),f))},[f]);const _=()=>(Date.now()-V.current)/1e3,ie=(Z,ae)=>{const fe=k.current;if(!fe)return 0;const ve=Math.min(fe.offsetWidth,fe.offsetHeight),Ee=ae==="x"?(fe.offsetWidth-ve)/2:(fe.offsetHeight-ve)/2;return(Z-Ee)/ve-.5},ne=(Z,ae)=>{const fe=k.current;if(!fe)return 0;const ve=Math.min(fe.offsetWidth,fe.offsetHeight),Ee=ae==="x"?(fe.offsetWidth-ve)/2:(fe.offsetHeight-ve)/2;return(Z+.5)*ve+Ee},he=Z=>{var Ee,D,b,de;const ae=k.current.getBoundingClientRect(),fe=Z.clientX!==void 0?Z.clientX:(D=(Ee=Z.touches)==null?void 0:Ee[0])==null?void 0:D.clientX,ve=Z.clientY!==void 0?Z.clientY:(de=(b=Z.touches)==null?void 0:b[0])==null?void 0:de.clientY;return{x:fe-ae.left,y:ve-ae.top}},$=(Z,ae)=>{const fe=t.find(b=>b.id===ae);if(!fe||!fe.canMove)return;Z.preventDefault();const ve=he(Z),Ee=ne(fe.position[0],"x"),D=ne(fe.position[1],"y");te.current=Date.now(),o(ae),a({x:ve.x-Ee,y:ve.y-D})},O=Z=>{if(r===null)return;Z.preventDefault();const ae=he(Z),fe=ie(ae.x-l.x,"x"),ve=ie(ae.y-l.y,"y");n(Ee=>Ee.map(D=>D.id===r?{...D,position:[fe,ve]}:D))},q=()=>{if(r===null)return;const Z=t.find(b=>b.id===r),ae=xv(t,r),fe=kv(ae,Z.position),ve=te.current?(Date.now()-te.current)/1e3:0,Ee=t.map(b=>b.id===r?{...b,position:fe}:b),D={date:e.date,id:e.id,condition:e.condition,phase:f?"practice":"experiment",type:"moveblock",time:_(),unit:r,end_position:fe,all_positions:Ee.map(b=>b.position),gallery_shape_number:null,gallery:null,gallery_normalized:null};P.current.write(D),J.current.recordMove(D,ve),n(b=>{const de=b.map(ce=>ce.id===r?{...ce,position:fe}:ce);return iu(ru(de),f)}),o(null),te.current=null},F=()=>{const Z=t.map(D=>D.position),ae=Gc(Z),fe=E+1,ve={date:e.date,id:e.id,condition:e.condition,phase:f?"practice":"experiment",type:"added shape to gallery",time:_(),unit:null,end_position:null,all_positions:null,gallery_shape_number:fe,gallery:Z,gallery_normalized:ae};P.current.write(ve),J.current.recordMove(ve,0);const Ee=K();B(Ee),N(fe)},K=()=>{const Z=document.createElement("canvas");Z.width=400,Z.height=400;const ae=Z.getContext("2d");ae.fillStyle="#000",ae.fillRect(0,0,400,400);const fe=t.map(Ee=>Ee.position),ve=Gc(fe);return ve&&ve.forEach(Ee=>{const D=(Ee[0]+.5)*400,b=(Ee[1]+.5)*400;ae.fillStyle="green",ae.fillRect(D-15,b-15,30,30)}),Z.toDataURL()},oe=I.useCallback(Z=>{Z.key==="p"&&f?(d(!1),me(!0),w(we),V.current=Date.now(),n(ji()),B(null),N(0),P.current=new Vc(e.id),J.current.stop(),J.current=nu(),J.current.start(),console.log("[GameCanvas] Game tracker restarted for real game")):Z.key==="q"&&!f&&(me(!0),w(g),setTimeout(()=>{P.current.downloadCSV(),J.current.downloadJSON()},1e3))},[f,e.id]);I.useEffect(()=>(window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)),[oe]);const ge=()=>{me(!1)};return y.jsxs("div",{className:"game-canvas",ref:k,onMouseMove:O,onMouseUp:q,onMouseLeave:q,onTouchMove:O,onTouchEnd:q,onTouchCancel:q,children:[y.jsx("div",{className:"gallery",onClick:F,children:y.jsx("div",{className:"gallery-frame",children:H?y.jsx("img",{src:H,alt:"Gallery",className:"gallery-image"}):y.jsx("div",{className:"gallery-placeholder",children:"Gallery"})})}),!f&&y.jsxs("div",{className:"timer",children:["Time: ",Math.floor(v/60),":",(v%60).toString().padStart(2,"0")]}),t.map(Z=>y.jsx("div",{className:`block ${Z.canMove?"movable":""}`,style:{left:`${ne(Z.position[0],"x")}px`,top:`${ne(Z.position[1],"y")}px`,backgroundColor:Z.color||"green",cursor:Z.canMove?"grab":"default"},onMouseDown:ae=>$(ae,Z.id),onTouchStart:ae=>$(ae,Z.id)},Z.id)),Y&&y.jsx("div",{className:"message-overlay",onClick:ge,children:y.jsxs("div",{className:"message-box",children:[S,y.jsx("div",{className:"message-hint",children:"(Click to continue)"})]})})]})}var il={};(function(){var e;function t(i){var s=0;return function(){return s<i.length?{done:!1,value:i[s++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,u){return i==Array.prototype||i==Object.prototype||(i[s]=u.value),i};function r(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof Or=="object"&&Or];for(var s=0;s<i.length;++s){var u=i[s];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var o=r(this);function l(i,s){if(s)e:{var u=o;i=i.split(".");for(var c=0;c<i.length-1;c++){var h=i[c];if(!(h in u))break e;u=u[h]}i=i[i.length-1],c=u[i],s=s(c),s!=c&&s!=null&&n(u,i,{configurable:!0,writable:!0,value:s})}}l("Symbol",function(i){function s(m){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return new u(c+(m||"")+"_"+h++,m)}function u(m,p){this.h=m,n(this,"description",{configurable:!0,writable:!0,value:p})}if(i)return i;u.prototype.toString=function(){return this.h};var c="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",h=0;return s}),l("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var s="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),u=0;u<s.length;u++){var c=o[s[u]];typeof c=="function"&&typeof c.prototype[i]!="function"&&n(c.prototype,i,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return i});function a(i){return i={next:i},i[Symbol.iterator]=function(){return this},i}function f(i){var s=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return s?s.call(i):{next:t(i)}}function d(i){if(!(i instanceof Array)){i=f(i);for(var s,u=[];!(s=i.next()).done;)u.push(s.value);i=u}return i}var v=typeof Object.assign=="function"?Object.assign:function(i,s){for(var u=1;u<arguments.length;u++){var c=arguments[u];if(c)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(i[h]=c[h])}return i};l("Object.assign",function(i){return i||v});var C=typeof Object.create=="function"?Object.create:function(i){function s(){}return s.prototype=i,new s},E;if(typeof Object.setPrototypeOf=="function")E=Object.setPrototypeOf;else{var N;e:{var H={a:!0},B={};try{B.__proto__=H,N=B.a;break e}catch{}N=!1}E=N?function(i,s){if(i.__proto__=s,i.__proto__!==s)throw new TypeError(i+" is not extensible");return i}:null}var Y=E;function me(i,s){if(i.prototype=C(s.prototype),i.prototype.constructor=i,Y)Y(i,s);else for(var u in s)if(u!="prototype")if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(i,u,c)}else i[u]=s[u];i.ya=s.prototype}function S(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function w(i){if(i.m)throw new TypeError("Generator is already running");i.m=!0}S.prototype.u=function(i){this.i=i};function k(i,s){i.l={ma:s,na:!0},i.h=i.s||i.v}S.prototype.return=function(i){this.l={return:i},this.h=this.v};function P(i,s,u){return i.h=u,{value:s}}function J(i){this.h=new S,this.i=i}function te(i,s){w(i.h);var u=i.h.j;return u?V(i,"return"in u?u.return:function(c){return{value:c,done:!0}},s,i.h.return):(i.h.return(s),W(i))}function V(i,s,u,c){try{var h=s.call(i.h.j,u);if(!(h instanceof Object))throw new TypeError("Iterator result "+h+" is not an object");if(!h.done)return i.h.m=!1,h;var m=h.value}catch(p){return i.h.j=null,k(i.h,p),W(i)}return i.h.j=null,c.call(i.h,m),W(i)}function W(i){for(;i.h.h;)try{var s=i.i(i.h);if(s)return i.h.m=!1,{value:s.value,done:!1}}catch(u){i.h.i=void 0,k(i.h,u)}if(i.h.m=!1,i.h.l){if(s=i.h.l,i.h.l=null,s.na)throw s.ma;return{value:s.return,done:!0}}return{value:void 0,done:!0}}function we(i){this.next=function(s){return w(i.h),i.h.j?s=V(i,i.h.j.next,s,i.h.u):(i.h.u(s),s=W(i)),s},this.throw=function(s){return w(i.h),i.h.j?s=V(i,i.h.j.throw,s,i.h.u):(k(i.h,s),s=W(i)),s},this.return=function(s){return te(i,s)},this[Symbol.iterator]=function(){return this}}function g(i){function s(c){return i.next(c)}function u(c){return i.throw(c)}return new Promise(function(c,h){function m(p){p.done?c(p.value):Promise.resolve(p.value).then(s,u).then(m,h)}m(i.next())})}function _(i){return g(new we(new J(i)))}l("Promise",function(i){function s(p){this.i=0,this.j=void 0,this.h=[],this.u=!1;var x=this.l();try{p(x.resolve,x.reject)}catch(T){x.reject(T)}}function u(){this.h=null}function c(p){return p instanceof s?p:new s(function(x){x(p)})}if(i)return i;u.prototype.i=function(p){if(this.h==null){this.h=[];var x=this;this.j(function(){x.m()})}this.h.push(p)};var h=o.setTimeout;u.prototype.j=function(p){h(p,0)},u.prototype.m=function(){for(;this.h&&this.h.length;){var p=this.h;this.h=[];for(var x=0;x<p.length;++x){var T=p[x];p[x]=null;try{T()}catch(G){this.l(G)}}}this.h=null},u.prototype.l=function(p){this.j(function(){throw p})},s.prototype.l=function(){function p(G){return function(ee){T||(T=!0,G.call(x,ee))}}var x=this,T=!1;return{resolve:p(this.I),reject:p(this.m)}},s.prototype.I=function(p){if(p===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(p instanceof s)this.L(p);else{e:switch(typeof p){case"object":var x=p!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.F(p):this.s(p)}},s.prototype.F=function(p){var x=void 0;try{x=p.then}catch(T){this.m(T);return}typeof x=="function"?this.M(x,p):this.s(p)},s.prototype.m=function(p){this.v(2,p)},s.prototype.s=function(p){this.v(1,p)},s.prototype.v=function(p,x){if(this.i!=0)throw Error("Cannot settle("+p+", "+x+"): Promise already settled in state"+this.i);this.i=p,this.j=x,this.i===2&&this.K(),this.H()},s.prototype.K=function(){var p=this;h(function(){if(p.D()){var x=o.console;typeof x<"u"&&x.error(p.j)}},1)},s.prototype.D=function(){if(this.u)return!1;var p=o.CustomEvent,x=o.Event,T=o.dispatchEvent;return typeof T>"u"?!0:(typeof p=="function"?p=new p("unhandledrejection",{cancelable:!0}):typeof x=="function"?p=new x("unhandledrejection",{cancelable:!0}):(p=o.document.createEvent("CustomEvent"),p.initCustomEvent("unhandledrejection",!1,!0,p)),p.promise=this,p.reason=this.j,T(p))},s.prototype.H=function(){if(this.h!=null){for(var p=0;p<this.h.length;++p)m.i(this.h[p]);this.h=null}};var m=new u;return s.prototype.L=function(p){var x=this.l();p.T(x.resolve,x.reject)},s.prototype.M=function(p,x){var T=this.l();try{p.call(x,T.resolve,T.reject)}catch(G){T.reject(G)}},s.prototype.then=function(p,x){function T(pe,re){return typeof pe=="function"?function(ke){try{G(pe(ke))}catch(Ne){ee(Ne)}}:re}var G,ee,xe=new s(function(pe,re){G=pe,ee=re});return this.T(T(p,G),T(x,ee)),xe},s.prototype.catch=function(p){return this.then(void 0,p)},s.prototype.T=function(p,x){function T(){switch(G.i){case 1:p(G.j);break;case 2:x(G.j);break;default:throw Error("Unexpected state: "+G.i)}}var G=this;this.h==null?m.i(T):this.h.push(T),this.u=!0},s.resolve=c,s.reject=function(p){return new s(function(x,T){T(p)})},s.race=function(p){return new s(function(x,T){for(var G=f(p),ee=G.next();!ee.done;ee=G.next())c(ee.value).T(x,T)})},s.all=function(p){var x=f(p),T=x.next();return T.done?c([]):new s(function(G,ee){function xe(ke){return function(Ne){pe[ke]=Ne,re--,re==0&&G(pe)}}var pe=[],re=0;do pe.push(void 0),re++,c(T.value).T(xe(pe.length-1),ee),T=x.next();while(!T.done)})},s});function ie(i,s){i instanceof String&&(i+="");var u=0,c=!1,h={next:function(){if(!c&&u<i.length){var m=u++;return{value:s(m,i[m]),done:!1}}return c=!0,{done:!0,value:void 0}}};return h[Symbol.iterator]=function(){return h},h}l("Array.prototype.keys",function(i){return i||function(){return ie(this,function(s){return s})}}),l("Array.prototype.fill",function(i){return i||function(s,u,c){var h=this.length||0;for(0>u&&(u=Math.max(0,h+u)),(c==null||c>h)&&(c=h),c=Number(c),0>c&&(c=Math.max(0,h+c)),u=Number(u||0);u<c;u++)this[u]=s;return this}});function ne(i){return i||Array.prototype.fill}l("Int8Array.prototype.fill",ne),l("Uint8Array.prototype.fill",ne),l("Uint8ClampedArray.prototype.fill",ne),l("Int16Array.prototype.fill",ne),l("Uint16Array.prototype.fill",ne),l("Int32Array.prototype.fill",ne),l("Uint32Array.prototype.fill",ne),l("Float32Array.prototype.fill",ne),l("Float64Array.prototype.fill",ne),l("Object.is",function(i){return i||function(s,u){return s===u?s!==0||1/s===1/u:s!==s&&u!==u}}),l("Array.prototype.includes",function(i){return i||function(s,u){var c=this;c instanceof String&&(c=String(c));var h=c.length;for(u=u||0,0>u&&(u=Math.max(u+h,0));u<h;u++){var m=c[u];if(m===s||Object.is(m,s))return!0}return!1}}),l("String.prototype.includes",function(i){return i||function(s,u){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(s instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(s,u||0)!==-1}});var he=this||self;function $(i,s){i=i.split(".");var u=he;i[0]in u||typeof u.execScript>"u"||u.execScript("var "+i[0]);for(var c;i.length&&(c=i.shift());)i.length||s===void 0?u[c]&&u[c]!==Object.prototype[c]?u=u[c]:u=u[c]={}:u[c]=s}function O(i){var s;e:{if((s=he.navigator)&&(s=s.userAgent))break e;s=""}return s.indexOf(i)!=-1}var q=Array.prototype.map?function(i,s){return Array.prototype.map.call(i,s,void 0)}:function(i,s){for(var u=i.length,c=Array(u),h=typeof i=="string"?i.split(""):i,m=0;m<u;m++)m in h&&(c[m]=s.call(void 0,h[m],m,i));return c},F={},K=null;function oe(i){var s=i.length,u=3*s/4;u%3?u=Math.floor(u):"=.".indexOf(i[s-1])!=-1&&(u="=.".indexOf(i[s-2])!=-1?u-2:u-1);var c=new Uint8Array(u),h=0;return ge(i,function(m){c[h++]=m}),h!==u?c.subarray(0,h):c}function ge(i,s){function u(T){for(;c<i.length;){var G=i.charAt(c++),ee=K[G];if(ee!=null)return ee;if(!/^[\s\xa0]*$/.test(G))throw Error("Unknown base64 encoding at char: "+G)}return T}Z();for(var c=0;;){var h=u(-1),m=u(0),p=u(64),x=u(64);if(x===64&&h===-1)break;s(h<<2|m>>4),p!=64&&(s(m<<4&240|p>>2),x!=64&&s(p<<6&192|x))}}function Z(){if(!K){K={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],u=0;5>u;u++){var c=i.concat(s[u].split(""));F[u]=c;for(var h=0;h<c.length;h++){var m=c[h];K[m]===void 0&&(K[m]=h)}}}}var ae=typeof Uint8Array<"u",fe=!(O("Trident")||O("MSIE"))&&typeof he.btoa=="function";function ve(i){if(!fe){var s;s===void 0&&(s=0),Z(),s=F[s];for(var u=Array(Math.floor(i.length/3)),c=s[64]||"",h=0,m=0;h<i.length-2;h+=3){var p=i[h],x=i[h+1],T=i[h+2],G=s[p>>2];p=s[(p&3)<<4|x>>4],x=s[(x&15)<<2|T>>6],T=s[T&63],u[m++]=G+p+x+T}switch(G=0,T=c,i.length-h){case 2:G=i[h+1],T=s[(G&15)<<2]||c;case 1:i=i[h],u[m]=s[i>>2]+s[(i&3)<<4|G>>4]+T+c}return u.join("")}for(s="";10240<i.length;)s+=String.fromCharCode.apply(null,i.subarray(0,10240)),i=i.subarray(10240);return s+=String.fromCharCode.apply(null,i),btoa(s)}var Ee=RegExp("[-_.]","g");function D(i){switch(i){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function b(i){if(!fe)return oe(i);Ee.test(i)&&(i=i.replace(Ee,D)),i=atob(i);for(var s=new Uint8Array(i.length),u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}var de;function ce(){return de||(de=new Uint8Array(0))}var Me={},Le=typeof Uint8Array.prototype.slice=="function",L=0,Q=0;function le(i){var s=0>i;i=Math.abs(i);var u=i>>>0;i=Math.floor((i-u)/4294967296),s&&(u=f(z(u,i)),s=u.next().value,i=u.next().value,u=s),L=u>>>0,Q=i>>>0}var j=typeof BigInt=="function";function z(i,s){return s=~s,i?i=~i+1:s+=1,[i,s]}function R(i,s){this.i=i>>>0,this.h=s>>>0}function A(i){if(!i)return M||(M=new R(0,0));if(!/^-?\d+$/.test(i))return null;if(16>i.length)le(Number(i));else if(j)i=BigInt(i),L=Number(i&BigInt(4294967295))>>>0,Q=Number(i>>BigInt(32)&BigInt(4294967295));else{var s=+(i[0]==="-");Q=L=0;for(var u=i.length,c=s,h=(u-s)%6+s;h<=u;c=h,h+=6)c=Number(i.slice(c,h)),Q*=1e6,L=1e6*L+c,4294967296<=L&&(Q+=L/4294967296|0,L%=4294967296);s&&(s=f(z(L,Q)),i=s.next().value,s=s.next().value,L=i,Q=s)}return new R(L,Q)}var M;function U(i,s){return Error("Invalid wire type: "+i+" (at position "+s+")")}function se(){return Error("Failed to read varint, encoding is invalid.")}function Se(i,s){return Error("Tried to read past the end of the data "+s+" > "+i)}function ye(){throw Error("Invalid UTF8")}function Te(i,s){return s=String.fromCharCode.apply(null,s),i==null?s:i+s}var ze=void 0,Ie,et=typeof TextDecoder<"u",Ke,qe=typeof TextEncoder<"u",tt;function _e(i){if(i!==Me)throw Error("illegal external caller")}function Ce(i,s){if(_e(s),this.V=i,i!=null&&i.length===0)throw Error("ByteString should be constructed with non-empty values")}function je(){return tt||(tt=new Ce(null,Me))}function Fe(i){_e(Me);var s=i.V;return s=s==null||ae&&s!=null&&s instanceof Uint8Array?s:typeof s=="string"?b(s):null,s==null?s:i.V=s}function ot(i){if(typeof i=="string")return{buffer:b(i),C:!1};if(Array.isArray(i))return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Uint8Array)return{buffer:i,C:!1};if(i.constructor===ArrayBuffer)return{buffer:new Uint8Array(i),C:!1};if(i.constructor===Ce)return{buffer:Fe(i)||ce(),C:!0};if(i instanceof Uint8Array)return{buffer:new Uint8Array(i.buffer,i.byteOffset,i.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function gn(i,s){this.i=null,this.m=!1,this.h=this.j=this.l=0,Ut(this,i,s)}function Ut(i,s,u){u=u===void 0?{}:u,i.S=u.S===void 0?!1:u.S,s&&(s=ot(s),i.i=s.buffer,i.m=s.C,i.l=0,i.j=i.i.length,i.h=i.l)}gn.prototype.reset=function(){this.h=this.l};function wt(i,s){if(i.h=s,s>i.j)throw Se(i.j,s)}function pt(i){var s=i.i,u=i.h,c=s[u++],h=c&127;if(c&128&&(c=s[u++],h|=(c&127)<<7,c&128&&(c=s[u++],h|=(c&127)<<14,c&128&&(c=s[u++],h|=(c&127)<<21,c&128&&(c=s[u++],h|=c<<28,c&128&&s[u++]&128&&s[u++]&128&&s[u++]&128&&s[u++]&128&&s[u++]&128)))))throw se();return wt(i,u),h}function wn(i,s){if(0>s)throw Error("Tried to read a negative byte length: "+s);var u=i.h,c=u+s;if(c>i.j)throw Se(s,i.j-u);return i.h=c,u}var An=[];function Sn(){this.h=[]}Sn.prototype.length=function(){return this.h.length},Sn.prototype.end=function(){var i=this.h;return this.h=[],i};function yr(i,s,u){for(;0<u||127<s;)i.h.push(s&127|128),s=(s>>>7|u<<25)>>>0,u>>>=7;i.h.push(s)}function It(i,s){for(;127<s;)i.h.push(s&127|128),s>>>=7;i.h.push(s)}function nr(i,s){if(An.length){var u=An.pop();Ut(u,i,s),i=u}else i=new gn(i,s);this.h=i,this.j=this.h.h,this.i=this.l=-1,this.setOptions(s)}nr.prototype.setOptions=function(i){i=i===void 0?{}:i,this.ca=i.ca===void 0?!1:i.ca},nr.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function gr(i){var s=i.h;if(s.h==s.j)return!1;i.j=i.h.h;var u=pt(i.h)>>>0;if(s=u>>>3,u&=7,!(0<=u&&5>=u))throw U(u,i.j);if(1>s)throw Error("Invalid field number: "+s+" (at position "+i.j+")");return i.l=s,i.i=u,!0}function Rn(i){switch(i.i){case 0:if(i.i!=0)Rn(i);else e:{i=i.h;for(var s=i.h,u=s+10,c=i.i;s<u;)if(!(c[s++]&128)){wt(i,s);break e}throw se()}break;case 1:i=i.h,wt(i,i.h+8);break;case 2:i.i!=2?Rn(i):(s=pt(i.h)>>>0,i=i.h,wt(i,i.h+s));break;case 5:i=i.h,wt(i,i.h+4);break;case 3:s=i.l;do{if(!gr(i))throw Error("Unmatched start-group tag: stream EOF");if(i.i==4){if(i.l!=s)throw Error("Unmatched end-group tag");break}Rn(i)}while(!0);break;default:throw U(i.i,i.j)}}var In=[];function wr(){this.j=[],this.i=0,this.h=new Sn}function Xt(i,s){s.length!==0&&(i.j.push(s),i.i+=s.length)}function qr(i,s){if(s=s.R){Xt(i,i.h.end());for(var u=0;u<s.length;u++)Xt(i,Fe(s[u])||ce())}}var Ht=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function zn(i,s){return Ht?i[Ht]|=s:i.A!==void 0?i.A|=s:(Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}}),s)}function bu(i,s){Ht?i[Ht]&&(i[Ht]&=~s):i.A!==void 0&&(i.A&=~s)}function Je(i){var s;return Ht?s=i[Ht]:s=i.A,s??0}function sn(i,s){Ht?i[Ht]=s:i.A!==void 0?i.A=s:Object.defineProperties(i,{A:{value:s,configurable:!0,writable:!0,enumerable:!1}})}function xl(i){return zn(i,1),i}function uh(i,s){sn(s,(i|0)&-51)}function Ki(i,s){sn(s,(i|18)&-41)}var kl={};function Xi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)&&i.constructor===Object}var br,ea=[];sn(ea,23),br=Object.freeze(ea);function El(i){if(Je(i.o)&2)throw Error("Cannot mutate an immutable Message")}function Cl(i){var s=i.length;(s=s?i[s-1]:void 0)&&Xi(s)?s.g=1:(s={},i.push((s.g=1,s)))}function ta(i){var s=i.i+i.G;return i.B||(i.B=i.o[s]={})}function Jt(i,s){return s===-1?null:s>=i.i?i.B?i.B[s]:void 0:i.o[s+i.G]}function un(i,s,u,c){El(i),ei(i,s,u,c)}function ei(i,s,u,c){i.j&&(i.j=void 0),s>=i.i||c?ta(i)[s]=u:(i.o[s+i.G]=u,(i=i.B)&&s in i&&delete i[s])}function jl(i,s,u,c){var h=Jt(i,s);Array.isArray(h)||(h=br);var m=Je(h);if(m&1||xl(h),c)m&2||zn(h,2),u&1||Object.freeze(h);else{c=!(u&2);var p=m&2;u&1||!p?c&&m&16&&!p&&bu(h,16):(h=xl(Array.prototype.slice.call(h)),ei(i,s,h))}return h}function Nl(i,s){var u=Jt(i,s),c=u==null?u:typeof u=="number"||u==="NaN"||u==="Infinity"||u==="-Infinity"?Number(u):void 0;return c!=null&&c!==u&&ei(i,s,c),c}function na(i,s,u,c,h){i.h||(i.h={});var m=i.h[u],p=jl(i,u,3,h);if(!m){var x=p;m=[];var T=!!(Je(i.o)&16);p=!!(Je(x)&2);var G=x;!h&&p&&(x=Array.prototype.slice.call(x));for(var ee=p,xe=0;xe<x.length;xe++){var pe=x[xe],re=s,ke=!1;if(ke=ke===void 0?!1:ke,pe=Array.isArray(pe)?new re(pe):ke?new re:void 0,pe!==void 0){re=pe.o;var Ne=ke=Je(re);p&&(Ne|=2),T&&(Ne|=16),Ne!=ke&&sn(re,Ne),re=Ne,ee=ee||!!(2&re),m.push(pe)}}return i.h[u]=m,T=Je(x),s=T|33,s=ee?s&-9:s|8,T!=s&&(ee=x,Object.isFrozen(ee)&&(ee=Array.prototype.slice.call(ee)),sn(ee,s),x=ee),G!==x&&ei(i,u,x),(h||c&&p)&&zn(m,2),c&&Object.freeze(m),m}return h||(h=Object.isFrozen(m),c&&!h?Object.freeze(m):!c&&h&&(m=Array.prototype.slice.call(m),i.h[u]=m)),m}function Ji(i,s,u){var c=!!(Je(i.o)&2);if(s=na(i,s,u,c,c),i=jl(i,u,3,c),!(c||Je(i)&8)){for(c=0;c<s.length;c++){if(u=s[c],Je(u.o)&2){var h=ua(u,!1);h.j=u}else h=u;u!==h&&(s[c]=h,i[c]=h.o)}zn(i,8)}return s}function an(i,s,u){if(u!=null&&typeof u!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof u+": "+u);un(i,s,u)}function ra(i,s,u,c,h){El(i);var m=na(i,u,s,!1,!1);return u=c??new u,i=jl(i,s,2,!1),h!=null?(m.splice(h,0,u),i.splice(h,0,u.o)):(m.push(u),i.push(u.o)),u.C()&&bu(i,8),u}function Zi(i,s){return i??s}function cn(i,s,u){return u=u===void 0?0:u,Zi(Nl(i,s),u)}var qi;function ah(i){switch(typeof i){case"number":return isFinite(i)?i:String(i);case"object":if(i)if(Array.isArray(i)){if(Je(i)&128)return i=Array.prototype.slice.call(i),Cl(i),i}else{if(ae&&i!=null&&i instanceof Uint8Array)return ve(i);if(i instanceof Ce){var s=i.V;return s==null?"":typeof s=="string"?s:i.V=ve(s)}}}return i}function ia(i,s,u,c){if(i!=null){if(Array.isArray(i))i=_l(i,s,u,c!==void 0);else if(Xi(i)){var h={},m;for(m in i)h[m]=ia(i[m],s,u,c);i=h}else i=s(i,c);return i}}function _l(i,s,u,c){var h=Je(i);c=c?!!(h&16):void 0,i=Array.prototype.slice.call(i);for(var m=0;m<i.length;m++)i[m]=ia(i[m],s,u,c);return u(h,i),i}function ch(i){return i.ja===kl?i.toJSON():ah(i)}function fh(i,s){i&128&&Cl(s)}function oa(i,s,u){if(u=u===void 0?Ki:u,i!=null){if(ae&&i instanceof Uint8Array)return i.length?new Ce(new Uint8Array(i),Me):je();if(Array.isArray(i)){var c=Je(i);return c&2?i:s&&!(c&32)&&(c&16||c===0)?(sn(i,c|2),i):(i=_l(i,oa,c&4?Ki:u,!0),s=Je(i),s&4&&s&2&&Object.freeze(i),i)}return i.ja===kl?sa(i):i}}function la(i,s,u,c,h,m,p){if(i=i.h&&i.h[u]){if(c=Je(i),c&2?c=i:(m=q(i,sa),Ki(c,m),Object.freeze(m),c=m),El(s),p=c==null?br:xl([]),c!=null){for(m=!!c.length,i=0;i<c.length;i++){var x=c[i];m=m&&!(Je(x.o)&2),p[i]=x.o}m=(m?8:0)|1,i=Je(p),(i&m)!==m&&(Object.isFrozen(p)&&(p=Array.prototype.slice.call(p)),sn(p,i|m)),s.h||(s.h={}),s.h[u]=c}else s.h&&(s.h[u]=void 0);ei(s,u,p,h)}else un(s,u,oa(c,m,p),h)}function sa(i){return Je(i.o)&2||(i=ua(i,!0),zn(i.o,2)),i}function ua(i,s){var u=i.o,c=[];zn(c,16);var h=i.constructor.h;if(h&&c.push(h),h=i.B,h){c.length=u.length,c.fill(void 0,c.length,u.length);var m={};c[c.length-1]=m}Je(u)&128&&Cl(c),s=s||i.C()?Ki:uh,m=i.constructor,qi=c,c=new m(c),qi=void 0,i.R&&(c.R=i.R.slice()),m=!!(Je(u)&16);for(var p=h?u.length-1:u.length,x=0;x<p;x++)la(i,c,x-i.G,u[x],!1,m,s);if(h)for(var T in h)la(i,c,+T,h[T],!0,m,s);return c}function jt(i,s,u){i==null&&(i=qi),qi=void 0;var c=this.constructor.i||0,h=0<c,m=this.constructor.h,p=!1;if(i==null){i=m?[m]:[];var x=48,T=!0;h&&(c=0,x|=128),sn(i,x)}else{if(!Array.isArray(i)||m&&m!==i[0])throw Error();var G=x=zn(i,0);if((T=(16&G)!==0)&&((p=(32&G)!==0)||(G|=32)),h){if(128&G)c=0;else if(0<i.length){var ee=i[i.length-1];if(Xi(ee)&&"g"in ee){c=0,G|=128,delete ee.g;var xe=!0,pe;for(pe in ee){xe=!1;break}xe&&i.pop()}}}else if(128&G)throw Error();x!==G&&sn(i,G)}this.G=(m?0:-1)-c,this.h=void 0,this.o=i;e:{if(m=this.o.length,c=m-1,m&&(m=this.o[c],Xi(m))){this.B=m,this.i=c-this.G;break e}s!==void 0&&-1<s?(this.i=Math.max(s,c+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!h&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(u){s=T&&!p&&!0,h=this.i;var re;for(T=0;T<u.length;T++)p=u[T],p<h?(p+=this.G,(c=i[p])?aa(c,s):i[p]=br):(re||(re=ta(this)),(c=re[p])?aa(c,s):re[p]=br)}}jt.prototype.toJSON=function(){return _l(this.o,ch,fh)},jt.prototype.C=function(){return!!(Je(this.o)&2)};function aa(i,s){if(Array.isArray(i)){var u=Je(i),c=1;!s||u&2||(c|=16),(u&c)!==c&&sn(i,u|c)}}jt.prototype.ja=kl,jt.prototype.toString=function(){return this.o.toString()};function ca(i,s,u){if(u){var c={},h;for(h in u){var m=u[h],p=m.qa;p||(c.J=m.wa||m.oa.W,m.ia?(c.aa=ma(m.ia),p=function(x){return function(T,G,ee){return x.J(T,G,ee,x.aa)}}(c)):m.ka?(c.Z=va(m.da.P,m.ka),p=function(x){return function(T,G,ee){return x.J(T,G,ee,x.Z)}}(c)):p=c.J,m.qa=p),p(s,i,m.da),c={J:c.J,aa:c.aa,Z:c.Z}}}qr(s,i)}var bi=Symbol();function fa(i,s,u){return i[bi]||(i[bi]=function(c,h){return s(c,h,u)})}function da(i){var s=i[bi];if(!s){var u=Ml(i);s=function(c,h){return ya(c,h,u)},i[bi]=s}return s}function dh(i){var s=i.ia;if(s)return da(s);if(s=i.va)return fa(i.da.P,s,i.ka)}function hh(i){var s=dh(i),u=i.da,c=i.oa.U;return s?function(h,m){return c(h,m,u,s)}:function(h,m){return c(h,m,u)}}function ha(i,s){var u=i[s];return typeof u=="function"&&u.length===0&&(u=u(),i[s]=u),Array.isArray(u)&&(ni in u||ti in u||0<u.length&&typeof u[0]=="function")?u:void 0}function pa(i,s,u,c,h,m){s.P=i[0];var p=1;if(i.length>p&&typeof i[p]!="number"){var x=i[p++];u(s,x)}for(;p<i.length;){u=i[p++];for(var T=p+1;T<i.length&&typeof i[T]!="number";)T++;switch(x=i[p++],T-=p,T){case 0:c(s,u,x);break;case 1:(T=ha(i,p))?(p++,h(s,u,x,T)):c(s,u,x,i[p++]);break;case 2:T=p++,T=ha(i,T),h(s,u,x,T,i[p++]);break;case 3:m(s,u,x,i[p++],i[p++],i[p++]);break;case 4:m(s,u,x,i[p++],i[p++],i[p++],i[p++]);break;default:throw Error("unexpected number of binary field arguments: "+T)}}return s}var eo=Symbol();function ma(i){var s=i[eo];if(!s){var u=Pl(i);s=function(c,h){return ga(c,h,u)},i[eo]=s}return s}function va(i,s){var u=i[eo];return u||(u=function(c,h){return ca(c,h,s)},i[eo]=u),u}var ti=Symbol();function ph(i,s){i.push(s)}function mh(i,s,u){i.push(s,u.W)}function vh(i,s,u,c){var h=ma(c),m=Pl(c).P,p=u.W;i.push(s,function(x,T,G){return p(x,T,G,m,h)})}function yh(i,s,u,c,h,m){var p=va(c,m),x=u.W;i.push(s,function(T,G,ee){return x(T,G,ee,c,p)})}function Pl(i){var s=i[ti];return s||(s=pa(i,i[ti]=[],ph,mh,vh,yh),ni in i&&ti in i&&(i.length=0),s)}var ni=Symbol();function gh(i,s){i[0]=s}function wh(i,s,u,c){var h=u.U;i[s]=c?function(m,p,x){return h(m,p,x,c)}:h}function Sh(i,s,u,c,h){var m=u.U,p=da(c),x=Ml(c).P;i[s]=function(T,G,ee){return m(T,G,ee,x,p,h)}}function xh(i,s,u,c,h,m,p){var x=u.U,T=fa(c,h,m);i[s]=function(G,ee,xe){return x(G,ee,xe,c,T,p)}}function Ml(i){var s=i[ni];return s||(s=pa(i,i[ni]={},gh,wh,Sh,xh),ni in i&&ti in i&&(i.length=0),s)}function ya(i,s,u){for(;gr(s)&&s.i!=4;){var c=s.l,h=u[c];if(!h){var m=u[0];m&&(m=m[c])&&(h=u[c]=hh(m))}if(!h||!h(s,i,c)){h=s,c=i,m=h.j,Rn(h);var p=h;if(!p.ca){if(h=p.h.h-m,p.h.h=m,p=p.h,h==0)h=je();else{if(m=wn(p,h),p.S&&p.m)h=p.i.subarray(m,m+h);else{p=p.i;var x=m;h=m+h,h=x===h?ce():Le?p.slice(x,h):new Uint8Array(p.subarray(x,h))}h=h.length==0?je():new Ce(h,Me)}(m=c.R)?m.push(h):c.R=[h]}}}return i}function ga(i,s,u){for(var c=u.length,h=c%2==1,m=h?1:0;m<c;m+=2)(0,u[m+1])(s,i,u[m]);ca(i,s,h?u[0]:void 0)}function ri(i,s){return{U:i,W:s}}var Zt=ri(function(i,s,u){if(i.i!==5)return!1;i=i.h;var c=i.i,h=i.h,m=c[h],p=c[h+1],x=c[h+2];return c=c[h+3],wt(i,i.h+4),p=(m<<0|p<<8|x<<16|c<<24)>>>0,i=2*(p>>31)+1,m=p>>>23&255,p&=8388607,un(s,u,m==255?p?NaN:1/0*i:m==0?i*Math.pow(2,-149)*p:i*Math.pow(2,m-150)*(p+Math.pow(2,23))),!0},function(i,s,u){if(s=Nl(s,u),s!=null){It(i.h,8*u+5),i=i.h;var c=+s;c===0?0<1/c?L=Q=0:(Q=0,L=2147483648):isNaN(c)?(Q=0,L=2147483647):(c=(u=0>c?-2147483648:0)?-c:c,34028234663852886e22<c?(Q=0,L=(u|2139095040)>>>0):11754943508222875e-54>c?(c=Math.round(c/Math.pow(2,-149)),Q=0,L=(u|c)>>>0):(s=Math.floor(Math.log(c)/Math.LN2),c*=Math.pow(2,-s),c=Math.round(8388608*c),16777216<=c&&++s,Q=0,L=(u|s+127<<23|c&8388607)>>>0)),u=L,i.h.push(u>>>0&255),i.h.push(u>>>8&255),i.h.push(u>>>16&255),i.h.push(u>>>24&255)}}),kh=ri(function(i,s,u){if(i.i!==0)return!1;var c=i.h,h=0,m=i=0,p=c.i,x=c.h;do{var T=p[x++];h|=(T&127)<<m,m+=7}while(32>m&&T&128);for(32<m&&(i|=(T&127)>>4),m=3;32>m&&T&128;m+=7)T=p[x++],i|=(T&127)<<m;if(wt(c,x),128>T)c=h>>>0,T=i>>>0,(i=T&2147483648)&&(c=~c+1>>>0,T=~T>>>0,c==0&&(T=T+1>>>0)),c=4294967296*T+(c>>>0);else throw se();return un(s,u,i?-c:c),!0},function(i,s,u){s=Jt(s,u),s!=null&&(typeof s=="string"&&A(s),s!=null&&(It(i.h,8*u),typeof s=="number"?(i=i.h,le(s),yr(i,L,Q)):(u=A(s),yr(i.h,u.i,u.h))))}),Eh=ri(function(i,s,u){return i.i!==0?!1:(un(s,u,pt(i.h)),!0)},function(i,s,u){if(s=Jt(s,u),s!=null&&s!=null)if(It(i.h,8*u),i=i.h,u=s,0<=u)It(i,u);else{for(s=0;9>s;s++)i.h.push(u&127|128),u>>=7;i.h.push(1)}}),wa=ri(function(i,s,u){if(i.i!==2)return!1;var c=pt(i.h)>>>0;i=i.h;var h=wn(i,c);if(i=i.i,et){var m=i,p;(p=Ie)||(p=Ie=new TextDecoder("utf-8",{fatal:!0})),i=h+c,m=h===0&&i===m.length?m:m.subarray(h,i);try{var x=p.decode(m)}catch(xe){if(ze===void 0){try{p.decode(new Uint8Array([128]))}catch{}try{p.decode(new Uint8Array([97])),ze=!0}catch{ze=!1}}throw!ze&&(Ie=void 0),xe}}else{x=h,c=x+c,h=[];for(var T=null,G,ee;x<c;)G=i[x++],128>G?h.push(G):224>G?x>=c?ye():(ee=i[x++],194>G||(ee&192)!==128?(x--,ye()):h.push((G&31)<<6|ee&63)):240>G?x>=c-1?ye():(ee=i[x++],(ee&192)!==128||G===224&&160>ee||G===237&&160<=ee||((m=i[x++])&192)!==128?(x--,ye()):h.push((G&15)<<12|(ee&63)<<6|m&63)):244>=G?x>=c-2?ye():(ee=i[x++],(ee&192)!==128||(G<<28)+(ee-144)>>30||((m=i[x++])&192)!==128||((p=i[x++])&192)!==128?(x--,ye()):(G=(G&7)<<18|(ee&63)<<12|(m&63)<<6|p&63,G-=65536,h.push((G>>10&1023)+55296,(G&1023)+56320))):ye(),8192<=h.length&&(T=Te(T,h),h.length=0);x=Te(T,h)}return un(s,u,x),!0},function(i,s,u){if(s=Jt(s,u),s!=null){var c=!1;if(c=c===void 0?!1:c,qe){if(c&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(s))throw Error("Found an unpaired surrogate");s=(Ke||(Ke=new TextEncoder)).encode(s)}else{for(var h=0,m=new Uint8Array(3*s.length),p=0;p<s.length;p++){var x=s.charCodeAt(p);if(128>x)m[h++]=x;else{if(2048>x)m[h++]=x>>6|192;else{if(55296<=x&&57343>=x){if(56319>=x&&p<s.length){var T=s.charCodeAt(++p);if(56320<=T&&57343>=T){x=1024*(x-55296)+T-56320+65536,m[h++]=x>>18|240,m[h++]=x>>12&63|128,m[h++]=x>>6&63|128,m[h++]=x&63|128;continue}else p--}if(c)throw Error("Found an unpaired surrogate");x=65533}m[h++]=x>>12|224,m[h++]=x>>6&63|128}m[h++]=x&63|128}}s=h===m.length?m:m.subarray(0,h)}It(i.h,8*u+2),It(i.h,s.length),Xt(i,i.h.end()),Xt(i,s)}}),Sa=ri(function(i,s,u,c,h){if(i.i!==2)return!1;s=ra(s,u,c),u=i.h.j,c=pt(i.h)>>>0;var m=i.h.h+c,p=m-u;if(0>=p&&(i.h.j=m,h(s,i,void 0,void 0,void 0),p=m-i.h.h),p)throw Error("Message parsing ended unexpectedly. Expected to read "+(c+" bytes, instead read "+(c-p)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return i.h.h=m,i.h.j=u,!0},function(i,s,u,c,h){if(s=Ji(s,c,u),s!=null)for(c=0;c<s.length;c++){var m=i;It(m.h,8*u+2);var p=m.h.end();Xt(m,p),p.push(m.i),m=p,h(s[c],i),p=i;var x=m.pop();for(x=p.i+p.h.length()-x;127<x;)m.push(x&127|128),x>>>=7,p.i++;m.push(x),p.i++}});function Tl(i){return function(s,u){e:{if(In.length){var c=In.pop();c.setOptions(u),Ut(c.h,s,u),s=c}else s=new nr(s,u);try{var h=Ml(i),m=ya(new h.P,s,h);break e}finally{h=s.h,h.i=null,h.m=!1,h.l=0,h.j=0,h.h=0,h.S=!1,s.l=-1,s.i=-1,100>In.length&&In.push(s)}m=void 0}return m}}function Al(i){return function(){var s=new wr;ga(this,s,Pl(i)),Xt(s,s.h.end());for(var u=new Uint8Array(s.i),c=s.j,h=c.length,m=0,p=0;p<h;p++){var x=c[p];u.set(x,m),m+=x.length}return s.j=[u],u}}function Sr(i){jt.call(this,i)}me(Sr,jt);var xa=[Sr,1,Eh,2,Zt,3,wa,4,wa];Sr.prototype.l=Al(xa);function Rl(i){jt.call(this,i,-1,Ch)}me(Rl,jt),Rl.prototype.addClassification=function(i,s){return ra(this,1,Sr,i,s),this};var Ch=[1],ka=Tl([Rl,1,Sa,xa]);function xr(i){jt.call(this,i)}me(xr,jt);var Ea=[xr,1,Zt,2,Zt,3,Zt,4,Zt,5,Zt];xr.prototype.l=Al(Ea);function Ca(i){jt.call(this,i,-1,jh)}me(Ca,jt);var jh=[1],ja=Tl([Ca,1,Sa,Ea]);function to(i){jt.call(this,i)}me(to,jt);var Na=[to,1,Zt,2,Zt,3,Zt,4,Zt,5,Zt,6,kh],Nh=Tl(Na);to.prototype.l=Al(Na);function _a(i,s,u){if(u=i.createShader(u===0?i.VERTEX_SHADER:i.FRAGMENT_SHADER),i.shaderSource(u,s),i.compileShader(u),!i.getShaderParameter(u,i.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+i.getShaderInfoLog(u));return u}function Pa(i){return Ji(i,Sr,1).map(function(s){var u=Jt(s,1);return{index:u??0,score:cn(s,2),label:Jt(s,3)!=null?Zi(Jt(s,3),""):void 0,displayName:Jt(s,4)!=null?Zi(Jt(s,4),""):void 0}})}function Ma(i){return{x:cn(i,1),y:cn(i,2),z:cn(i,3),visibility:Nl(i,4)!=null?cn(i,4):void 0}}function Ta(i){return i.map(function(s){return Ji(ja(s),xr,1).map(Ma)})}function Il(i,s){this.i=i,this.h=s,this.m=0}function Aa(i,s,u){return _h(i,s),typeof i.h.canvas.transferToImageBitmap=="function"?Promise.resolve(i.h.canvas.transferToImageBitmap()):u?Promise.resolve(i.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(i.h.canvas):(i.j===void 0&&(i.j=document.createElement("canvas")),new Promise(function(c){i.j.height=i.h.canvas.height,i.j.width=i.h.canvas.width,i.j.getContext("2d",{}).drawImage(i.h.canvas,0,0,i.h.canvas.width,i.h.canvas.height),c(i.j)}))}function _h(i,s){var u=i.h;if(i.s===void 0){var c=_a(u,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),h=_a(u,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),m=u.createProgram();if(u.attachShader(m,c),u.attachShader(m,h),u.linkProgram(m),!u.getProgramParameter(m,u.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+u.getProgramInfoLog(m));c=i.s=m,u.useProgram(c),h=u.getUniformLocation(c,"sampler0"),i.l={O:u.getAttribLocation(c,"aVertex"),N:u.getAttribLocation(c,"aTex"),xa:h},i.v=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i.v),u.enableVertexAttribArray(i.l.O),u.vertexAttribPointer(i.l.O,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null),i.u=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i.u),u.enableVertexAttribArray(i.l.N),u.vertexAttribPointer(i.l.N,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniform1i(h,0)}c=i.l,u.useProgram(i.s),u.canvas.width=s.width,u.canvas.height=s.height,u.viewport(0,0,s.width,s.height),u.activeTexture(u.TEXTURE0),i.i.bindTexture2d(s.glName),u.enableVertexAttribArray(c.O),u.bindBuffer(u.ARRAY_BUFFER,i.v),u.vertexAttribPointer(c.O,2,u.FLOAT,!1,0,0),u.enableVertexAttribArray(c.N),u.bindBuffer(u.ARRAY_BUFFER,i.u),u.vertexAttribPointer(c.N,2,u.FLOAT,!1,0,0),u.bindFramebuffer(u.DRAW_FRAMEBUFFER?u.DRAW_FRAMEBUFFER:u.FRAMEBUFFER,null),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.colorMask(!0,!0,!0,!0),u.drawArrays(u.TRIANGLE_FAN,0,4),u.disableVertexAttribArray(c.O),u.disableVertexAttribArray(c.N),u.bindBuffer(u.ARRAY_BUFFER,null),i.i.bindTexture2d(0)}function Ph(i){this.h=i}var Mh=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Th(i,s){return s+i}function Ra(i,s){window[i]=s}function Ah(i){var s=document.createElement("script");return s.setAttribute("src",i),s.setAttribute("crossorigin","anonymous"),new Promise(function(u){s.addEventListener("load",function(){u()},!1),s.addEventListener("error",function(){u()},!1),document.body.appendChild(s)})}function Rh(){return _(function(i){switch(i.h){case 1:return i.s=2,P(i,WebAssembly.instantiate(Mh),4);case 4:i.h=3,i.s=0;break;case 2:return i.s=0,i.l=null,i.return(!1);case 3:return i.return(!0)}})}function zl(i){if(this.h=i,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=i&&i.locateFile||Th,typeof window=="object")var s=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")s=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=s,i.options){s=f(Object.keys(i.options));for(var u=s.next();!u.done;u=s.next()){u=u.value;var c=i.options[u].default;c!==void 0&&(this.l[u]=typeof c=="function"?c():c)}}}e=zl.prototype,e.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Ih(i){var s,u,c,h,m,p,x,T,G,ee,xe;return _(function(pe){switch(pe.h){case 1:return i.ga?(s=i.h.files===void 0?[]:typeof i.h.files=="function"?i.h.files(i.l):i.h.files,P(pe,Rh(),2)):pe.return();case 2:if(u=pe.i,typeof window=="object")return Ra("createMediapipeSolutionsWasm",{locateFile:i.locateFile}),Ra("createMediapipeSolutionsPackedAssets",{locateFile:i.locateFile}),p=s.filter(function(re){return re.data!==void 0}),x=s.filter(function(re){return re.data===void 0}),T=Promise.all(p.map(function(re){var ke=no(i,re.url);if(re.path!==void 0){var Ne=re.path;ke=ke.then(function(Ue){return i.overrideFile(Ne,Ue),Promise.resolve(Ue)})}return ke})),G=Promise.all(x.map(function(re){return re.simd===void 0||re.simd&&u||!re.simd&&!u?Ah(i.locateFile(re.url,i.ha)):Promise.resolve()})).then(function(){var re,ke,Ne;return _(function(Ue){if(Ue.h==1)return re=window.createMediapipeSolutionsWasm,ke=window.createMediapipeSolutionsPackedAssets,Ne=i,P(Ue,re(ke),2);Ne.i=Ue.i,Ue.h=0})}),ee=function(){return _(function(re){return i.h.graph&&i.h.graph.url?re=P(re,no(i,i.h.graph.url),0):(re.h=0,re=void 0),re})}(),P(pe,Promise.all([G,T,ee]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return c=s.filter(function(re){return re.simd===void 0||re.simd&&u||!re.simd&&!u}).map(function(re){return i.locateFile(re.url,i.ha)}),importScripts.apply(null,d(c)),h=i,P(pe,createMediapipeSolutionsWasm(Module),6);case 6:h.i=pe.i,i.m=new OffscreenCanvas(1,1),i.i.canvas=i.m,m=i.i.GL.createContext(i.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),i.i.GL.makeContextCurrent(m),pe.h=4;break;case 7:if(i.m=document.createElement("canvas"),xe=i.m.getContext("webgl2",{}),!xe&&(xe=i.m.getContext("webgl",{}),!xe))return alert("Failed to create WebGL canvas context when passing video frame."),pe.return();i.K=xe,i.i.canvas=i.m,i.i.createContext(i.m,!0,!0,{});case 4:i.j=new i.i.SolutionWasm,i.ga=!1,pe.h=0}})}function zh(i){var s,u,c,h,m,p,x,T;return _(function(G){if(G.h==1){if(i.h.graph&&i.h.graph.url&&i.fa===i.h.graph.url)return G.return();if(i.u=!0,!i.h.graph||!i.h.graph.url){G.h=2;return}return i.fa=i.h.graph.url,P(G,no(i,i.h.graph.url),3)}for(G.h!=2&&(s=G.i,i.j.loadGraph(s)),u=f(Object.keys(i.D)),c=u.next();!c.done;c=u.next())h=c.value,i.j.overrideFile(h,i.D[h]);if(i.D={},i.h.listeners)for(m=f(i.h.listeners),p=m.next();!p.done;p=m.next())x=p.value,Dh(i,x);T=i.l,i.l={},i.setOptions(T),G.h=0})}e.reset=function(){var i=this;return _(function(s){i.j&&(i.j.reset(),i.s={},i.v={}),s.h=0})},e.setOptions=function(i,s){var u=this;if(s=s||this.h.options){for(var c=[],h=[],m={},p=f(Object.keys(i)),x=p.next();!x.done;m={X:m.X,Y:m.Y},x=p.next())if(x=x.value,!(x in this.l&&this.l[x]===i[x])){this.l[x]=i[x];var T=s[x];T!==void 0&&(T.onChange&&(m.X=T.onChange,m.Y=i[x],c.push(function(G){return function(){var ee;return _(function(xe){if(xe.h==1)return P(xe,G.X(G.Y),2);ee=xe.i,ee===!0&&(u.u=!0),xe.h=0})}}(m))),T.graphOptionXref&&(x=Object.assign({},{calculatorName:"",calculatorIndex:0},T.graphOptionXref,{valueNumber:T.type===1?i[x]:0,valueBoolean:T.type===0?i[x]:!1,valueString:T.type===2?i[x]:""}),h.push(x)))}(c.length!==0||h.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(h),this.F=(this.F===void 0?[]:this.F).concat(c))}};function Oh(i){var s,u,c,h,m,p,x;return _(function(T){switch(T.h){case 1:if(!i.u)return T.return();if(!i.F){T.h=2;break}s=f(i.F),u=s.next();case 3:if(u.done){T.h=5;break}return c=u.value,P(T,c(),4);case 4:u=s.next(),T.h=3;break;case 5:i.F=void 0;case 2:if(i.H){for(h=new i.i.GraphOptionChangeRequestList,m=f(i.H),p=m.next();!p.done;p=m.next())x=p.value,h.push_back(x);i.j.changeOptions(h),h.delete(),i.H=void 0}i.u=!1,T.h=0}})}e.initialize=function(){var i=this;return _(function(s){return s.h==1?P(s,Ih(i),2):s.h!=3?P(s,zh(i),3):P(s,Oh(i),0)})};function no(i,s){var u,c;return _(function(h){return s in i.L?h.return(i.L[s]):(u=i.locateFile(s,""),c=fetch(u).then(function(m){return m.arrayBuffer()}),i.L[s]=c,h.return(c))})}e.overrideFile=function(i,s){this.j?this.j.overrideFile(i,s):this.D[i]=s},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(i,s){var u=this,c,h,m,p,x,T,G,ee,xe;return _(function(pe){switch(pe.h){case 1:return u.h.inputs?(c=1e3*(s??performance.now()),P(pe,u.I,2)):pe.return();case 2:return P(pe,u.initialize(),3);case 3:for(h=new u.i.PacketDataList,m=f(Object.keys(i)),p=m.next();!p.done;p=m.next())if(x=p.value,T=u.h.inputs[x]){e:{var re=i[x];switch(T.type){case"video":var ke=u.s[T.stream];if(ke||(ke=new Il(u.i,u.K),u.s[T.stream]=ke),ke.m===0&&(ke.m=ke.i.createTexture()),typeof HTMLVideoElement<"u"&&re instanceof HTMLVideoElement)var Ne=re.videoWidth,Ue=re.videoHeight;else typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(Ne=re.naturalWidth,Ue=re.naturalHeight):(Ne=re.width,Ue=re.height);Ue={glName:ke.m,width:Ne,height:Ue},Ne=ke.h,Ne.canvas.width=Ue.width,Ne.canvas.height=Ue.height,Ne.activeTexture(Ne.TEXTURE0),ke.i.bindTexture2d(ke.m),Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.RGBA,Ne.RGBA,Ne.UNSIGNED_BYTE,re),ke.i.bindTexture2d(0),ke=Ue;break e;case"detections":for(ke=u.s[T.stream],ke||(ke=new Ph(u.i),u.s[T.stream]=ke),ke.data||(ke.data=new ke.h.DetectionListData),ke.data.reset(re.length),Ue=0;Ue<re.length;++Ue){Ne=re[Ue];var De=ke.data,ut=De.setBoundingBox,Wt=Ue,Nt=Ne.la,Re=new to;if(an(Re,1,Nt.ra),an(Re,2,Nt.sa),an(Re,3,Nt.height),an(Re,4,Nt.width),an(Re,5,Nt.rotation),un(Re,6,Nt.pa),Nt=Re.l(),ut.call(De,Wt,Nt),Ne.ea)for(De=0;De<Ne.ea.length;++De){Re=Ne.ea[De],ut=ke.data,Wt=ut.addNormalizedLandmark,Nt=Ue,Re=Object.assign({},Re,{visibility:Re.visibility?Re.visibility:0});var at=new xr;an(at,1,Re.x),an(at,2,Re.y),an(at,3,Re.z),Re.visibility&&an(at,4,Re.visibility),Re=at.l(),Wt.call(ut,Nt,Re)}if(Ne.ba)for(De=0;De<Ne.ba.length;++De)ut=ke.data,Wt=ut.addClassification,Nt=Ue,Re=Ne.ba[De],at=new Sr,an(at,2,Re.score),Re.index&&un(at,1,Re.index),Re.label&&un(at,3,Re.label),Re.displayName&&un(at,4,Re.displayName),Re=at.l(),Wt.call(ut,Nt,Re)}ke=ke.data;break e;default:ke={}}}switch(G=ke,ee=T.stream,T.type){case"video":h.pushTexture2d(Object.assign({},G,{stream:ee,timestamp:c}));break;case"detections":xe=G,xe.stream=ee,xe.timestamp=c,h.pushDetectionList(xe);break;default:throw Error("Unknown input config type: '"+T.type+"'")}}return u.j.send(h),P(pe,u.I,4);case 4:h.delete(),pe.h=0}})};function Lh(i,s,u){var c,h,m,p,x,T,G,ee,xe,pe,re,ke,Ne,Ue;return _(function(De){switch(De.h){case 1:if(!u)return De.return(s);for(c={},h=0,m=f(Object.keys(u)),p=m.next();!p.done;p=m.next())x=p.value,T=u[x],typeof T!="string"&&T.type==="texture"&&s[T.stream]!==void 0&&++h;1<h&&(i.M=!1),G=f(Object.keys(u)),p=G.next();case 2:if(p.done){De.h=4;break}if(ee=p.value,xe=u[ee],typeof xe=="string")return Ne=c,Ue=ee,P(De,Fh(i,ee,s[xe]),14);if(pe=s[xe.stream],xe.type==="detection_list"){if(pe){for(var ut=pe.getRectList(),Wt=pe.getLandmarksList(),Nt=pe.getClassificationsList(),Re=[],at=0;at<ut.size();++at){var On=Nh(ut.get(at)),Bh=cn(On,1),Uh=cn(On,2),Hh=cn(On,3),Wh=cn(On,4),$h=cn(On,5,0),ro=void 0;ro=ro===void 0?0:ro,On={la:{ra:Bh,sa:Uh,height:Hh,width:Wh,rotation:$h,pa:Zi(Jt(On,6),ro)},ea:Ji(ja(Wt.get(at)),xr,1).map(Ma),ba:Pa(ka(Nt.get(at)))},Re.push(On)}ut=Re}else ut=[];c[ee]=ut,De.h=7;break}if(xe.type==="proto_list"){if(pe){for(ut=Array(pe.size()),Wt=0;Wt<pe.size();Wt++)ut[Wt]=pe.get(Wt);pe.delete()}else ut=[];c[ee]=ut,De.h=7;break}if(pe===void 0){De.h=3;break}if(xe.type==="float_list"){c[ee]=pe,De.h=7;break}if(xe.type==="proto"){c[ee]=pe,De.h=7;break}if(xe.type!=="texture")throw Error("Unknown output config type: '"+xe.type+"'");return re=i.v[ee],re||(re=new Il(i.i,i.K),i.v[ee]=re),P(De,Aa(re,pe,i.M),13);case 13:ke=De.i,c[ee]=ke;case 7:xe.transform&&c[ee]&&(c[ee]=xe.transform(c[ee])),De.h=3;break;case 14:Ne[Ue]=De.i;case 3:p=G.next(),De.h=2;break;case 4:return De.return(c)}})}function Fh(i,s,u){var c;return _(function(h){return typeof u=="number"||u instanceof Uint8Array||u instanceof i.i.Uint8BlobList?h.return(u):u instanceof i.i.Texture2dDataOut?(c=i.v[s],c||(c=new Il(i.i,i.K),i.v[s]=c),h.return(Aa(c,u,i.M))):h.return(void 0)})}function Dh(i,s){for(var u=s.name||"$",c=[].concat(d(s.wants)),h=new i.i.StringList,m=f(s.wants),p=m.next();!p.done;p=m.next())h.push_back(p.value);m=i.i.PacketListener.implement({onResults:function(x){for(var T={},G=0;G<s.wants.length;++G)T[c[G]]=x.get(G);var ee=i.listeners[u];ee&&(i.I=Lh(i,T,s.outs).then(function(xe){xe=ee(xe);for(var pe=0;pe<s.wants.length;++pe){var re=T[c[pe]];typeof re=="object"&&re.hasOwnProperty&&re.hasOwnProperty("delete")&&re.delete()}xe&&(i.I=xe)}))}}),i.j.attachMultiListener(h,m),h.delete()}e.onResults=function(i,s){this.listeners[s||"$"]=i},$("Solution",zl),$("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ia(i){return i===void 0&&(i=0),i===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function za(i){var s=this;i=i||{},this.h=new zl({locateFile:i.locateFile,files:function(u){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Ia(u.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Ta},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Ta},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(u){return u.map(function(c){return Pa(ka(c))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(u){var c,h,m;return _(function(p){return p.h==1?(c=Ia(u),h="third_party/mediapipe/modules/hand_landmark/"+c,P(p,no(s.h,c),2)):(m=p.i,s.h.overrideFile(h,m),p.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}e=za.prototype,e.close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(i){this.h.onResults(i)},e.initialize=function(){var i=this;return _(function(s){return P(s,i.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(i){var s=this;return _(function(u){return P(u,s.h.send(i),0)})},e.setOptions=function(i){this.h.setOptions(i)},$("Hands",za),$("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),$("VERSION","0.4.1675469240")}).call(Or);var Qc={};(function(){function e(g){var _=0;return function(){return _<g.length?{done:!1,value:g[_++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,ie){return g==Array.prototype||g==Object.prototype||(g[_]=ie.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Or=="object"&&Or];for(var _=0;_<g.length;++_){var ie=g[_];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var r=n(this);function o(g,_){if(_)e:{var ie=r;g=g.split(".");for(var ne=0;ne<g.length-1;ne++){var he=g[ne];if(!(he in ie))break e;ie=ie[he]}g=g[g.length-1],ne=ie[g],_=_(ne),_!=ne&&_!=null&&t(ie,g,{configurable:!0,writable:!0,value:_})}}o("Symbol",function(g){function _($){if(this instanceof _)throw new TypeError("Symbol is not a constructor");return new ie(ne+($||"")+"_"+he++,$)}function ie($,O){this.g=$,t(this,"description",{configurable:!0,writable:!0,value:O})}if(g)return g;ie.prototype.toString=function(){return this.g};var ne="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",he=0;return _}),o("Symbol.iterator",function(g){if(g)return g;g=Symbol("Symbol.iterator");for(var _="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),ie=0;ie<_.length;ie++){var ne=r[_[ie]];typeof ne=="function"&&typeof ne.prototype[g]!="function"&&t(ne.prototype,g,{configurable:!0,writable:!0,value:function(){return l(e(this))}})}return g});function l(g){return g={next:g},g[Symbol.iterator]=function(){return this},g}function a(g){var _=typeof Symbol<"u"&&Symbol.iterator&&g[Symbol.iterator];return _?_.call(g):{next:e(g)}}function f(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function d(g){if(g.i)throw new TypeError("Generator is already running");g.i=!0}f.prototype.l=function(g){this.o=g};function v(g,_){g.h={F:_,G:!0},g.j=g.m}f.prototype.return=function(g){this.h={return:g},this.j=this.m};function C(g){this.g=new f,this.h=g}function E(g,_){d(g.g);var ie=g.g.g;return ie?N(g,"return"in ie?ie.return:function(ne){return{value:ne,done:!0}},_,g.g.return):(g.g.return(_),H(g))}function N(g,_,ie,ne){try{var he=_.call(g.g.g,ie);if(!(he instanceof Object))throw new TypeError("Iterator result "+he+" is not an object");if(!he.done)return g.g.i=!1,he;var $=he.value}catch(O){return g.g.g=null,v(g.g,O),H(g)}return g.g.g=null,ne.call(g.g,$),H(g)}function H(g){for(;g.g.j;)try{var _=g.h(g.g);if(_)return g.g.i=!1,{value:_.value,done:!1}}catch(ie){g.g.o=void 0,v(g.g,ie)}if(g.g.i=!1,g.g.h){if(_=g.g.h,g.g.h=null,_.G)throw _.F;return{value:_.return,done:!0}}return{value:void 0,done:!0}}function B(g){this.next=function(_){return d(g.g),g.g.g?_=N(g,g.g.g.next,_,g.g.l):(g.g.l(_),_=H(g)),_},this.throw=function(_){return d(g.g),g.g.g?_=N(g,g.g.g.throw,_,g.g.l):(v(g.g,_),_=H(g)),_},this.return=function(_){return E(g,_)},this[Symbol.iterator]=function(){return this}}function Y(g){function _(ne){return g.next(ne)}function ie(ne){return g.throw(ne)}return new Promise(function(ne,he){function $(O){O.done?ne(O.value):Promise.resolve(O.value).then(_,ie).then($,he)}$(g.next())})}o("Promise",function(g){function _(O){this.h=0,this.i=void 0,this.g=[],this.o=!1;var q=this.j();try{O(q.resolve,q.reject)}catch(F){q.reject(F)}}function ie(){this.g=null}function ne(O){return O instanceof _?O:new _(function(q){q(O)})}if(g)return g;ie.prototype.h=function(O){if(this.g==null){this.g=[];var q=this;this.i(function(){q.l()})}this.g.push(O)};var he=r.setTimeout;ie.prototype.i=function(O){he(O,0)},ie.prototype.l=function(){for(;this.g&&this.g.length;){var O=this.g;this.g=[];for(var q=0;q<O.length;++q){var F=O[q];O[q]=null;try{F()}catch(K){this.j(K)}}}this.g=null},ie.prototype.j=function(O){this.i(function(){throw O})},_.prototype.j=function(){function O(K){return function(oe){F||(F=!0,K.call(q,oe))}}var q=this,F=!1;return{resolve:O(this.A),reject:O(this.l)}},_.prototype.A=function(O){if(O===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(O instanceof _)this.C(O);else{e:switch(typeof O){case"object":var q=O!=null;break e;case"function":q=!0;break e;default:q=!1}q?this.v(O):this.m(O)}},_.prototype.v=function(O){var q=void 0;try{q=O.then}catch(F){this.l(F);return}typeof q=="function"?this.D(q,O):this.m(O)},_.prototype.l=function(O){this.u(2,O)},_.prototype.m=function(O){this.u(1,O)},_.prototype.u=function(O,q){if(this.h!=0)throw Error("Cannot settle("+O+", "+q+"): Promise already settled in state"+this.h);this.h=O,this.i=q,this.h===2&&this.B(),this.H()},_.prototype.B=function(){var O=this;he(function(){if(O.I()){var q=r.console;typeof q<"u"&&q.error(O.i)}},1)},_.prototype.I=function(){if(this.o)return!1;var O=r.CustomEvent,q=r.Event,F=r.dispatchEvent;return typeof F>"u"?!0:(typeof O=="function"?O=new O("unhandledrejection",{cancelable:!0}):typeof q=="function"?O=new q("unhandledrejection",{cancelable:!0}):(O=r.document.createEvent("CustomEvent"),O.initCustomEvent("unhandledrejection",!1,!0,O)),O.promise=this,O.reason=this.i,F(O))},_.prototype.H=function(){if(this.g!=null){for(var O=0;O<this.g.length;++O)$.h(this.g[O]);this.g=null}};var $=new ie;return _.prototype.C=function(O){var q=this.j();O.s(q.resolve,q.reject)},_.prototype.D=function(O,q){var F=this.j();try{O.call(q,F.resolve,F.reject)}catch(K){F.reject(K)}},_.prototype.then=function(O,q){function F(Z,ae){return typeof Z=="function"?function(fe){try{K(Z(fe))}catch(ve){oe(ve)}}:ae}var K,oe,ge=new _(function(Z,ae){K=Z,oe=ae});return this.s(F(O,K),F(q,oe)),ge},_.prototype.catch=function(O){return this.then(void 0,O)},_.prototype.s=function(O,q){function F(){switch(K.h){case 1:O(K.i);break;case 2:q(K.i);break;default:throw Error("Unexpected state: "+K.h)}}var K=this;this.g==null?$.h(F):this.g.push(F),this.o=!0},_.resolve=ne,_.reject=function(O){return new _(function(q,F){F(O)})},_.race=function(O){return new _(function(q,F){for(var K=a(O),oe=K.next();!oe.done;oe=K.next())ne(oe.value).s(q,F)})},_.all=function(O){var q=a(O),F=q.next();return F.done?ne([]):new _(function(K,oe){function ge(fe){return function(ve){Z[fe]=ve,ae--,ae==0&&K(Z)}}var Z=[],ae=0;do Z.push(void 0),ae++,ne(F.value).s(ge(Z.length-1),oe),F=q.next();while(!F.done)})},_});var me=typeof Object.assign=="function"?Object.assign:function(g,_){for(var ie=1;ie<arguments.length;ie++){var ne=arguments[ie];if(ne)for(var he in ne)Object.prototype.hasOwnProperty.call(ne,he)&&(g[he]=ne[he])}return g};o("Object.assign",function(g){return g||me});var S=this||self,w={facingMode:"user",width:640,height:480};function k(g,_){this.video=g,this.i=0,this.h=Object.assign(Object.assign({},w),_)}k.prototype.stop=function(){var g=this,_,ie,ne,he;return Y(new B(new C(function($){if(g.g){for(_=g.g.getTracks(),ie=a(_),ne=ie.next();!ne.done;ne=ie.next())he=ne.value,he.stop();g.g=void 0}$.j=0})))},k.prototype.start=function(){var g=this,_;return Y(new B(new C(function(ie){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),_=g.h,ie.return(navigator.mediaDevices.getUserMedia({video:{facingMode:_.facingMode,width:_.width,height:_.height}}).then(function(ne){J(g,ne)}).catch(function(ne){var he="Failed to acquire camera feed: "+ne;throw console.error(he),alert(he),ne}))})))};function P(g){window.requestAnimationFrame(function(){te(g)})}function J(g,_){g.g=_,g.video.srcObject=_,g.video.onloadedmetadata=function(){g.video.play(),P(g)}}function te(g){var _=null;g.video.paused||g.video.currentTime===g.i||(g.i=g.video.currentTime,_=g.h.onFrame()),_?_.then(function(){P(g)}):P(g)}var V=["Camera"],W=S;V[0]in W||typeof W.execScript>"u"||W.execScript("var "+V[0]);for(var we;V.length&&(we=V.shift());)V.length||k===void 0?W[we]&&W[we]!==Object.prototype[we]?W=W[we]:W=W[we]={}:W[we]=k}).call(Or);const _t=(...e)=>{},dn={red:{lower1:[0,120,70],upper1:[10,255,255],lower2:[170,120,70],upper2:[180,255,255]},blue:{lower:[100,150,70],upper:[130,255,255]}},nt={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity",selectedCamera:"detectorSelectedCamera"};function Yc(){const e=I.useRef(null),t=I.useRef(null),n=I.useRef(null),r=I.useRef(null),[o,l]=I.useState(!1),[a,f]=I.useState("None"),[d,v]=I.useState([]),[C,E]=I.useState(null),[N,H]=I.useState(null),[B,Y]=I.useState(null),[me,S]=I.useState({a:null,b:null}),w=I.useRef(null),k=I.useRef(null),P=(L,Q)=>{const le=localStorage.getItem(L);if(le===null)return Q;const j=parseFloat(le);return Number.isFinite(j)?j:Q},[J,te]=I.useState(()=>({roiSize:(()=>{const L=P(nt.roiSize,44);return L>10?L:44})(),hueWeight:P(nt.hueWeight,4),satWeight:P(nt.satWeight,2),valWeight:P(nt.valWeight,1),sensitivity:P(nt.sensitivity,0)})),V=I.useRef(J),W=I.useRef(null),we=I.useRef(!1),g=I.useRef(0),_=I.useRef(null),[ie,ne]=I.useState([]),[he,$]=I.useState(()=>localStorage.getItem(nt.selectedCamera)||""),O=I.useCallback(L=>{},[_t]),q=I.useCallback(async()=>{const L=e.current;if(!L)return;W.current&&(W.current.getTracks().forEach(le=>le.stop()),W.current=null),b();const Q=++g.current;_.current=null;try{const le=he?{video:{deviceId:{exact:he}}}:{video:!0};if(he){const R=ie.find(A=>A.deviceId===he);console.log("[Detector]  Loading SELECTED camera:",{deviceId:he,label:(R==null?void 0:R.label)||"Unknown",source:"localStorage or user selection"})}else console.log("[Detector]  Loading DEFAULT camera (no selection saved)");const j=await navigator.mediaDevices.getUserMedia(le);if(!we.current||Q!==g.current){_t("Stale camera request (unmounted or superseded). Stopping stream."),j.getTracks().forEach(R=>R.stop());return}W.current=j;const z=j.getVideoTracks();if(_t("getUserMedia success. Tracks:",z),z.length>0){const R=z[0];console.log("[Detector]  Camera loaded successfully:",{label:R.label,deviceId:R.getSettings().deviceId,resolution:`${R.getSettings().width}x${R.getSettings().height}`,frameRate:R.getSettings().frameRate})}if(L.srcObject=j,await new Promise(R=>{if(L.readyState>=1&&L.videoWidth>0&&L.videoHeight>0)return R();const M=()=>{L.removeEventListener("loadedmetadata",M),R()};L.addEventListener("loadedmetadata",M,{once:!0}),setTimeout(()=>{L.removeEventListener("loadedmetadata",M),R()},1500)}),!we.current||Q!==g.current){_t("Stale request before play(). Stopping stream."),j.getTracks().forEach(R=>R.stop());return}try{await L.play(),_t("video.play() promise resolved. Video should be playing.")}catch(R){if(console.error("[Detector] video.play() promise rejected:",R),_t("video.play() promise rejected:",R.name,R.message),Q!==g.current){_t("play() aborted due to newer request."),j.getTracks().forEach(A=>A.stop());return}}_.current!==Q&&(_.current=Q,_t("Initializing MediaPipe for request id",Q),Z())}catch(le){console.error("[Detector] Error accessing camera:",le),_t("getUserMedia error:",le.name,le.message)}},[_t,O]),F=(L,Q,le)=>{const j=(L||0)*2,z=(Q||0)/255,R=(le||0)/255,A=R*z,M=A*(1-Math.abs(j/60%2-1)),U=R-A;let se=0,Se=0,ye=0;j>=0&&j<60?(se=A,Se=M,ye=0):j<120?(se=M,Se=A,ye=0):j<180?(se=0,Se=A,ye=M):j<240?(se=0,Se=M,ye=A):j<300?(se=M,Se=0,ye=A):(se=A,Se=0,ye=M);const Te=Math.round((se+U)*255),ze=Math.round((Se+U)*255),Ie=Math.round((ye+U)*255);return`rgb(${Te}, ${ze}, ${Ie})`},K=L=>L?F(L.h,L.s,L.v):"#ffffff",oe=L=>L==="Player A"&&N?K(N):L==="Player B"&&B?K(B):L==="Red"?"#ff0000":L==="Blue"?"#0000ff":"#ffffff";I.useEffect(()=>{we.current=!0,(async()=>{try{const z=(await navigator.mediaDevices.enumerateDevices()).filter(M=>M.kind==="videoinput");ne(z);const R=localStorage.getItem(nt.selectedCamera);if(R&&z.some(M=>M.deviceId===R)){const M=z.find(U=>U.deviceId===R);$(R),console.log("[Detector]  Found saved camera in localStorage:",{deviceId:R,label:(M==null?void 0:M.label)||"Unknown"}),_t("Using saved camera:",R)}else if(z.length>0){const M=z[0].deviceId;$(M),localStorage.setItem(nt.selectedCamera,M),console.log("[Detector]  No saved camera found, using system default:",{deviceId:M,label:z[0].label||"Unknown",savedCameraWas:R||"none"}),_t("Saved camera not found, using default camera:",M)}}catch{}})(),q();const Q=()=>{try{const j=JSON.parse(localStorage.getItem("calibrationA")||"null"),z=JSON.parse(localStorage.getItem("calibrationB")||"null");j&&H({h:j.h,s:j.s,v:j.v}),z&&Y({h:z.h,s:z.s,v:z.v})}catch{}};Q();const le=j=>{!j||!j.key||(["calibrationA","calibrationB"].includes(j.key)&&Q(),[nt.roiSize,nt.hueWeight,nt.satWeight,nt.valWeight,nt.sensitivity].includes(j.key)&&te(z=>({roiSize:(()=>{const R=P(nt.roiSize,(z==null?void 0:z.roiSize)??44);return R>10?R:(z==null?void 0:z.roiSize)??44})(),hueWeight:P(nt.hueWeight,(z==null?void 0:z.hueWeight)??4),satWeight:P(nt.satWeight,(z==null?void 0:z.satWeight)??2),valWeight:P(nt.valWeight,(z==null?void 0:z.valWeight)??1),sensitivity:P(nt.sensitivity,(z==null?void 0:z.sensitivity)??0)})))};return window.addEventListener("storage",le),()=>{we.current=!1,g.current+=1,_.current=null,r.current&&(r.current.stop(),r.current=null),W.current&&(W.current.getTracks().forEach(z=>z.stop()),W.current=null);const j=e.current;j&&(j.srcObject=null,O(j)),n.current&&(n.current.close(),n.current=null),window.removeEventListener("storage",le)}},[q,O,_t]),I.useEffect(()=>{w.current=N},[N]),I.useEffect(()=>{k.current=B},[B]),I.useEffect(()=>{V.current=J},[J]),I.useEffect(()=>{const L=setInterval(()=>{f(Q=>(ge(Q),Q))},1e3);return()=>clearInterval(L)},[]);const ge=L=>{const le={timestamp:new Date().toISOString(),status:L};v(z=>[...z,le]);const j=JSON.parse(localStorage.getItem("braceletDetections")||"[]");j.push(le),localStorage.setItem("braceletDetections",JSON.stringify(j))},Z=async()=>{try{const L=await(async()=>{try{if(typeof il.Hands=="function")return il.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function"||(await new Promise((le,j)=>{const z="mp-hands-cdn-script";if(document.getElementById(z))return le();const R=document.createElement("script");R.id=z,R.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",R.async=!0,R.onload=()=>le(),R.onerror=A=>j(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(R)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),Q=new L({locateFile:le=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${le}`});if(Q.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),Q.onResults(ae),n.current=Q,e.current){const le=await(async()=>{try{if(typeof Qc.Camera=="function")return Qc.Camera}catch{}if(typeof window<"u"&&window.Camera&&typeof window.Camera=="function"||(await new Promise((z,R)=>{const A="mp-camera-utils-cdn-script";if(document.getElementById(A))return z();const M=document.createElement("script");M.id=A,M.src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js",M.async=!0,M.onload=()=>z(),M.onerror=U=>R(new Error("Failed to load MediaPipe Camera from CDN")),document.head.appendChild(M)}),window.Camera&&typeof window.Camera=="function"))return window.Camera;throw new Error("MediaPipe Camera constructor not available after CDN load")})(),j=new le(e.current,{onFrame:async()=>{await Q.send({image:e.current})},width:640,height:480});j.start(),r.current=j}}catch(L){console.error("MediaPipe initialization error:",L),E(`MediaPipe error: ${L.message}`)}},ae=L=>{var A;const Q=t.current,le=e.current;if(!Q||!le)return;const j=Q.getContext("2d");Q.width=le.videoWidth,Q.height=le.videoHeight,j.drawImage(le,0,0,Q.width,Q.height);let z="None";if(L.multiHandLandmarks&&L.multiHandLandmarks.length>0){_t("onResults: hands=",L.multiHandLandmarks.length);let M=null,U=1;if(L.multiHandLandmarks.forEach(se=>{const Se=se[0];Se.y<U&&(U=Se.y,M=se)}),L.multiHandLandmarks.forEach(se=>{fe(j,se,Q.width,Q.height)}),M){const se=M[0],Se=se.x*Q.width,ye=se.y*Q.height;j.fillStyle="lime",j.beginPath(),j.arc(Se,ye,10,0,2*Math.PI),j.fill(),j.fillStyle="lime",j.font="16px Arial",j.fillText("SELECTED",Se-40,ye-15);const ze=Math.max(10,Math.min(300,Math.floor(((A=V.current)==null?void 0:A.roiSize)||60)))/2,Ie=Math.max(0,Se-ze),et=Math.max(0,ye-ze),Ke=Math.min(Q.width,Se+ze),qe=Math.min(Q.height,ye+ze);j.strokeStyle="lime",j.lineWidth=3,j.strokeRect(Ie,et,Ke-Ie,qe-et);const tt=j.getImageData(Ie,et,Ke-Ie,qe-et),_e=w.current,Ce=k.current,je=Ee(tt,_e,Ce);z=je.status,S({a:je.percentA,b:je.percentB})}}let R="#ffffff";z==="Player A"&&w.current?R=K(w.current):z==="Player B"&&k.current&&(R=K(k.current)),j.fillStyle=R,j.font="bold 32px Arial",j.fillText(`Status: ${z}`,10,40),f(z),typeof window<"u"&&(window.currentBraceletStatus=z)},fe=(L,Q,le,j)=>{L.strokeStyle="white",L.lineWidth=2,[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,13],[13,17],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20]].forEach(([R,A])=>{const M=Q[R],U=Q[A];L.beginPath(),L.moveTo(M.x*le,M.y*j),L.lineTo(U.x*le,U.y*j),L.stroke()}),Q.forEach(R=>{L.fillStyle="red",L.beginPath(),L.arc(R.x*le,R.y*j,5,0,2*Math.PI),L.fill()})},ve=L=>{const Q=L.data;let le=0,j=0;for(let z=0;z<Q.length;z+=4){const R=Q[z],A=Q[z+1],M=Q[z+2],U=D(R,A,M);(U[0]>=dn.red.lower1[0]&&U[0]<=dn.red.upper1[0]||U[0]>=dn.red.lower2[0]&&U[0]<=dn.red.upper2[0])&&U[1]>=dn.red.lower1[1]&&U[2]>=dn.red.lower1[2]&&le++,U[0]>=dn.blue.lower[0]&&U[0]<=dn.blue.upper[0]&&U[1]>=dn.blue.lower[1]&&U[2]>=dn.blue.lower[2]&&j++}return{redCount:le,blueCount:j}},Ee=(L,Q,le)=>{var ze,Ie,et,Ke;const j=L.data;if(Q&&!le)return{status:"Player A",percentA:null,percentB:null};if(le&&!Q)return{status:"Player B",percentA:null,percentB:null};const z=((ze=V.current)==null?void 0:ze.hueWeight)??4,R=((Ie=V.current)==null?void 0:Ie.satWeight)??2,A=((et=V.current)==null?void 0:et.valWeight)??1,M=((Ke=V.current)==null?void 0:Ke.sensitivity)??0;if(Q&&le){let qe=0,tt=0,_e=0;for(let ot=0;ot<j.length;ot+=4){const gn=j[ot],Ut=j[ot+1],wt=j[ot+2],[pt,wn,An]=D(gn,Ut,wt),Sn=Math.min(1,Math.max(0,wn/255)),yr=Math.min(1,Math.max(0,An/255)),It=Math.max(.05,.5*Sn+.5*yr),nr=Math.min(Math.abs(pt-Q.h),180-Math.abs(pt-Q.h)),gr=Math.min(Math.abs(pt-le.h),180-Math.abs(pt-le.h)),Rn=Math.abs(wn-Q.s),In=Math.abs(wn-le.s),wr=Math.abs(An-Q.v),Xt=Math.abs(An-le.v),qr=nr*z+Rn*R+wr*A,Ht=gr*z+In*R+Xt*A;Math.min(qr,Ht)>180||(qr<=Ht?qe+=It:tt+=It,_e+=It)}if(_e===0)return{status:"None",percentA:0,percentB:0};const Ce=qe/Math.max(1e-6,_e),je=tt/Math.max(1e-6,_e),Fe=.12*(1+.8*Math.max(0,Math.min(1,M)));return Ce>=Fe&&Ce>=je?{status:"Player A",percentA:Ce,percentB:je}:je>=Fe&&je>Ce?{status:"Player B",percentA:Ce,percentB:je}:{status:"None",percentA:Ce,percentB:je}}const{redCount:U,blueCount:se}=ve(L),Se=U+se;if(Se===0)return{status:"None",percentA:0,percentB:0};const ye=U/Se,Te=se/Se;return ye>=.15&&ye>=Te?{status:"Player A",percentA:ye,percentB:Te}:Te>=.15&&Te>ye?{status:"Player B",percentA:ye,percentB:Te}:{status:"None",percentA:ye,percentB:Te}},D=(L,Q,le)=>{L/=255,Q/=255,le/=255;const j=Math.max(L,Q,le),z=Math.min(L,Q,le),R=j-z;let A=0;R!==0&&(j===L?A=60*((Q-le)/R%6):j===Q?A=60*((le-L)/R+2):A=60*((L-Q)/R+4)),A<0&&(A+=360);const M=j===0?0:R/j*255,U=j*255;return[A/2,M,U]},b=L=>{},de=L=>{$(L),localStorage.setItem(nt.selectedCamera,L)},ce=()=>{window.location.reload()},Me=()=>{const L=JSON.parse(localStorage.getItem("braceletDetections")||"[]"),Q=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),le=URL.createObjectURL(Q),j=document.createElement("a");j.href=le,j.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.json`,j.click();const z=L.map(U=>`${U.timestamp}: ${U.status}`).join(`
`),R=new Blob([z],{type:"text/plain"}),A=URL.createObjectURL(R),M=document.createElement("a");M.href=A,M.download=`bracelet_detections_${new Date().toISOString().split("T")[0]}.txt`,M.click()},Le=()=>{localStorage.removeItem("braceletDetections"),v([])};return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`detector-window ${o?"minimized":""}`,children:[y.jsxs("div",{className:"detector-header",children:[y.jsx("span",{children:"Bracelet Detector"}),y.jsxs("div",{className:"detector-controls",children:[y.jsx("button",{onClick:Me,title:"Download Logs",children:""}),y.jsx("button",{onClick:Le,title:"Clear Logs",children:""}),y.jsx("button",{onClick:()=>l(!o),children:o?"":""})]})]}),y.jsxs("div",{className:"detector-content",style:{display:o?"none":"block"},children:[y.jsxs("div",{style:{fontSize:12,opacity:.8,marginBottom:8,display:"flex",alignItems:"center",gap:6},children:[y.jsx("span",{children:"Camera:"}),y.jsx("select",{value:he,onChange:L=>de(L.target.value),style:{fontSize:11,padding:"3px 6px",flex:1,maxWidth:200},children:ie.map(L=>y.jsx("option",{value:L.deviceId,children:L.label||`Camera ${L.deviceId.slice(0,8)}`},L.deviceId))}),y.jsx("button",{onClick:ce,title:"Reload page to apply camera change",style:{fontSize:11,padding:"3px 8px",cursor:"pointer"},children:" Reload"})]}),y.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px"}}),y.jsx("canvas",{ref:t,className:"output_canvas"}),y.jsxs("div",{className:"detector-info",children:[y.jsxs("div",{className:"status-display",children:["Status: ",y.jsx("span",{style:{color:oe(a),fontWeight:700},children:a})]}),y.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[y.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),y.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:N?K(N):"#444"}}),y.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"A confidence",children:me.a==null?"":`${Math.round(Math.max(0,Math.min(1,me.a))*100)}%`})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[y.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),y.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:B?K(B):"#444"}}),y.jsx("span",{style:{fontSize:12,opacity:.8,minWidth:36,textAlign:"right"},title:"B confidence",children:me.b==null?"":`${Math.round(Math.max(0,Math.min(1,me.b))*100)}%`})]})]}),y.jsxs("div",{className:"log-count",children:["Logs: ",d?d.length:0]}),y.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[y.jsxs("div",{children:["A: ",N?`h${Math.round(N.h)} s${Math.round(N.s)} v${Math.round(N.v)}`:""]}),y.jsxs("div",{children:["B: ",B?`h${Math.round(B.h)} s${Math.round(B.s)} v${Math.round(B.v)}`:""]})]})]})]})]})})}const us=(...e)=>{console.log("[Calibrate]",...e)},hn={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"},Nv=(e,t,n)=>{const r=(e||0)*2,o=(t||0)/255,l=(n||0)/255,a=l*o,f=a*(1-Math.abs(r/60%2-1)),d=l-a;let v=0,C=0,E=0;r>=0&&r<60?(v=a,C=f,E=0):r<120?(v=f,C=a,E=0):r<180?(v=0,C=a,E=f):r<240?(v=0,C=f,E=a):r<300?(v=f,C=0,E=a):(v=a,C=0,E=f);const N=Math.round((v+d)*255),H=Math.round((C+d)*255),B=Math.round((E+d)*255);return`rgb(${N}, ${H}, ${B})`},Kc=e=>e?Nv(e.h,e.s,e.v):"#444";function _v(){const e=I.useRef(null),t=I.useRef(null),n=I.useRef(null),r=I.useRef(!1),o=I.useRef(0),[l,a]=I.useState(!1),[f,d]=I.useState(""),[v,C]=I.useState(null),[E,N]=I.useState(null),H=(D,b)=>{const de=localStorage.getItem(D);if(de===null)return b;const ce=parseFloat(de);return Number.isFinite(ce)?ce:b},[B,Y]=I.useState(()=>{const D=H(hn.roiSize,44);return D>10?D:44}),[me,S]=I.useState(()=>H(hn.hueWeight,4)),[w,k]=I.useState(()=>H(hn.satWeight,2)),[P,J]=I.useState(()=>H(hn.valWeight,1)),[te,V]=I.useState(()=>H(hn.sensitivity,0)),[W,we]=I.useState(!1),[g,_]=I.useState("idle"),[ie,ne]=I.useState(5),he=I.useRef({A:[],B:[]});I.useEffect(()=>{r.current=!0;try{const D=JSON.parse(localStorage.getItem("calibrationA")||"null"),b=JSON.parse(localStorage.getItem("calibrationB")||"null");D&&C(D),b&&N(b)}catch{}return(async()=>await $())(),()=>{r.current=!1,o.current+=1,n.current&&(n.current.getTracks().forEach(b=>b.stop()),n.current=null);const D=e.current;D&&(D.srcObject=null)}},[]),I.useEffect(()=>{localStorage.setItem(hn.roiSize,String(B))},[B]),I.useEffect(()=>{localStorage.setItem(hn.hueWeight,String(me))},[me]),I.useEffect(()=>{localStorage.setItem(hn.satWeight,String(w))},[w]),I.useEffect(()=>{localStorage.setItem(hn.valWeight,String(P))},[P]),I.useEffect(()=>{localStorage.setItem(hn.sensitivity,String(te))},[te]);const $=I.useCallback(async()=>{const D=e.current;if(!D)return;n.current&&(n.current.getTracks().forEach(de=>de.stop()),n.current=null);const b=++o.current;a(!1),d("Requesting camera...");try{const de=await navigator.mediaDevices.getUserMedia({video:!0});if(!r.current||b!==o.current){de.getTracks().forEach(ce=>ce.stop());return}if(n.current=de,D.srcObject=de,await new Promise(ce=>{if(D.readyState>=1&&D.videoWidth>0)return ce();const Le=()=>{D.removeEventListener("loadedmetadata",Le),ce()};D.addEventListener("loadedmetadata",Le,{once:!0}),setTimeout(()=>{D.removeEventListener("loadedmetadata",Le),ce()},1500)}),!r.current||b!==o.current){de.getTracks().forEach(ce=>ce.stop());return}try{await D.play(),us("video.play resolved")}catch(ce){us("video.play rejected",ce)}a(!0),d("")}catch(de){d(`Camera error: ${(de==null?void 0:de.message)||de}`),us("getUserMedia error",de)}},[]),O=(D,b,de)=>{D/=255,b/=255,de/=255;const ce=Math.max(D,b,de),Me=Math.min(D,b,de),Le=ce-Me;let L=0;Le!==0&&(ce===D?L=60*((b-de)/Le%6):ce===b?L=60*((de-D)/Le+2):L=60*((D-b)/Le+4)),L<0&&(L+=360);const Q=ce===0?0:Le/ce*255,le=ce*255;return[L/2,Q,le]},q=()=>{const D=e.current,b=t.current;if(!D||!b||D.videoWidth===0)return null;const de=D.videoWidth,ce=D.videoHeight;b.width=de,b.height=ce;const Me=b.getContext("2d");Me.drawImage(D,0,0,de,ce);const Le=Math.max(10,Math.min(300,Math.floor(B))),L=Math.floor(de/2-Le/2),Q=Math.floor(ce/2-Le/2),j=Me.getImageData(L,Q,Le,Le).data;let z=0,R=0,A=0,M=0,U=0;for(let Ke=0;Ke<j.length;Ke+=4){const[qe,tt,_e]=O(j[Ke],j[Ke+1],j[Ke+2]),Ce=qe*2*(Math.PI/180);z+=Math.cos(Ce),R+=Math.sin(Ce),A+=tt,M+=_e,U++}if(U===0)return null;const se=A/U,Se=M/U,ye=z/U,Te=R/U;let Ie=Math.atan2(Te,ye)*(180/Math.PI);return Ie<0&&(Ie+=360),{h:Ie/2,s:se,v:Se}},F=D=>{const b=q();if(!b){d("Could not sample video frame.");return}D==="A"?(localStorage.setItem("calibrationA",JSON.stringify(b)),C(b),d(`Saved Player A: h${b.h.toFixed(0)}`)):(localStorage.setItem("calibrationB",JSON.stringify(b)),N(b),d(`Saved Player B: h${b.h.toFixed(0)}`))},K=D=>{D==="A"?(localStorage.removeItem("calibrationA"),C(null)):(localStorage.removeItem("calibrationB"),N(null)),d("Cleared")},oe=()=>{we(!0),_("playerA"),ne(5),he.current={A:[],B:[]},d("Hold Player A bracelet in center square...")};I.useEffect(()=>{if(!(!W||g==="idle"||g==="optimizing"||g==="complete"))if(ie>0){const D=setTimeout(()=>{ne(ie-1)},1e3);return()=>clearTimeout(D)}else g==="playerA"?(_("switching"),ne(3),d("Switch to Player B... Get ready!")):g==="switching"?(_("playerB"),ne(5),d("Hold Player B bracelet in center square...")):g==="playerB"&&(_("optimizing"),ge())},[W,g,ie]),I.useEffect(()=>{if(!W||g==="idle"||g==="switching"||g==="optimizing"||g==="complete")return;const D=setInterval(()=>{const b=q();b&&(g==="playerA"?he.current.A.push(b):g==="playerB"&&he.current.B.push(b))},200);return()=>clearInterval(D)},[W,g]);const ge=()=>{d("Optimizing parameters...");const D=he.current.A,b=he.current.B;if(D.length===0||b.length===0){d("Error: Not enough samples collected!"),we(!1),_("idle");return}const de=Z(D),ce=Z(b),Me=Math.min(Math.abs(de.h-ce.h),180-Math.abs(de.h-ce.h)),Le=Math.abs(de.s-ce.s),L=Math.abs(de.v-ce.v),Q=Me/90,le=Le/255,j=L/255,z=ae(D),R=ae(b),A={h:(z.h+R.h)/2,s:(z.s+R.s)/2,v:(z.v+R.v)/2},M=Q+le+j,U=M>0?Q/M*(1/(1+A.h/20))*6:2,se=M>0?le/M*(1/(1+A.s/50))*4:1,Se=M>0?j/M*(1/(1+A.v/50))*3:.5;S(Math.max(.5,Math.min(6,U))),k(Math.max(.1,Math.min(4,se))),J(Math.max(.1,Math.min(3,Se)));const ye=fe(D,b,de,ce),Te=Math.max(0,Math.min(.8,ye*.5));V(Te),localStorage.setItem("calibrationA",JSON.stringify(de)),localStorage.setItem("calibrationB",JSON.stringify(ce)),C(de),N(ce),_("complete"),d(` Auto-calibration complete! Collected ${D.length+b.length} samples. Optimized parameters for best separation.`),setTimeout(()=>{we(!1),_("idle")},3e3)},Z=D=>{const b=D.map(R=>R.h),de=D.map(R=>R.s).sort((R,A)=>R-A),ce=D.map(R=>R.v).sort((R,A)=>R-A);let Me=0,Le=0;b.forEach(R=>{const A=R*2*(Math.PI/180);Me+=Math.cos(A),Le+=Math.sin(A)});let Q=Math.atan2(Le/b.length,Me/b.length)*(180/Math.PI);Q<0&&(Q+=360);const le=Q/2,j=de[Math.floor(de.length/2)],z=ce[Math.floor(ce.length/2)];return{h:le,s:j,v:z}},ae=D=>{const b=D.reduce((ce,Me)=>({h:ce.h+Me.h,s:ce.s+Me.s,v:ce.v+Me.v}),{h:0,s:0,v:0});b.h/=D.length,b.s/=D.length,b.v/=D.length;const de=D.reduce((ce,Me)=>({h:ce.h+Math.pow(Me.h-b.h,2),s:ce.s+Math.pow(Me.s-b.s,2),v:ce.v+Math.pow(Me.v-b.v,2)}),{h:0,s:0,v:0});return{h:de.h/D.length,s:de.s/D.length,v:de.v/D.length}},fe=(D,b,de,ce)=>{let Me=0;const Le=Math.min(D.length,b.length)*2;return D.forEach(L=>{const Q=ve(L,de);ve(L,ce)<Q*1.5&&Me++}),b.forEach(L=>{const Q=ve(L,de),le=ve(L,ce);Q<le*1.5&&Me++}),Me/Le},ve=(D,b)=>{const de=Math.min(Math.abs(D.h-b.h),180-Math.abs(D.h-b.h)),ce=Math.abs(D.s-b.s),Me=Math.abs(D.v-b.v);return Math.sqrt(de*de+ce*ce+Me*Me)},Ee=()=>{we(!1),_("idle"),ne(5),d("Generic mode cancelled")};return y.jsxs("div",{className:"calib-root",children:[y.jsxs("div",{className:"calib-header",children:[y.jsx("h2",{children:"Color Calibration"}),y.jsxs("div",{className:"calib-actions",children:[y.jsx("button",{onClick:()=>window.location.hash="",children:"Back"}),y.jsx("button",{onClick:$,children:"Restart Camera"})]})]}),f&&y.jsx("div",{className:"calib-message",children:f}),y.jsxs("div",{className:"calib-content",children:[y.jsx("div",{children:y.jsxs("div",{className:"calib-block",style:{marginBottom:12},children:[y.jsx("div",{className:"label",children:"Live Preview"}),y.jsx("div",{className:"value",style:{marginBottom:8},children:W?`Generic Mode Active: ${g==="playerA"?"Player A":g==="switching"?"Switching...":g==="playerB"?"Player B":"Processing..."}`:"Place the bracelet color inside the center square to sample accurate HSV."}),y.jsxs("div",{className:"calib-video-wrap",children:[y.jsx("video",{ref:e,className:"calib-video",autoPlay:!0,playsInline:!0,muted:!0}),y.jsx("div",{className:"calib-center-box",style:{width:B,height:B,borderColor:"#22d3ee",borderWidth:W?"4px":"3px",boxShadow:W?"0 0 20px rgba(34, 211, 238, 0.6)":"0 0 0 2000px rgba(0,0,0,0.35)"}}),W&&ie>0&&y.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"72px",fontWeight:"bold",color:"#22d3ee",textShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.5)",pointerEvents:"none",zIndex:10},children:ie})]})]})}),y.jsxs("div",{className:"calib-controls",children:[y.jsxs("div",{className:"calib-block",style:{background:W?"#1a2332":"#0f172a",border:W?"2px solid #22d3ee":"1px solid #1f2937"},children:[y.jsx("div",{className:"label",children:" Generic Mode (Auto-Calibration)"}),y.jsx("div",{className:"value",style:{fontSize:13,marginBottom:8},children:"Automatically calibrate both players with optimized parameters. Hold each bracelet in the center square for 5 seconds."}),W?y.jsxs("div",{style:{marginTop:8},children:[y.jsxs("div",{style:{fontSize:16,fontWeight:"bold",color:"#22d3ee",marginBottom:8},children:[g==="playerA"&&`Player A: Hold bracelet steady... ${ie}s`,g==="switching"&&`Switch hands! Get Player B ready... ${ie}s`,g==="playerB"&&`Player B: Hold bracelet steady... ${ie}s`,g==="optimizing"&&"Optimizing parameters...",g==="complete"&&" Complete!"]}),y.jsxs("div",{style:{fontSize:12,opacity:.7,marginBottom:8},children:[g==="playerA"&&`Samples collected: ${he.current.A.length}`,g==="switching"&&`Player A: ${he.current.A.length} samples collected`,g==="playerB"&&`Samples collected: ${he.current.B.length}`]}),g!=="complete"&&y.jsx("button",{onClick:Ee,style:{background:"#ef4444"},children:"Cancel"})]}):y.jsx("div",{className:"buttons",children:y.jsx("button",{onClick:oe,disabled:!l,style:{background:"#22d3ee",color:"#000",fontWeight:"bold"},children:"Start Generic Mode"})})]}),y.jsxs("div",{className:"calib-block",children:[y.jsx("div",{className:"label",children:"Detector Settings"}),y.jsxs("div",{className:"value",style:{display:"grid",gap:8},children:[y.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[y.jsx("span",{children:"Detection square size"}),y.jsx("input",{type:"range",min:"20",max:"240",step:"2",value:B,onChange:D=>Y(Number(D.target.value))}),y.jsxs("span",{style:{textAlign:"right"},children:[B,"px"]})]}),y.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[y.jsx("span",{children:"Hue weight"}),y.jsx("input",{type:"range",min:"0",max:"6",step:"0.1",value:me,onChange:D=>S(Number(D.target.value))}),y.jsx("span",{style:{textAlign:"right"},children:me.toFixed(1)})]}),y.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[y.jsx("span",{children:"Saturation weight"}),y.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:w,onChange:D=>k(Number(D.target.value))}),y.jsx("span",{style:{textAlign:"right"},children:w.toFixed(1)})]}),y.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[y.jsx("span",{children:"Value weight"}),y.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:P,onChange:D=>J(Number(D.target.value))}),y.jsx("span",{style:{textAlign:"right"},children:P.toFixed(1)})]}),y.jsxs("label",{style:{display:"grid",gridTemplateColumns:"180px 1fr 60px",alignItems:"center",gap:8},children:[y.jsx("span",{children:"Sensitivity (lower = more sensitive)"}),y.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:te,onChange:D=>V(Number(D.target.value))}),y.jsxs("span",{style:{textAlign:"right"},children:[(te*100).toFixed(0),"%"]})]}),y.jsx("div",{style:{fontSize:12,opacity:.7},children:"These settings are saved to local storage and used by the detector (wrist ROI, A/B decision weights, and sensitivity gate)."})]})]}),y.jsxs("div",{className:"calib-block",children:[y.jsx("div",{className:"label",children:"Player A"}),y.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[y.jsx("span",{title:"Player A color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Kc(v)}}),y.jsx("span",{children:v?`h${v.h.toFixed(0)} s${v.s.toFixed(0)} v${v.v.toFixed(0)}`:""})]}),y.jsxs("div",{className:"buttons",children:[y.jsx("button",{onClick:()=>F("A"),disabled:!l,children:"Save A"}),y.jsx("button",{onClick:()=>K("A"),children:"Clear A"})]})]}),y.jsxs("div",{className:"calib-block",children:[y.jsx("div",{className:"label",children:"Player B"}),y.jsxs("div",{className:"value",style:{display:"flex",alignItems:"center",gap:8},children:[y.jsx("span",{title:"Player B color",style:{width:16,height:16,borderRadius:3,border:"1px solid #666",display:"inline-block",background:Kc(E)}}),y.jsx("span",{children:E?`h${E.h.toFixed(0)} s${E.s.toFixed(0)} v${E.v.toFixed(0)}`:""})]}),y.jsxs("div",{className:"buttons",children:[y.jsx("button",{onClick:()=>F("B"),disabled:!l,children:"Save B"}),y.jsx("button",{onClick:()=>K("B"),children:"Clear B"})]})]})]})]}),y.jsx("canvas",{ref:t,className:"calib-offscreen"})]})}function Pv(){var he;const[e,t]=I.useState(null),[n,r]=I.useState(0),[o,l]=I.useState(!1),[a,f]=I.useState(1),[d,v]=I.useState(ji()),[C,E]=I.useState(!0),[N,H]=I.useState([]),[B,Y]=I.useState(null),me=I.useRef(null),S=I.useRef(null),w=I.useRef(null),k=($,O)=>{const q=w.current;if(!q)return 0;const F=q.offsetHeight;return($+.5)*F},P=I.useCallback($=>{if(!e)return;let O=ji(),q=!0;const F=[];let K=null;for(let oe=0;oe<=$&&oe<e.moves.length;oe++){const ge=e.moves[oe];ge.phase==="experiment"&&q&&(q=!1,O=ji());const Z=ge.all_positions||(ge.allPositions?ge.allPositions.map(ae=>[ae[0]*.07,ae[1]*.07]):null);if(ge.type==="moveblock"&&Z)Z.length===10&&O.length===10?O=O.map((ae,fe)=>{const ve=Z[fe];return ve&&Array.isArray(ve)&&ve.length===2?{...ae,position:[ve[0],ve[1]]}:ae}):console.warn(`Position count mismatch: blocks=${O.length}, positions=${Z==null?void 0:Z.length}`),O=iu(ru(O),q),K=ge.blockId!==void 0?ge.blockId:ge.unit;else if(ge.type==="added shape to gallery"&&ge.gallery_normalized){const ae=document.createElement("canvas");ae.width=400,ae.height=400;const fe=ae.getContext("2d");fe.fillStyle="#000",fe.fillRect(0,0,400,400),ge.gallery_normalized.forEach(ve=>{const Ee=(ve[0]+.5)*400,D=(ve[1]+.5)*400;fe.fillStyle="green";const b=60;fe.fillRect(Ee-b/2,D-b/2,b,b)}),F.push({number:ge.gallery_shape_number,image:ae.toDataURL()}),K=null}}v(O),E(q),H(F),Y(K)},[e]),J=$=>{t($),r(0),l(!1),setTimeout(()=>{P(0)},0)},te=$=>{const O=$.target.files[0];if(!O)return;const q=new FileReader;q.onload=F=>{try{const K=JSON.parse(F.target.result);J(K)}catch(K){alert("Failed to parse JSON file: "+K.message)}},q.readAsText(O)};I.useEffect(()=>{const $=localStorage.getItem("lastGameSession");if($)try{const O=JSON.parse($);J(O)}catch(O){console.error("Failed to load saved game data:",O)}},[]),I.useEffect(()=>{e&&n>=0&&P(n)},[e,n,P]),I.useEffect(()=>{const $=()=>{e&&n>=0&&setTimeout(()=>{P(n)},100)};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[e,n,P]);const V=$=>{e&&($<0||$>=e.moves.length||(P($),r($)))},W=()=>{if(!e||o)return;l(!0),r(0),P(0);let $=0;S.current=setInterval(()=>{if($>=e.moves.length){we();return}$++,P($),r($)},1e3/a)},we=()=>{S.current&&(clearInterval(S.current),S.current=null),l(!1)};if(I.useEffect(()=>()=>{S.current&&clearInterval(S.current)},[]),I.useEffect(()=>{if(o&&S.current){clearInterval(S.current),S.current=null;const $=n;r(0),l(!1),setTimeout(()=>{r($),W()},0)}},[a]),!e)return y.jsx("div",{className:"summary-container",children:y.jsxs("div",{className:"summary-upload",children:[y.jsx("h1",{children:"Game Summary"}),y.jsx("p",{children:"Load a game session JSON file to view the replay"}),y.jsx("input",{ref:me,type:"file",accept:".json",onChange:te,style:{display:"none"}}),y.jsx("button",{onClick:()=>{var $;return($=me.current)==null?void 0:$.click()},children:"Load JSON File"})]})});const g=e.moves[n],_=e.moves.length,ie=((he=e.summary)==null?void 0:he.movesByPlayer)||{},ne=Object.entries(ie||{});return y.jsxs("div",{className:"summary-container",children:[y.jsx("div",{className:"summary-header",children:y.jsx("h1",{children:"Game Summary"})}),y.jsxs("div",{className:"summary-main",children:[y.jsxs("div",{className:"summary-left",children:[y.jsx("div",{className:"summary-game-area",children:y.jsxs("div",{className:"game-canvas",ref:w,children:[y.jsx("div",{className:"gallery",children:y.jsx("div",{className:"gallery-frame",children:N.length>0?y.jsx("img",{src:N[N.length-1].image,alt:"Gallery",className:"gallery-image"}):y.jsx("div",{className:"gallery-placeholder",children:"Gallery"})})}),d.map(($,O)=>{const q=$.position||[0,0];return!Array.isArray(q)||q.length!==2||!Number.isFinite(q[0])||!Number.isFinite(q[1])?(console.warn(`Invalid position for block ${$.id}:`,q),null):y.jsx("div",{className:`block ${$.canMove?"movable":""} ${$.id===B?"highlighted":""}`,style:{left:`${k(q[0])}px`,top:`${k(q[1])}px`,backgroundColor:$.color||"green",cursor:$.canMove?"grab":"default",zIndex:$.id===B?20:O+1}},$.id)})]})}),y.jsxs("div",{className:"summary-progress",children:[y.jsx("input",{type:"range",min:"0",max:Math.max(0,_-1),value:n,onChange:$=>V(parseInt($.target.value)),style:{width:"100%"}}),y.jsxs("div",{className:"progress-info",children:["Move ",n+1," of ",_,g&&y.jsxs("span",{className:"move-info",children:[" "," Player: ",g.player,g.position&&`  Position: (${g.position[0]}, ${g.position[1]})`,g.holdTime!==void 0&&`  Hold: ${g.holdTime.toFixed(2)}s`," "," Time: ",g.elapsed.toFixed(1),"s"]})]})]})]}),y.jsxs("div",{className:"summary-right",children:[y.jsxs("div",{className:"summary-stats",children:[y.jsxs("div",{className:"summary-stats-row",children:[y.jsx("span",{className:"summary-stats-label",children:"Duration"}),y.jsxs("span",{className:"summary-stats-value",children:[Math.floor(e.duration/60),":",(e.duration%60).toFixed(0).padStart(2,"0")]})]}),y.jsxs("div",{className:"summary-stats-row",children:[y.jsx("span",{className:"summary-stats-label",children:"Total Moves"}),y.jsx("span",{className:"summary-stats-value",children:_})]}),y.jsxs("div",{className:"summary-stats-row summary-stats-column",children:[y.jsx("span",{className:"summary-stats-label",children:"Moves by Player"}),y.jsx("div",{className:"summary-stats-value",children:ne.length===0?y.jsx("span",{children:""}):ne.map(([$,O])=>y.jsxs("div",{children:[$,": ",O]},$))})]})]}),y.jsxs("div",{className:"summary-controls",children:[y.jsx("button",{onClick:()=>V(0),disabled:n===0,children:" First"}),y.jsx("button",{onClick:()=>V(n-1),disabled:n===0,children:" Previous"}),y.jsx("button",{onClick:o?we:W,children:o?" Pause":" Play"}),y.jsx("button",{onClick:()=>V(n+1),disabled:n>=_-1,children:" Next"}),y.jsx("button",{onClick:()=>V(_-1),disabled:n>=_-1,children:" Last"}),y.jsxs("div",{className:"speed-control",children:[y.jsx("label",{children:"Speed:"}),y.jsx("input",{type:"range",min:"0.5",max:"5",step:"0.5",value:a,onChange:$=>f(parseFloat($.target.value))}),y.jsxs("span",{children:[a,"x"]})]}),y.jsx("input",{ref:me,type:"file",accept:".json",onChange:te,style:{display:"none"}}),y.jsx("button",{onClick:()=>{var $;return($=me.current)==null?void 0:$.click()},children:" Load New File"})]}),y.jsxs("div",{className:"summary-moves-list",children:[y.jsx("h2",{children:"Move History"}),y.jsx("div",{className:"moves-scroll",children:e.moves.map(($,O)=>y.jsxs("div",{className:`move-item ${O===n?"active":""}`,onClick:()=>V(O),children:[y.jsx("div",{className:"move-number",children:O+1}),y.jsxs("div",{className:"move-details",children:[y.jsx("div",{className:"move-type",children:$.type}),y.jsxs("div",{className:"move-player",children:["Player: ",$.player]}),$.blockId!==null&&$.blockId!==void 0||$.unit!==null&&$.unit!==void 0?y.jsxs("div",{className:"move-unit",children:["Block: ",$.blockId!==void 0?$.blockId:$.unit]}):null,$.position&&y.jsxs("div",{className:"move-position",children:["Position: (",$.position[0],", ",$.position[1],")"]}),$.holdTime!==void 0&&$.holdTime>0&&y.jsxs("div",{className:"move-hold-time",children:["Hold Time: ",$.holdTime.toFixed(2),"s"]}),y.jsxs("div",{className:"move-time",children:["Time: ",$.elapsed.toFixed(1),"s"]})]})]},O))})]})]})]})]})}const ct=(...e)=>{console.log("[Detector2]",...e)},St={roiSize:"detectorRoiSize",hueWeight:"detectorHueWeight",satWeight:"detectorSatWeight",valWeight:"detectorValWeight",sensitivity:"detectorSensitivity"};function Mv(){const e=I.useRef(null),t=I.useRef(null),n=I.useRef(null),r=I.useRef(null),o=I.useRef(null),l=I.useRef(null),a=I.useRef(null),f=I.useRef(null),d=I.useRef(null),[v,C]=I.useState(""),[E,N]=I.useState(!1),[H,B]=I.useState({camA:"None",camB:"None",merged:"None"}),[Y,me]=I.useState(!0),[S,w]=I.useState(null),[k,P]=I.useState(null),J=I.useRef(null),te=I.useRef(null),V=(j,z)=>{const R=localStorage.getItem(j);if(R===null)return z;const A=parseFloat(R);return Number.isFinite(A)?A:z},[W,we]=I.useState(()=>({roiSize:(()=>{const j=V(St.roiSize,44);return j>10?j:44})(),hueWeight:V(St.hueWeight,4),satWeight:V(St.satWeight,2),valWeight:V(St.valWeight,1),sensitivity:V(St.sensitivity,0)})),g=I.useRef(W),[_,ie]=I.useState([]),[ne,he]=I.useState(""),[$,O]=I.useState("");I.useEffect(()=>{let j=!0;(async()=>{try{const M=(await navigator.mediaDevices.enumerateDevices()).filter(se=>se.kind==="videoinput");if(M.length===0){C("No cameras found");return}ie(M);const U=M.slice(0,2).map(se=>se.deviceId);he(U[0]||""),O(U[1]||U[0]||""),await q(U[0],e,f),U[1]?await q(U[1],t,d):await q(U[0],t,d),await fe(),await ve("A",e,l),await ve("B",t,a)}catch(A){if(!j)return;C((A==null?void 0:A.message)||String(A))}})();const z=()=>{try{const A=JSON.parse(localStorage.getItem("calibrationA")||"null"),M=JSON.parse(localStorage.getItem("calibrationB")||"null");A&&w({h:A.h,s:A.s,v:A.v}),M&&P({h:M.h,s:M.s,v:M.v})}catch{ct("No existing calibrations")}};z();const R=A=>{!A||!A.key||(["calibrationA","calibrationB"].includes(A.key)&&z(),[St.roiSize,St.hueWeight,St.satWeight,St.valWeight,St.sensitivity].includes(A.key)&&we(M=>({roiSize:(()=>{const U=V(St.roiSize,(M==null?void 0:M.roiSize)??44);return U>10?U:(M==null?void 0:M.roiSize)??44})(),hueWeight:V(St.hueWeight,(M==null?void 0:M.hueWeight)??4),satWeight:V(St.satWeight,(M==null?void 0:M.satWeight)??2),valWeight:V(St.valWeight,(M==null?void 0:M.valWeight)??1),sensitivity:V(St.sensitivity,(M==null?void 0:M.sensitivity)??0)})))};return window.addEventListener("storage",R),()=>{if(j=!1,l.current&&(l.current.stop(),l.current=null),a.current&&(a.current.stop(),a.current=null),f.current&&(f.current.getTracks().forEach(U=>U.stop()),f.current=null),d.current&&(d.current.getTracks().forEach(U=>U.stop()),d.current=null),o.current){try{o.current.close()}catch{}o.current=null}const A=e.current;A&&(A.srcObject=null);const M=t.current;M&&(M.srcObject=null),window.removeEventListener("storage",R)}},[]);const q=async(j,z,R)=>{const A={video:{deviceId:{exact:j}}};ct("Starting camera with deviceId:",j);const M=await navigator.mediaDevices.getUserMedia(A);R.current=M;const U=z.current;if(!U){ct("Video element not found!");return}U.srcObject=M,ct("Stream assigned to video element, waiting for metadata..."),await new Promise(se=>{if(U.readyState>=2&&U.videoWidth>0&&U.videoHeight>0)return ct("Video already ready:",U.videoWidth,"x",U.videoHeight),se();const ye=()=>{ct("loadedmetadata event fired:",U.videoWidth,"x",U.videoHeight),U.removeEventListener("loadedmetadata",ye),se()};U.addEventListener("loadedmetadata",ye,{once:!0}),setTimeout(()=>{ct("Metadata timeout - proceeding anyway"),U.removeEventListener("loadedmetadata",ye),se()},2e3)});try{await U.play(),ct("Video play() succeeded")}catch(se){ct("Video play() failed:",se)}},F=I.useRef(null),K=I.useRef(null),oe=I.useRef(null),ge=I.useRef(!1),Z=async()=>{if(!ge.current){ge.current=!0;try{for(;K.current||oe.current;){const j=o.current;if(!j)break;let z=null,R=null;if(K.current?(z="A",R=K.current,K.current=null):oe.current&&(z="B",R=oe.current,oe.current=null),!!R){F.current=z;try{await j.send({image:R})}catch(A){console.error("[Detector2] hands.send error:",A);break}}}}finally{ge.current=!1}}},ae=(j,z)=>{j==="A"?K.current=z:oe.current=z,Promise.resolve().then(Z)},fe=async()=>{if(o.current)return o.current;try{const j=await(async()=>{try{if(typeof il.Hands=="function")return il.Hands}catch{}if(typeof window<"u"&&window.Hands&&typeof window.Hands=="function")return window.Hands;const R=document.getElementById("mp-hands-cdn-script");if(R&&(await new Promise(A=>{if(window.Hands&&typeof window.Hands=="function")return A();const M=setInterval(()=>{window.Hands&&typeof window.Hands=="function"&&(clearInterval(M),A())},50);setTimeout(()=>{clearInterval(M),A()},3e3)}),window.Hands&&typeof window.Hands=="function")||(R||await new Promise((A,M)=>{const U=document.createElement("script");U.id="mp-hands-cdn-script",U.src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js",U.async=!0,U.onload=()=>A(),U.onerror=se=>M(new Error("Failed to load MediaPipe Hands from CDN")),document.head.appendChild(U)}),window.Hands&&typeof window.Hands=="function"))return window.Hands;throw new Error("MediaPipe Hands constructor not available after CDN load")})(),z=new j({locateFile:R=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${R}`});return z.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),z.onResults(R=>{const A=F.current;A==="A"?b(R):A==="B"&&de(R)}),o.current=z,z}catch(j){return console.error("MediaPipe initialization error:",j),C(`MediaPipe error: ${j.message}`),null}},ve=async(j,z,R)=>{if(!await fe())return;const M=z.current;if(!M){ct(`Video ref for ${j} not found`);return}ct(`Initializing manual frame capture for camera ${j}, video dimensions:`,M.videoWidth,"x",M.videoHeight);let U=null;const se=()=>{const Se=z.current;Se&&Se.readyState>=2&&Se.videoWidth>0&&ae(j,Se),U=requestAnimationFrame(se)};U=requestAnimationFrame(se),R.current={stop:()=>{U&&(cancelAnimationFrame(U),U=null,ct(`Stopped manual frame capture for camera ${j}`))}},ct(`Manual frame capture started for camera ${j}`)},Ee=I.useRef({wristY:null,player:"None",landmarks:null,wristX:null}),D=I.useRef({wristY:null,player:"None",landmarks:null,wristX:null});I.useEffect(()=>{J.current=S},[S]),I.useEffect(()=>{te.current=k},[k]),I.useEffect(()=>{g.current=W},[W]);const b=j=>ce(j,n,"A"),de=j=>ce(j,r,"B"),ce=(j,z,R)=>{var tt;const A=z.current,M=A.getContext("2d"),U=R==="A"?e.current:t.current;if(!A||!U)return;A.width=U.videoWidth,A.height=U.videoHeight,M.drawImage(U,0,0,A.width,A.height),M.fillStyle="rgba(0, 0, 0, 0.6)",M.fillRect(A.width-80,5,75,20),M.fillStyle="white",M.font="bold 14px Arial",M.fillText(`Camera ${R}`,A.width-75,20);let se=null,Se=null,ye=null,Te=[];if(j.multiHandLandmarks&&j.multiHandLandmarks.length>0)for(const _e of j.multiHandLandmarks){const Ce=_e[0],je=Ce.x*A.width,Fe=Ce.y*A.height;Te.push({x:je,y:Fe,landmarks:_e}),(se===null||(Y?Fe<se:Fe>se))&&(se=Fe,Se=_e,ye=je)}Te.forEach(({x:_e,y:Ce})=>{M.fillStyle="orange",M.beginPath(),M.arc(_e,Ce,8,0,Math.PI*2),M.fill()});let ze="None";if(Se){M.fillStyle="lime",M.beginPath(),M.arc(ye,se,10,0,2*Math.PI),M.fill(),M.fillStyle="lime",M.font="16px Arial",M.fillText("SELECTED",ye-40,se-15);const Ce=Math.max(10,Math.min(300,Math.floor(((tt=g.current)==null?void 0:tt.roiSize)||60)))/2,je=Math.max(0,ye-Ce),Fe=Math.max(0,se-Ce),ot=Math.min(A.width,ye+Ce),gn=Math.min(A.height,se+Ce);M.strokeStyle="lime",M.lineWidth=3,M.strokeRect(je,Fe,ot-je,gn-Fe);const Ut=M.getImageData(je,Fe,ot-je,gn-Fe),wt=J.current,pt=te.current;ze=Le(Ut,wt,pt).status}if(Te.length>=1){let _e=Te[0].y,Ce=Te[0].y;Te.forEach(ot=>{ot.y<_e&&(_e=ot.y),ot.y>Ce&&(Ce=ot.y)}),M.strokeStyle="yellow",M.setLineDash([6,4]),M.beginPath(),M.moveTo(0,Y?_e:Ce),M.lineTo(A.width,Y?_e:Ce),M.stroke(),M.strokeStyle="cyan",M.beginPath(),M.moveTo(0,Y?Ce:_e),M.lineTo(A.width,Y?Ce:_e),M.stroke(),M.setLineDash([]);const je=Y?"A (top)":"A (bottom)",Fe=Y?"B (bottom)":"B (top)";M.fillStyle="lime",M.font="16px Arial",M.fillText(je,6,Math.max(14,(Y?_e:Ce)-6)),M.fillStyle="dodgerblue",M.fillText(Fe,6,Math.min(A.height-6,(Y?Ce:_e)+18))}const Ie={wristY:se,wristX:ye,landmarks:Se,player:ze};R==="A"?Ee.current=Ie:D.current=Ie;const et=Ee.current.wristY,Ke=D.current.wristY;let qe="None";if(et!=null||Ke!=null){const _e=Y?(je,Fe)=>je==null?Fe:Math.min(je,Fe):(je,Fe)=>je==null?Fe:Math.max(je,Fe);[et,Ke].filter(je=>je!=null).reduce(_e,null)===et?qe=Ee.current.player:qe=D.current.player}B({camA:Ee.current.player,camB:D.current.player,merged:qe})},Me=(j,z,R)=>{j/=255,z/=255,R/=255;const A=Math.max(j,z,R),M=Math.min(j,z,R),U=A-M;let se=0;U!==0&&(A===j?se=60*((z-R)/U%6):A===z?se=60*((R-j)/U+2):se=60*((j-z)/U+4)),se<0&&(se+=360);const Se=A===0?0:U/A*255,ye=A*255;return[se/2,Se,ye]},Le=(j,z,R)=>{var ye,Te,ze,Ie;const A=j.data;if(z&&!R)return{status:"Player A",percentA:null,percentB:null};if(R&&!z)return{status:"Player B",percentA:null,percentB:null};const M=((ye=g.current)==null?void 0:ye.hueWeight)??4,U=((Te=g.current)==null?void 0:Te.satWeight)??2,se=((ze=g.current)==null?void 0:ze.valWeight)??1,Se=((Ie=g.current)==null?void 0:Ie.sensitivity)??0;if(z&&R){let et=0,Ke=0,qe=0;for(let je=0;je<A.length;je+=4){const Fe=A[je],ot=A[je+1],gn=A[je+2],[Ut,wt,pt]=Me(Fe,ot,gn),wn=Math.min(1,Math.max(0,wt/255)),An=Math.min(1,Math.max(0,pt/255)),Sn=Math.max(.05,.5*wn+.5*An),yr=Math.min(Math.abs(Ut-z.h),180-Math.abs(Ut-z.h)),It=Math.min(Math.abs(Ut-R.h),180-Math.abs(Ut-R.h)),nr=Math.abs(wt-z.s),gr=Math.abs(wt-R.s),Rn=Math.abs(pt-z.v),In=Math.abs(pt-R.v),wr=yr*M+nr*U+Rn*se,Xt=It*M+gr*U+In*se;Math.min(wr,Xt)>180||(wr<=Xt?et+=Sn:Ke+=Sn,qe+=Sn)}if(qe===0)return{status:"None",percentA:0,percentB:0};const tt=et/Math.max(1e-6,qe),_e=Ke/Math.max(1e-6,qe),Ce=.12*(1+.8*Math.max(0,Math.min(1,Se)));return tt>=Ce&&tt>=_e?{status:"Player A",percentA:tt,percentB:_e}:_e>=Ce&&_e>tt?{status:"Player B",percentA:tt,percentB:_e}:{status:"None",percentA:tt,percentB:_e}}return{status:"None",percentA:0,percentB:0}},L=(j,z,R)=>{const A=(j||0)*2,M=(z||0)/255,U=(R||0)/255,se=U*M,Se=se*(1-Math.abs(A/60%2-1)),ye=U-se;let Te=0,ze=0,Ie=0;A>=0&&A<60?(Te=se,ze=Se,Ie=0):A<120?(Te=Se,ze=se,Ie=0):A<180?(Te=0,ze=se,Ie=Se):A<240?(Te=0,ze=Se,Ie=se):A<300?(Te=Se,ze=0,Ie=se):(Te=se,ze=0,Ie=Se);const et=Math.round((Te+ye)*255),Ke=Math.round((ze+ye)*255),qe=Math.round((Ie+ye)*255);return`rgb(${et}, ${Ke}, ${qe})`},Q=j=>j?L(j.h,j.s,j.v):"#ffffff",le=async(j,z)=>{try{if(j==="A"){if(he(z),l.current){try{l.current.stop()}catch(A){ct("Stop camA error:",A)}l.current=null}f.current&&(f.current.getTracks().forEach(A=>A.stop()),f.current=null);const R=e.current;R&&(R.srcObject=null),await new Promise(A=>setTimeout(A,100)),await q(z,e,f),await new Promise(A=>setTimeout(A,200)),await fe(),await ve("A",e,l),ct("Camera A switched to:",z)}else{if(O(z),a.current){try{a.current.stop()}catch(A){ct("Stop camB error:",A)}a.current=null}d.current&&(d.current.getTracks().forEach(A=>A.stop()),d.current=null);const R=t.current;R&&(R.srcObject=null),await new Promise(A=>setTimeout(A,100)),await q(z,t,d),await new Promise(A=>setTimeout(A,200)),await fe(),await ve("B",t,a),ct("Camera B switched to:",z)}}catch(R){console.error("[Detector2] Camera switch error:",R),C(`Camera switch error: ${R.message}`)}};return y.jsxs("div",{className:`detector-window ${E?"minimized":""}`,children:[y.jsxs("div",{className:"detector-header",children:[y.jsx("span",{children:"Bracelet Detector 2 (Two Cameras)"}),y.jsxs("div",{className:"detector-controls",children:[y.jsx("button",{onClick:()=>N(!E),children:E?"":""}),y.jsx("button",{onClick:()=>me(!Y),title:"Toggle A criterion",children:Y?"A=Top":"A=Bottom"})]})]}),y.jsxs("div",{className:"detector-content",style:{display:E?"none":"block"},children:[y.jsxs("div",{style:{display:"flex",gap:8},children:[y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{style:{fontSize:12,opacity:.8,marginBottom:4,display:"flex",alignItems:"center",gap:4},children:[y.jsx("span",{children:"Camera A:"}),y.jsx("select",{value:ne,onChange:j=>le("A",j.target.value),style:{fontSize:10,padding:"2px 4px",maxWidth:120},children:_.map(j=>y.jsx("option",{value:j.deviceId,children:j.label||`Camera ${j.deviceId.slice(0,8)}`},j.deviceId))})]}),y.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),y.jsx("canvas",{ref:n,className:"output_canvas"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{style:{fontSize:12,opacity:.8,marginBottom:4,display:"flex",alignItems:"center",gap:4},children:[y.jsx("span",{children:"Camera B:"}),y.jsx("select",{value:$,onChange:j=>le("B",j.target.value),style:{fontSize:10,padding:"2px 4px",maxWidth:120},children:_.map(j=>y.jsx("option",{value:j.deviceId,children:j.label||`Camera ${j.deviceId.slice(0,8)}`},j.deviceId))})]}),y.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:"-9999px",left:"-9999px",width:1,height:1}}),y.jsx("canvas",{ref:r,className:"output_canvas"})]})]}),y.jsxs("div",{className:"detector-info",style:{marginTop:8},children:[y.jsxs("div",{className:"status-display",children:["Merged: ",y.jsx("strong",{children:H.merged})]}),y.jsxs("div",{className:"color-swatches",style:{display:"flex",alignItems:"center",gap:12,marginTop:4},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[y.jsx("span",{style:{fontSize:12,opacity:.8},children:"A"}),y.jsx("span",{title:"Player A calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:S?Q(S):"#444"}})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[y.jsx("span",{style:{fontSize:12,opacity:.8},children:"B"}),y.jsx("span",{title:"Player B calibrated color",style:{width:14,height:14,borderRadius:3,border:"1px solid #666",display:"inline-block",background:k?Q(k):"#444"}})]})]}),y.jsxs("div",{className:"calib-summary",style:{fontSize:12,opacity:.8,marginTop:4,lineHeight:1.4},children:[y.jsxs("div",{children:["A: ",S?`h${Math.round(S.h)} s${Math.round(S.s)} v${Math.round(S.v)}`:""]}),y.jsxs("div",{children:["B: ",k?`h${Math.round(k.h)} s${Math.round(k.s)} v${Math.round(k.v)}`:""]})]}),v&&y.jsxs("div",{style:{color:"#f55",marginTop:4},children:["Camera error: ",v]}),y.jsxs("div",{style:{fontSize:12,marginTop:6},children:[y.jsx("strong",{children:"Note:"})," Detects topmost hand across both cameras. Use A=Top/A=Bottom to switch criterion."]})]})]})]})}const Tv=!1;function Av(){const[e,t]=I.useState(!1),[n,r]=I.useState(null),[o,l]=I.useState(null),[a,f]=I.useState(window.location.hash);I.useEffect(()=>{const C=()=>{f(window.location.hash)};return window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[]);const d=C=>{r(C),t(!0)};I.useEffect(()=>()=>{o&&!o.closed&&o.close()},[o]),I.useEffect(()=>(window.secEnd=()=>{try{const C=nu();C.stop();const E=C.exportToJSON();localStorage.setItem("lastGameSession",E),C.downloadJSON(),window.location.hash="#/summary",console.log("Experience ended. JSON downloaded and saved. Redirecting to summary...")}catch(C){console.error("Error ending experience:",C),alert("Error ending experience: "+C.message)}},()=>{window.secEnd&&delete window.secEnd}),[]);let v=null;return a==="#/detector"?v=y.jsx(Yc,{}):a==="#/calibrate"?v=y.jsx(_v,{}):a==="#/detector2"?v=y.jsx(Mv,{}):a==="#/summary"?v=y.jsx(Pv,{}):v=e?y.jsxs(y.Fragment,{children:[y.jsx(jv,{config:n}),y.jsx(Yc,{}),Tv,y.jsx("div",{style:{position:"fixed",bottom:8,right:8,display:"flex",flexDirection:"column",gap:4,zIndex:9999},children:y.jsx("a",{href:"#/detector2",style:{background:"#222",color:"#fff",padding:"4px 8px",borderRadius:4,fontSize:12,textDecoration:"none"},children:"Detector2"})})]}):y.jsx(gv,{onStart:d}),y.jsx("div",{className:"App",children:v})}as.createRoot(document.getElementById("root")).render(y.jsx(lp.StrictMode,{children:y.jsx(Av,{})}));
